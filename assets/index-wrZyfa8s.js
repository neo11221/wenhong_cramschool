(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Bv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pd={exports:{}},Eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function tS(){if(e_)return Eo;e_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Eo.Fragment=t,Eo.jsx=a,Eo.jsxs=a,Eo}var n_;function eS(){return n_||(n_=1,Pd.exports=tS()),Pd.exports}var p=eS(),zd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function nS(){if(i_)return St;i_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function N(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,O={};function W(j,tt,lt){this.props=j,this.context=tt,this.refs=O,this.updater=lt||M}W.prototype.isReactComponent={},W.prototype.setState=function(j,tt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,tt,"setState")},W.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function at(){}at.prototype=W.prototype;function $(j,tt,lt){this.props=j,this.context=tt,this.refs=O,this.updater=lt||M}var dt=$.prototype=new at;dt.constructor=$,B(dt,W.prototype),dt.isPureReactComponent=!0;var mt=Array.isArray;function yt(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(j,tt,lt){var ot=lt.ref;return{$$typeof:i,type:j,key:tt,ref:ot!==void 0?ot:null,props:lt}}function L(j,tt){return R(j.type,tt,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var tt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(lt){return tt[lt]})}var C=/\/+/g;function re(j,tt){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):tt.toString(36)}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(yt,yt):(j.status="pending",j.then(function(tt){j.status==="pending"&&(j.status="fulfilled",j.value=tt)},function(tt){j.status==="pending"&&(j.status="rejected",j.reason=tt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,tt,lt,ot,Et){var xt=typeof j;(xt==="undefined"||xt==="boolean")&&(j=null);var Dt=!1;if(j===null)Dt=!0;else switch(xt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(j.$$typeof){case i:case t:Dt=!0;break;case T:return Dt=j._init,X(Dt(j._payload),tt,lt,ot,Et)}}if(Dt)return Et=Et(j),Dt=ot===""?"."+re(j,0):ot,mt(Et)?(lt="",Dt!=null&&(lt=Dt.replace(C,"$&/")+"/"),X(Et,tt,lt,"",function(hi){return hi})):Et!=null&&(V(Et)&&(Et=L(Et,lt+(Et.key==null||j&&j.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Dt)),tt.push(Et)),1;Dt=0;var _e=ot===""?".":ot+":";if(mt(j))for(var ee=0;ee<j.length;ee++)ot=j[ee],xt=_e+re(ot,ee),Dt+=X(ot,tt,lt,xt,Et);else if(ee=N(j),typeof ee=="function")for(j=ee.call(j),ee=0;!(ot=j.next()).done;)ot=ot.value,xt=_e+re(ot,ee++),Dt+=X(ot,tt,lt,xt,Et);else if(xt==="object"){if(typeof j.then=="function")return X(ye(j),tt,lt,ot,Et);throw tt=String(j),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function st(j,tt,lt){if(j==null)return j;var ot=[],Et=0;return X(j,ot,"","",function(xt){return tt.call(lt,xt,Et++)}),ot}function pt(j){if(j._status===-1){var tt=j._result;tt=tt(),tt.then(function(lt){(j._status===0||j._status===-1)&&(j._status=1,j._result=lt)},function(lt){(j._status===0||j._status===-1)&&(j._status=2,j._result=lt)}),j._status===-1&&(j._status=0,j._result=tt)}if(j._status===1)return j._result.default;throw j._result}var jt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},qt={map:st,forEach:function(j,tt,lt){st(j,function(){tt.apply(this,arguments)},lt)},count:function(j){var tt=0;return st(j,function(){tt++}),tt},toArray:function(j){return st(j,function(tt){return tt})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return St.Activity=b,St.Children=qt,St.Component=W,St.Fragment=a,St.Profiler=o,St.PureComponent=$,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},St.cache=function(j){return function(){return j.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(j,tt,lt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ot=B({},j.props),Et=j.key;if(tt!=null)for(xt in tt.key!==void 0&&(Et=""+tt.key),tt)!w.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ot[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ot.children=lt;else if(1<xt){for(var Dt=Array(xt),_e=0;_e<xt;_e++)Dt[_e]=arguments[_e+2];ot.children=Dt}return R(j.type,Et,ot)},St.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},St.createElement=function(j,tt,lt){var ot,Et={},xt=null;if(tt!=null)for(ot in tt.key!==void 0&&(xt=""+tt.key),tt)w.call(tt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Et[ot]=tt[ot]);var Dt=arguments.length-2;if(Dt===1)Et.children=lt;else if(1<Dt){for(var _e=Array(Dt),ee=0;ee<Dt;ee++)_e[ee]=arguments[ee+2];Et.children=_e}if(j&&j.defaultProps)for(ot in Dt=j.defaultProps,Dt)Et[ot]===void 0&&(Et[ot]=Dt[ot]);return R(j,xt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(j){return{$$typeof:m,render:j}},St.isValidElement=V,St.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:pt}},St.memo=function(j,tt){return{$$typeof:y,type:j,compare:tt===void 0?null:tt}},St.startTransition=function(j){var tt=I.T,lt={};I.T=lt;try{var ot=j(),Et=I.S;Et!==null&&Et(lt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(yt,jt)}catch(xt){jt(xt)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),I.T=tt}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(j){return I.H.use(j)},St.useActionState=function(j,tt,lt){return I.H.useActionState(j,tt,lt)},St.useCallback=function(j,tt){return I.H.useCallback(j,tt)},St.useContext=function(j){return I.H.useContext(j)},St.useDebugValue=function(){},St.useDeferredValue=function(j,tt){return I.H.useDeferredValue(j,tt)},St.useEffect=function(j,tt){return I.H.useEffect(j,tt)},St.useEffectEvent=function(j){return I.H.useEffectEvent(j)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(j,tt,lt){return I.H.useImperativeHandle(j,tt,lt)},St.useInsertionEffect=function(j,tt){return I.H.useInsertionEffect(j,tt)},St.useLayoutEffect=function(j,tt){return I.H.useLayoutEffect(j,tt)},St.useMemo=function(j,tt){return I.H.useMemo(j,tt)},St.useOptimistic=function(j,tt){return I.H.useOptimistic(j,tt)},St.useReducer=function(j,tt,lt){return I.H.useReducer(j,tt,lt)},St.useRef=function(j){return I.H.useRef(j)},St.useState=function(j){return I.H.useState(j)},St.useSyncExternalStore=function(j,tt,lt){return I.H.useSyncExternalStore(j,tt,lt)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.3",St}var a_;function Pm(){return a_||(a_=1,zd.exports=nS()),zd.exports}var P=Pm();const iS=Bv(P);var Bd={exports:{}},vo={},Hd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function aS(){return s_||(s_=1,(function(i){function t(X,st){var pt=X.length;X.push(st);t:for(;0<pt;){var jt=pt-1>>>1,qt=X[jt];if(0<o(qt,st))X[jt]=st,X[pt]=qt,pt=jt;else break t}}function a(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var st=X[0],pt=X.pop();if(pt!==st){X[0]=pt;t:for(var jt=0,qt=X.length,j=qt>>>1;jt<j;){var tt=2*(jt+1)-1,lt=X[tt],ot=tt+1,Et=X[ot];if(0>o(lt,pt))ot<qt&&0>o(Et,lt)?(X[jt]=Et,X[ot]=pt,jt=ot):(X[jt]=lt,X[tt]=pt,jt=tt);else if(ot<qt&&0>o(Et,pt))X[jt]=Et,X[ot]=pt,jt=ot;else break t}}return st}function o(X,st){var pt=X.sortIndex-st.sortIndex;return pt!==0?pt:X.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var _=[],y=[],T=1,b=null,S=3,N=!1,M=!1,B=!1,O=!1,W=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function dt(X){for(var st=a(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=X)s(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=a(y)}}function mt(X){if(B=!1,dt(X),!M)if(a(_)!==null)M=!0,yt||(yt=!0,z());else{var st=a(y);st!==null&&ye(mt,st.startTime-X)}}var yt=!1,I=-1,w=5,R=-1;function L(){return O?!0:!(i.unstable_now()-R<w)}function V(){if(O=!1,yt){var X=i.unstable_now();R=X;var st=!0;try{t:{M=!1,B&&(B=!1,at(I),I=-1),N=!0;var pt=S;try{e:{for(dt(X),b=a(_);b!==null&&!(b.expirationTime>X&&L());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,S=b.priorityLevel;var qt=jt(b.expirationTime<=X);if(X=i.unstable_now(),typeof qt=="function"){b.callback=qt,dt(X),st=!0;break e}b===a(_)&&s(_),dt(X)}else s(_);b=a(_)}if(b!==null)st=!0;else{var j=a(y);j!==null&&ye(mt,j.startTime-X),st=!1}}break t}finally{b=null,S=pt,N=!1}st=void 0}}finally{st?z():yt=!1}}}var z;if(typeof $=="function")z=function(){$(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=V,z=function(){re.postMessage(null)}}else z=function(){W(V,0)};function ye(X,st){I=W(function(){X(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var pt=S;S=st;try{return X()}finally{S=pt}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pt=S;S=X;try{return st()}finally{S=pt}},i.unstable_scheduleCallback=function(X,st,pt){var jt=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?jt+pt:jt):pt=jt,X){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=pt+qt,X={id:T++,callback:st,priorityLevel:X,startTime:pt,expirationTime:qt,sortIndex:-1},pt>jt?(X.sortIndex=pt,t(y,X),a(_)===null&&X===a(y)&&(B?(at(I),I=-1):B=!0,ye(mt,pt-jt))):(X.sortIndex=qt,t(_,X),M||N||(M=!0,yt||(yt=!0,z()))),X},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(X){var st=S;return function(){var pt=S;S=st;try{return X.apply(this,arguments)}finally{S=pt}}}})(Gd)),Gd}var r_;function sS(){return r_||(r_=1,Hd.exports=aS()),Hd.exports}var qd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function rS(){if(l_)return nn;l_=1;var i=Pm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:y,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,T)},nn.flushSync=function(_){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,_)return _()}finally{f.T=y,s.p=T,s.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):T==="script"&&s.d.X(_,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},nn.requestFormReset=function(_){s.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,T){return f.H.useFormState(_,y,T)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var o_;function lS(){if(o_)return qd.exports;o_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),qd.exports=rS(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function oS(){if(u_)return vo;u_=1;var i=sS(),t=Pm(),a=lS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),e;if(d===l)return _(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var E=!1,x=h.child;x;){if(x===r){E=!0,r=h,l=d;break}if(x===l){E=!0,l=h,r=d;break}x=x.sibling}if(!E){for(x=d.child;x;){if(x===r){E=!0,r=d,l=h;break}if(x===l){E=!0,l=d,r=h;break}x=x.sibling}if(!E)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),$=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case W:return"Profiler";case O:return"StrictMode";case mt:return"Suspense";case yt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case $:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var ye=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},jt=[],qt=-1;function j(e){return{current:e}}function tt(e){0>qt||(e.current=jt[qt],jt[qt]=null,qt--)}function lt(e,n){qt++,jt[qt]=e.current,e.current=n}var ot=j(null),Et=j(null),xt=j(null),Dt=j(null);function _e(e,n){switch(lt(xt,n),lt(Et,e),lt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sy(n),e=Ay(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ot),lt(ot,e)}function ee(){tt(ot),tt(Et),tt(xt)}function hi(e){e.memoizedState!==null&&lt(Dt,e);var n=ot.current,r=Ay(n,e.type);n!==r&&(lt(Et,e),lt(ot,r))}function fi(e){Et.current===e&&(tt(ot),tt(Et)),Dt.current===e&&(tt(Dt),po._currentValue=pt)}var qi,Vn;function Sn(e){if(qi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qi=n&&n[1]||"",Vn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+e+Vn}var ba=!1;function di(e,n){if(!e||ba)return"";ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var Y=Q}Reflect.construct(e,[],et)}else{try{et.call()}catch(Q){Y=Q}e.call(et.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],x=d[1];if(E&&x){var D=E.split(`
`),F=x.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var J=`
`+D[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Sn(r):""}function xa(e,n){switch(e.tag){case 26:case 27:case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return e.child!==n&&n!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return di(e.type,!1);case 11:return di(e.type.render,!1);case 1:return di(e.type,!0);case 31:return Sn("Activity");default:return""}}function Fi(e){try{var n="",r=null;do n+=xa(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,ve=i.unstable_scheduleCallback,mi=i.unstable_cancelCallback,yl=i.unstable_shouldYield,nr=i.unstable_requestPaint,Fe=i.unstable_now,Yi=i.unstable_getCurrentPriorityLevel,ps=i.unstable_ImmediatePriority,gs=i.unstable_UserBlockingPriority,pi=i.unstable_NormalPriority,_l=i.unstable_LowPriority,ir=i.unstable_IdlePriority,ar=i.log,sr=i.unstable_setDisableYieldValue,hn=null,H=null;function It(e){if(typeof ar=="function"&&sr(e),H&&typeof H.setStrictMode=="function")try{H.setStrictMode(hn,e)}catch{}}var Pt=Math.clz32?Math.clz32:rr,Ki=Math.log,Ye=Math.LN2;function rr(e){return e>>>=0,e===0?32:31-(Ki(e)/Ye|0)|0}var fn=256,gi=262144,Xt=4194304;function yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=yi(l):(E&=x,E!==0?h=yi(E):r||(r=x&~e,r!==0&&(h=yi(r))))):(x=l&~d,x!==0?h=yi(x):E!==0?h=yi(E):r||(r=l&~e,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),e}function Ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ys(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,n,r,l,h,d){var E=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var x=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(r=E&~r;0<r;){var J=31-Pt(r),et=1<<J;x[J]=0,D[J]=-1;var Y=F[J];if(Y!==null)for(F[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}r&=~et}l!==0&&_s(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~n))}function _s(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Pt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function El(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Pt(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function vl(e,n){var r=n&-n;return r=(r&42)!==0?1:Es(r),(r&(e.suspendedLanes|n))!==0?0:r}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function ti(e,n){var r=st.p;try{return st.p=e,n()}finally{st.p=r}}var ei=Math.random().toString(36).slice(2),Re="__reactFiber$"+ei,Be="__reactProps$"+ei,vi="__reactContainer$"+ei,lr="__reactEvents$"+ei,qh="__reactListeners$"+ei,su="__reactHandles$"+ei,ru="__reactResources$"+ei,Ti="__reactMarker$"+ei;function or(e){delete e[Re],delete e[Be],delete e[lr],delete e[qh],delete e[su]}function bi(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[vi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Oy(e);e!==null;){if(r=e[Re])return r;e=Oy(e)}return n}e=r,r=e.parentNode}return null}function Un(e){if(e=e[Re]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function xi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[Ti]=!0}var Tl=new Set,bl={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(bl[e]=n,e=0;e<n.length;e++)Tl.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},Al={};function lu(e){return Ee.call(Al,e)?!0:Ee.call(Sl,e)?!1:xl.test(e)?Al[e]=!0:(Sl[e]=!0,!1)}function ur(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function wn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sa(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){r=""+E,d.call(this,E)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Sa(e)?"checked":"value";e._valueTracker=wl(e,n,""+e[n])}}function vs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Sa(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ts=/[\n"\\]/g;function dn(e){return e.replace(Ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cr(e,n,r,l,h,d,E,x){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?Nl(e,E,He(n)):r!=null?Nl(e,E,He(r)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+He(x):e.removeAttribute("name")}function ou(e,n,r,l,h,d,E,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+He(r):"",n=n!=null?""+He(n):r,x||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Jt(e)}function Nl(e,n,r){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Aa(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+He(r):""}function wa(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=He(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Jt(e)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Il(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Rl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Rl(e,d,n[d])}function hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return Na.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var Cl=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Ni=null;function bs(e){var n=Un(e);if(n&&(e=n.stateNode)){var r=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(cr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Be]||null;if(!h)throw Error(s(90));cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&vs(l)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Aa(e,!!r.multiple,n,!1)}}}var dr=!1;function Ia(e,n,r){if(dr)return e(n,r);dr=!0;try{var l=e(n);return l}finally{if(dr=!1,(Ra!==null||Ni!==null)&&(ac(),Ra&&(n=Ra,e=Ni,Ni=Ra=null,bs(n),e)))for(n=0;n<e.length;n++)bs(e[n])}}function ii(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Be]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){xs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{xs=!1}var Ri=null,Dl=null,Ss=null;function Ol(){if(Ss)return Ss;var e,n=Dl,r=n.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(e=0;e<r&&n[e]===h[e];e++);var E=r-e;for(l=1;l<=E&&n[r-l]===h[d-l];l++);return Ss=h.slice(e,1<l?1-l:void 0)}function As(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function ai(){return!1}function Ke(e){function n(r,l,h,d,E){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ai,this.isPropagationStopped=ai,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke(Xi),Ca=b({},Xi,{view:0,detail:0}),Ml=Ke(Ca),Da,mr,Ci,pr=b({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Da=e.screenX-Ci.screenX,mr=e.screenY-Ci.screenY):mr=Da=0,Ci=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:mr}}),jl=Ke(pr),ws=b({},pr,{dataTransfer:0}),fu=Ke(ws),du=b({},Ca,{relatedTarget:0}),Ns=Ke(du),Vl=b({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Ke(Vl),gr=b({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Ke(gr),gu=b({},Xi,{data:0}),Di=Ke(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Oa(){return vu}var ln=b({},Ca,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Ke(ln),bu=b({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ke(bu),c=b({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),g=Ke(c),v=b({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(v),G=b({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ke(G),rt=b({},Xi,{newState:0,oldState:0}),wt=Ke(rt),xe=[9,13,27,32],Kt=kn&&"CompositionEvent"in window,fe=null;kn&&"documentMode"in document&&(fe=document.documentMode);var Pn=kn&&"TextEvent"in window&&!fe,Oi=kn&&(!Kt||fe&&8<fe&&11>=fe),si=" ",ri=!1;function Rs(e,n){switch(e){case"keyup":return xe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function Sb(e,n){switch(e){case"compositionend":return yr(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return e=n.data,e===si&&ri?null:e;default:return null}}function Ab(e,n){if(_r)return e==="compositionend"||!Kt&&Rs(e,n)?(e=Ol(),Ss=Dl=Ri=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wb[e.type]:n==="textarea"}function Up(e,n,r,l){Ra?Ni?Ni.push(l):Ni=[l]:Ra=l,n=hc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ul=null,Ll=null;function Nb(e){_y(e,0)}function xu(e){var n=An(e);if(vs(n))return e}function Lp(e,n){if(e==="change")return n}var kp=!1;if(kn){var Fh;if(kn){var Yh="oninput"in document;if(!Yh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Yh=typeof Pp.oninput=="function"}Fh=Yh}else Fh=!1;kp=Fh&&(!document.documentMode||9<document.documentMode)}function zp(){Ul&&(Ul.detachEvent("onpropertychange",Bp),Ll=Ul=null)}function Bp(e){if(e.propertyName==="value"&&xu(Ll)){var n=[];Up(n,Ll,e,Ln(e)),Ia(Nb,n)}}function Rb(e,n,r){e==="focusin"?(zp(),Ul=n,Ll=r,Ul.attachEvent("onpropertychange",Bp)):e==="focusout"&&zp()}function Ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(Ll)}function Cb(e,n){if(e==="click")return xu(n)}function Db(e,n){if(e==="input"||e==="change")return xu(n)}function Ob(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:Ob;function kl(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ee.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gp(e,n){var r=Hp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hp(r)}}function qp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=wi(e.document)}return n}function Kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Mb=kn&&"documentMode"in document&&11>=document.documentMode,Er=null,Qh=null,Pl=null,$h=!1;function Yp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$h||Er==null||Er!==wi(l)||(l=Er,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&kl(Pl,l)||(Pl=l,l=hc(Qh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Er)))}function Is(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var vr={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Xh={},Kp={};kn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Cs(e){if(Xh[e])return Xh[e];if(!vr[e])return e;var n=vr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kp)return Xh[e]=n[r];return e}var Qp=Cs("animationend"),$p=Cs("animationiteration"),Xp=Cs("animationstart"),jb=Cs("transitionrun"),Vb=Cs("transitionstart"),Ub=Cs("transitioncancel"),Jp=Cs("transitionend"),Zp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function li(e,n){Zp.set(e,n),Si(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Tr=0,Zh=0;function Au(){for(var e=Tr,n=Zh=Tr=0;n<e;){var r=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var d=zn[n];if(zn[n++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Wp(r,h,d)}}function wu(e,n,r,l){zn[Tr++]=e,zn[Tr++]=n,zn[Tr++]=r,zn[Tr++]=l,Zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wh(e,n,r,l){return wu(e,n,r,l),Nu(e)}function Ds(e,n){return wu(e,null,null,n),Nu(e)}function Wp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Pt(r),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Nu(e){if(50<lo)throw lo=0,ud=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var br={};function Lb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,l){return new Lb(e,n,r,l)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function tg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,l,h,d){var E=0;if(l=e,typeof e=="function")tf(e)&&(E=1);else if(typeof e=="string")E=Hx(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Rn(31,r,n,h),e.elementType=R,e.lanes=d,e;case B:return Os(r.children,h,d,n);case O:E=8,h|=24;break;case W:return e=Rn(12,r,n,h|2),e.elementType=W,e.lanes=d,e;case mt:return e=Rn(13,r,n,h),e.elementType=mt,e.lanes=d,e;case yt:return e=Rn(19,r,n,h),e.elementType=yt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:E=10;break t;case at:E=9;break t;case dt:E=11;break t;case I:E=14;break t;case w:E=16,l=null;break t}E=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Rn(E,r,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Os(e,n,r,l){return e=Rn(7,e,l,n),e.lanes=r,e}function ef(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function eg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function nf(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ng=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var r=ng.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Fi(n)},ng.set(e,n),n)}return{value:e,source:n,stack:Fi(n)}}var xr=[],Sr=0,Iu=null,zl=0,Hn=[],Gn=0,Ma=null,Mi=1,ji="";function Wi(e,n){xr[Sr++]=zl,xr[Sr++]=Iu,Iu=e,zl=n}function ig(e,n,r){Hn[Gn++]=Mi,Hn[Gn++]=ji,Hn[Gn++]=Ma,Ma=e;var l=Mi;e=ji;var h=32-Pt(l)-1;l&=~(1<<h),r+=1;var d=32-Pt(n)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Mi=1<<32-Pt(n)+h|r<<h|l,ji=d+e}else Mi=1<<d|r<<h|l,ji=e}function af(e){e.return!==null&&(Wi(e,1),ig(e,1,0))}function sf(e){for(;e===Iu;)Iu=xr[--Sr],xr[Sr]=null,zl=xr[--Sr],xr[Sr]=null;for(;e===Ma;)Ma=Hn[--Gn],Hn[Gn]=null,ji=Hn[--Gn],Hn[Gn]=null,Mi=Hn[--Gn],Hn[Gn]=null}function ag(e,n){Hn[Gn++]=Mi,Hn[Gn++]=ji,Hn[Gn++]=Ma,Mi=n.id,ji=n.overflow,Ma=e}var Qe=null,oe=null,zt=!1,ja=null,qn=!1,rf=Error(s(519));function Va(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Bn(n,e)),rf}function sg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Re]=e,n[Be]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<uo.length;r++)Mt(uo[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),wa(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||by(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Va(e,!0)}function rg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Qe=Qe.return}}function Ar(e){if(e!==Qe)return!1;if(!zt)return rg(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Sd(e.type,e.memoizedProps)),r=!r),r&&oe&&Va(e),rg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));oe=Dy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));oe=Dy(e)}else n===27?(n=oe,$a(e.type)?(e=Id,Id=null,oe=e):oe=n):oe=Qe?Yn(e.stateNode.nextSibling):null;return!0}function Ms(){oe=Qe=null,zt=!1}function lf(){var e=ja;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),ja=null),e}function Bl(e){ja===null?ja=[e]:ja.push(e)}var of=j(null),js=null,ta=null;function Ua(e,n,r){lt(of,n._currentValue),n._currentValue=r}function ea(e){e._currentValue=of.current,tt(of)}function uf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function cf(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var D=0;D<n.length;D++)if(x.context===n[D]){d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),uf(d.return,r,e),l||(E=null);break t}d=x.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=r,d=E.alternate,d!==null&&(d.lanes|=r),uf(E,r,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function wr(e,n,r,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var x=h.type;Nn(h.pendingProps.value,E.value)||(e!==null?e.push(x):e=[x])}}else if(h===Dt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}h=h.return}e!==null&&cf(n,e,r,l),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){js=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return lg(js,e)}function Du(e,n){return js===null&&Vs(e),lg(e,n)}function lg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ta===null){if(e===null)throw Error(s(308));ta=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ta=ta.next=n;return r}var kb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Pb=i.unstable_scheduleCallback,zb=i.unstable_NormalPriority,De={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new kb,data:new Map,refCount:0}}function Hl(e){e.refCount--,e.refCount===0&&Pb(zb,function(){e.controller.abort()})}var Gl=null,ff=0,Nr=0,Rr=null;function Bb(e,n){if(Gl===null){var r=Gl=[];ff=0,Nr=pd(),Rr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ff++,n.then(og,og),n}function og(){if(--ff===0&&Gl!==null){Rr!==null&&(Rr.status="fulfilled");var e=Gl;Gl=null,Nr=0,Rr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Hb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ug=X.S;X.S=function(e,n){Y0=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bb(e,n),ug!==null&&ug(e,n)};var Us=j(null);function df(){var e=Us.current;return e!==null?e:le.pooledCache}function Ou(e,n){n===null?lt(Us,Us.current):lt(Us,n.pool)}function cg(){var e=df();return e===null?null:{parent:De._currentValue,pool:e}}var Ir=Error(s(460)),mf=Error(s(474)),Mu=Error(s(542)),ju={then:function(){}};function hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e}throw ks=n,Ir}}function Ls(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ks=r,Ir):r}}var ks=null;function dg(){if(ks===null)throw Error(s(459));var e=ks;return ks=null,e}function mg(e){if(e===Ir||e===Mu)throw Error(s(483))}var Cr=null,ql=0;function Vu(e){var n=ql;return ql+=1,Cr===null&&(Cr=[]),fg(Cr,e,n)}function Fl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pg(e){function n(k,U){if(e){var q=k.deletions;q===null?(k.deletions=[U],k.flags|=16):q.push(U)}}function r(k,U){if(!e)return null;for(;U!==null;)n(k,U),U=U.sibling;return null}function l(k){for(var U=new Map;k!==null;)k.key!==null?U.set(k.key,k):U.set(k.index,k),k=k.sibling;return U}function h(k,U){return k=Zi(k,U),k.index=0,k.sibling=null,k}function d(k,U,q){return k.index=q,e?(q=k.alternate,q!==null?(q=q.index,q<U?(k.flags|=67108866,U):q):(k.flags|=67108866,U)):(k.flags|=1048576,U)}function E(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function x(k,U,q,Z){return U===null||U.tag!==6?(U=ef(q,k.mode,Z),U.return=k,U):(U=h(U,q),U.return=k,U)}function D(k,U,q,Z){var gt=q.type;return gt===B?J(k,U,q.props.children,Z,q.key):U!==null&&(U.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Ls(gt)===U.type)?(U=h(U,q.props),Fl(U,q),U.return=k,U):(U=Ru(q.type,q.key,q.props,null,k.mode,Z),Fl(U,q),U.return=k,U)}function F(k,U,q,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=nf(q,k.mode,Z),U.return=k,U):(U=h(U,q.children||[]),U.return=k,U)}function J(k,U,q,Z,gt){return U===null||U.tag!==7?(U=Os(q,k.mode,Z,gt),U.return=k,U):(U=h(U,q),U.return=k,U)}function et(k,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ef(""+U,k.mode,q),U.return=k,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return q=Ru(U.type,U.key,U.props,null,k.mode,q),Fl(q,U),q.return=k,q;case M:return U=nf(U,k.mode,q),U.return=k,U;case w:return U=Ls(U),et(k,U,q)}if(ye(U)||z(U))return U=Os(U,k.mode,q,null),U.return=k,U;if(typeof U.then=="function")return et(k,Vu(U),q);if(U.$$typeof===$)return et(k,Du(k,U),q);Uu(k,U)}return null}function Y(k,U,q,Z){var gt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:x(k,U,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===gt?D(k,U,q,Z):null;case M:return q.key===gt?F(k,U,q,Z):null;case w:return q=Ls(q),Y(k,U,q,Z)}if(ye(q)||z(q))return gt!==null?null:J(k,U,q,Z,null);if(typeof q.then=="function")return Y(k,U,Vu(q),Z);if(q.$$typeof===$)return Y(k,U,Du(k,q),Z);Uu(k,q)}return null}function Q(k,U,q,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(q)||null,x(U,k,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return k=k.get(Z.key===null?q:Z.key)||null,D(U,k,Z,gt);case M:return k=k.get(Z.key===null?q:Z.key)||null,F(U,k,Z,gt);case w:return Z=Ls(Z),Q(k,U,q,Z,gt)}if(ye(Z)||z(Z))return k=k.get(q)||null,J(U,k,Z,gt,null);if(typeof Z.then=="function")return Q(k,U,q,Vu(Z),gt);if(Z.$$typeof===$)return Q(k,U,q,Du(U,Z),gt);Uu(U,Z)}return null}function ct(k,U,q,Z){for(var gt=null,Ft=null,ft=U,Rt=U=0,Ut=null;ft!==null&&Rt<q.length;Rt++){ft.index>Rt?(Ut=ft,ft=null):Ut=ft.sibling;var Yt=Y(k,ft,q[Rt],Z);if(Yt===null){ft===null&&(ft=Ut);break}e&&ft&&Yt.alternate===null&&n(k,ft),U=d(Yt,U,Rt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt,ft=Ut}if(Rt===q.length)return r(k,ft),zt&&Wi(k,Rt),gt;if(ft===null){for(;Rt<q.length;Rt++)ft=et(k,q[Rt],Z),ft!==null&&(U=d(ft,U,Rt),Ft===null?gt=ft:Ft.sibling=ft,Ft=ft);return zt&&Wi(k,Rt),gt}for(ft=l(ft);Rt<q.length;Rt++)Ut=Q(ft,k,Rt,q[Rt],Z),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?Rt:Ut.key),U=d(Ut,U,Rt),Ft===null?gt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&ft.forEach(function(ts){return n(k,ts)}),zt&&Wi(k,Rt),gt}function vt(k,U,q,Z){if(q==null)throw Error(s(151));for(var gt=null,Ft=null,ft=U,Rt=U=0,Ut=null,Yt=q.next();ft!==null&&!Yt.done;Rt++,Yt=q.next()){ft.index>Rt?(Ut=ft,ft=null):Ut=ft.sibling;var ts=Y(k,ft,Yt.value,Z);if(ts===null){ft===null&&(ft=Ut);break}e&&ft&&ts.alternate===null&&n(k,ft),U=d(ts,U,Rt),Ft===null?gt=ts:Ft.sibling=ts,Ft=ts,ft=Ut}if(Yt.done)return r(k,ft),zt&&Wi(k,Rt),gt;if(ft===null){for(;!Yt.done;Rt++,Yt=q.next())Yt=et(k,Yt.value,Z),Yt!==null&&(U=d(Yt,U,Rt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt);return zt&&Wi(k,Rt),gt}for(ft=l(ft);!Yt.done;Rt++,Yt=q.next())Yt=Q(ft,k,Rt,Yt.value,Z),Yt!==null&&(e&&Yt.alternate!==null&&ft.delete(Yt.key===null?Rt:Yt.key),U=d(Yt,U,Rt),Ft===null?gt=Yt:Ft.sibling=Yt,Ft=Yt);return e&&ft.forEach(function(Wx){return n(k,Wx)}),zt&&Wi(k,Rt),gt}function se(k,U,q,Z){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:t:{for(var gt=q.key;U!==null;){if(U.key===gt){if(gt=q.type,gt===B){if(U.tag===7){r(k,U.sibling),Z=h(U,q.props.children),Z.return=k,k=Z;break t}}else if(U.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Ls(gt)===U.type){r(k,U.sibling),Z=h(U,q.props),Fl(Z,q),Z.return=k,k=Z;break t}r(k,U);break}else n(k,U);U=U.sibling}q.type===B?(Z=Os(q.props.children,k.mode,Z,q.key),Z.return=k,k=Z):(Z=Ru(q.type,q.key,q.props,null,k.mode,Z),Fl(Z,q),Z.return=k,k=Z)}return E(k);case M:t:{for(gt=q.key;U!==null;){if(U.key===gt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){r(k,U.sibling),Z=h(U,q.children||[]),Z.return=k,k=Z;break t}else{r(k,U);break}else n(k,U);U=U.sibling}Z=nf(q,k.mode,Z),Z.return=k,k=Z}return E(k);case w:return q=Ls(q),se(k,U,q,Z)}if(ye(q))return ct(k,U,q,Z);if(z(q)){if(gt=z(q),typeof gt!="function")throw Error(s(150));return q=gt.call(q),vt(k,U,q,Z)}if(typeof q.then=="function")return se(k,U,Vu(q),Z);if(q.$$typeof===$)return se(k,U,Du(k,q),Z);Uu(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(r(k,U.sibling),Z=h(U,q),Z.return=k,k=Z):(r(k,U),Z=ef(q,k.mode,Z),Z.return=k,k=Z),E(k)):r(k,U)}return function(k,U,q,Z){try{ql=0;var gt=se(k,U,q,Z);return Cr=null,gt}catch(ft){if(ft===Ir||ft===Mu)throw ft;var Ft=Rn(29,ft,null,k.mode);return Ft.lanes=Z,Ft.return=k,Ft}finally{}}}var Ps=pg(!0),gg=pg(!1),La=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(e),Wp(e,null,r),n}return wu(e,l,n,r),Nu(e)}function Yl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,El(e,r)}}function yf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var _f=!1;function Kl(){if(_f){var e=Rr;if(e!==null)throw e}}function Ql(e,n,r,l){_f=!1;var h=e.updateQueue;La=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var D=x,F=D.next;D.next=null,E===null?d=F:E.next=F,E=D;var J=e.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==E&&(x===null?J.firstBaseUpdate=F:x.next=F,J.lastBaseUpdate=D))}if(d!==null){var et=h.baseState;E=0,J=F=D=null,x=d;do{var Y=x.lane&-536870913,Q=Y!==x.lane;if(Q?(Vt&Y)===Y:(l&Y)===Y){Y!==0&&Y===Nr&&(_f=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var ct=e,vt=x;Y=n;var se=r;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){et=ct.call(se,et,Y);break t}et=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,Y=typeof ct=="function"?ct.call(se,et,Y):ct,Y==null)break t;et=b({},et,Y);break t;case 2:La=!0}}Y=x.callback,Y!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(F=J=Q,D=et):J=J.next=Q,E|=Y;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(D=et),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),qa|=E,e.lanes=E,e.memoizedState=et}}function yg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function _g(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)yg(r[e],n)}var Dr=j(null),Lu=j(0);function Eg(e,n){e=ca,lt(Lu,e),lt(Dr,n),ca=e|n.baseLanes}function Ef(){lt(Lu,ca),lt(Dr,Dr.current)}function vf(){ca=Lu.current,tt(Dr),tt(Lu)}var In=j(null),Fn=null;function za(e){var n=e.alternate;lt(Se,Se.current&1),lt(In,e),Fn===null&&(n===null||Dr.current!==null||n.memoizedState!==null)&&(Fn=e)}function Tf(e){lt(Se,Se.current),lt(In,e),Fn===null&&(Fn=e)}function vg(e){e.tag===22?(lt(Se,Se.current),lt(In,e),Fn===null&&(Fn=e)):Ba()}function Ba(){lt(Se,Se.current),lt(In,In.current)}function Cn(e){tt(In),Fn===e&&(Fn=null),tt(Se)}var Se=j(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Nd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var na=0,Nt=null,ie=null,Oe=null,Pu=!1,Or=!1,zs=!1,zu=0,$l=0,Mr=null,Gb=0;function Te(){throw Error(s(321))}function bf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Nn(e[r],n[r]))return!1;return!0}function xf(e,n,r,l,h,d){return na=d,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?i0:kf,zs=!1,d=r(l,h),zs=!1,Or&&(d=bg(n,r,l,h)),Tg(e),d}function Tg(e){X.H=Zl;var n=ie!==null&&ie.next!==null;if(na=0,Oe=ie=Nt=null,Pu=!1,$l=0,Mr=null,n)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Cu(e)&&(Me=!0))}function bg(e,n,r,l){Nt=e;var h=0;do{if(Or&&(Mr=null),$l=0,Or=!1,25<=h)throw Error(s(301));if(h+=1,Oe=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=a0,d=n(r,l)}while(Or);return d}function qb(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Xl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Nt.flags|=1024),n}function Sf(){var e=zu!==0;return zu=0,e}function Af(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function wf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}na=0,Oe=ie=Nt=null,Or=!1,$l=zu=0,Mr=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ae(){if(ie===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Oe===null?Nt.memoizedState:Oe.next;if(n!==null)Oe=n,ie=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(e){var n=$l;return $l+=1,Mr===null&&(Mr=[]),e=fg(Mr,e,n),n=Nt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?i0:kf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===$)return $e(e)}throw Error(s(438,String(e)))}function Nf(e){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=L;return n.index++,r}function ia(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Ae();return Rf(n,ie,e)}function Rf(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var x=E=null,D=null,F=n,J=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(Vt&et)===et:(na&et)===et){var Y=F.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===Nr&&(J=!0);else if((na&Y)===Y){F=F.next,Y===Nr&&(J=!0);continue}else et={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(x=D=et,E=d):D=D.next=et,Nt.lanes|=Y,qa|=Y;et=F.action,zs&&r(d,et),d=F.hasEagerState?F.eagerState:r(d,et)}else Y={lane:et,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(x=D=Y,E=d):D=D.next=Y,Nt.lanes|=et,qa|=et;F=F.next}while(F!==null&&F!==n);if(D===null?E=d:D.next=x,!Nn(d,e.memoizedState)&&(Me=!0,J&&(r=Rr,r!==null)))throw r;e.memoizedState=d,e.baseState=E,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function If(e){var n=Ae(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);Nn(d,n.memoizedState)||(Me=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function xg(e,n,r){var l=Nt,h=Ae(),d=zt;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var E=!Nn((ie||h).memoizedState,r);if(E&&(h.memoizedState=r,Me=!0),h=h.queue,Of(wg.bind(null,l,h,e),[e]),h.getSnapshot!==n||E||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,jr(9,{destroy:void 0},Ag.bind(null,l,h,r,n),null),le===null)throw Error(s(349));d||(na&127)!==0||Sg(l,n,r)}return r}function Sg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=Bu(),Nt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ag(e,n,r,l){n.value=r,n.getSnapshot=l,Ng(n)&&Rg(e)}function wg(e,n,r){return r(function(){Ng(n)&&Rg(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Nn(e,r)}catch{return!0}}function Rg(e){var n=Ds(e,2);n!==null&&En(n,e,2)}function Cf(e){var n=on();if(typeof e=="function"){var r=e;if(e=r(),zs){It(!0);try{r()}finally{It(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},n}function Ig(e,n,r,l){return e.baseState=r,Rf(e,ie,typeof l=="function"?l:ia)}function Fb(e,n,r,l,h){if(Yu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Cg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Cg(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=X.T,E={};X.T=E;try{var x=r(h,l),D=X.S;D!==null&&D(E,x),Dg(e,n,x)}catch(F){Df(e,n,F)}finally{d!==null&&E.types!==null&&(d.types=E.types),X.T=d}}else try{d=r(h,l),Dg(e,n,d)}catch(F){Df(e,n,F)}}function Dg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Og(e,n,l)},function(l){return Df(e,n,l)}):Og(e,n,r)}function Og(e,n,r){n.status="fulfilled",n.value=r,Mg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Cg(e,r)))}function Df(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Mg(n),n=n.next;while(n!==l)}e.action=null}function Mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function jg(e,n){return n}function Vg(e,n){if(zt){var r=le.formState;if(r!==null){t:{var l=Nt;if(zt){if(oe){e:{for(var h=oe,d=qn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Yn(h.nextSibling),l=h.data==="F!";break t}}Va(l)}l=!1}l&&(n=r[0])}}return r=on(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},r.queue=l,r=t0.bind(null,Nt,l),l.dispatch=r,l=Cf(!1),d=Lf.bind(null,Nt,!1,l.queue),l=on(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=Fb.bind(null,Nt,h,d,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function Ug(e){var n=Ae();return Lg(n,ie,e)}function Lg(e,n,r){if(n=Rf(e,n,jg)[0],e=Gu(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xl(n)}catch(E){throw E===Ir?Mu:E}else l=n;n=Ae();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,jr(9,{destroy:void 0},Yb.bind(null,h,r),null)),[l,d,e]}function Yb(e,n){e.action=n}function kg(e){var n=Ae(),r=ie;if(r!==null)return Lg(n,r,e);Ae(),n=n.memoizedState,r=Ae();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function jr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Bu(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Pg(){return Ae().memoizedState}function qu(e,n,r,l){var h=on();Nt.flags|=e,h.memoizedState=jr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Fu(e,n,r,l){var h=Ae();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&bf(l,ie.memoizedState.deps)?h.memoizedState=jr(n,d,r,l):(Nt.flags|=e,h.memoizedState=jr(1|n,d,r,l))}function zg(e,n){qu(8390656,8,e,n)}function Of(e,n){Fu(2048,8,e,n)}function Kb(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Bu(),Nt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Bg(e){var n=Ae().memoizedState;return Kb({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Hg(e,n){return Fu(4,2,e,n)}function Gg(e,n){return Fu(4,4,e,n)}function qg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,qg.bind(null,n,e),r)}function Mf(){}function Yg(e,n){var r=Ae();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Kg(e,n){var r=Ae();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=e(),zs){It(!0);try{e()}finally{It(!1)}}return r.memoizedState=[l,n],l}function jf(e,n,r){return r===void 0||(na&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Q0(),Nt.lanes|=e,qa|=e,r)}function Qg(e,n,r,l){return Nn(r,n)?r:Dr.current!==null?(e=jf(e,r,l),Nn(e,n)||(Me=!0),e):(na&42)===0||(na&1073741824)!==0&&(Vt&261930)===0?(Me=!0,e.memoizedState=r):(e=Q0(),Nt.lanes|=e,qa|=e,n)}function $g(e,n,r,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var E=X.T,x={};X.T=x,Lf(e,!1,n,r);try{var D=h(),F=X.S;if(F!==null&&F(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=Hb(D,l);Jl(e,n,J,Mn(e))}else Jl(e,n,l,Mn(e))}catch(et){Jl(e,n,{then:function(){},status:"rejected",reason:et},Mn())}finally{st.p=d,E!==null&&x.types!==null&&(E.types=x.types),X.T=E}}function Qb(){}function Vf(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=Xg(e).queue;$g(e,h,n,pt,r===null?Qb:function(){return Jg(e),r(l)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:pt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Jg(e){var n=Xg(e);n.next===null&&(n=e.alternate.memoizedState),Jl(e,n.next.queue,{},Mn())}function Uf(){return $e(po)}function Zg(){return Ae().memoizedState}function Wg(){return Ae().memoizedState}function $b(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mn();e=ka(r);var l=Pa(n,e,r);l!==null&&(En(l,n,r),Yl(l,n,r)),n={cache:hf()},e.payload=n;return}n=n.return}}function Xb(e,n,r){var l=Mn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?e0(n,r):(r=Wh(e,n,r,l),r!==null&&(En(r,e,l),n0(r,n,l)))}function t0(e,n,r){var l=Mn();Jl(e,n,r,l)}function Jl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))e0(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,x=d(E,r);if(h.hasEagerState=!0,h.eagerState=x,Nn(x,E))return wu(e,n,h,0),le===null&&Au(),!1}catch{}finally{}if(r=Wh(e,n,h,l),r!==null)return En(r,e,l),n0(r,n,l),!0}return!1}function Lf(e,n,r,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(s(479))}else n=Wh(e,r,l,2),n!==null&&En(n,e,2)}function Yu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function e0(e,n){Or=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function n0(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,El(e,r)}}var Zl={readContext:$e,use:Hu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Zl.useEffectEvent=Te;var i0={readContext:$e,use:Hu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:zg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,qg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=on();n=n===void 0?null:n;var l=e();if(zs){It(!0);try{e()}finally{It(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=on();if(r!==void 0){var h=r(n);if(zs){It(!0);try{r(n)}finally{It(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Xb.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=Cf(e);var n=e.queue,r=t0.bind(null,Nt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(e,n){var r=on();return jf(r,e,n)},useTransition:function(){var e=Cf(!1);return e=$g.bind(null,Nt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Nt,h=on();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),le===null)throw Error(s(349));(Vt&127)!==0||Sg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,zg(wg.bind(null,l,d,e),[e]),l.flags|=2048,jr(9,{destroy:void 0},Ag.bind(null,l,d,r,n),null),r},useId:function(){var e=on(),n=le.identifierPrefix;if(zt){var r=ji,l=Mi;r=(l&~(1<<32-Pt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Gb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Nt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Nf,useCacheRefresh:function(){return on().memoizedState=$b.bind(null,Nt)},useEffectEvent:function(e){var n=on(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},kf={readContext:$e,use:Hu,useCallback:Yg,useContext:$e,useEffect:Of,useImperativeHandle:Fg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Kg,useReducer:Gu,useRef:Pg,useState:function(){return Gu(ia)},useDebugValue:Mf,useDeferredValue:function(e,n){var r=Ae();return Qg(r,ie.memoizedState,e,n)},useTransition:function(){var e=Gu(ia)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:xg,useId:Zg,useHostTransitionStatus:Uf,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,n){var r=Ae();return Ig(r,ie,e,n)},useMemoCache:Nf,useCacheRefresh:Wg};kf.useEffectEvent=Bg;var a0={readContext:$e,use:Hu,useCallback:Yg,useContext:$e,useEffect:Of,useImperativeHandle:Fg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Kg,useReducer:If,useRef:Pg,useState:function(){return If(ia)},useDebugValue:Mf,useDeferredValue:function(e,n){var r=Ae();return ie===null?jf(r,e,n):Qg(r,ie.memoizedState,e,n)},useTransition:function(){var e=If(ia)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:xg,useId:Zg,useHostTransitionStatus:Uf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var r=Ae();return ie!==null?Ig(r,ie,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Wg};a0.useEffectEvent=Bg;function Pf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Mn(),h=ka(l);h.payload=n,r!=null&&(h.callback=r),n=Pa(e,h,l),n!==null&&(En(n,e,l),Yl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Mn(),h=ka(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Pa(e,h,l),n!==null&&(En(n,e,l),Yl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Mn(),l=ka(r);l.tag=2,n!=null&&(l.callback=n),n=Pa(e,l,r),n!==null&&(En(n,e,r),Yl(n,e,r))}};function s0(e,n,r,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):n.prototype&&n.prototype.isPureReactComponent?!kl(r,l)||!kl(h,d):!0}function r0(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Bs(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function l0(e){Su(e)}function o0(e){console.error(e)}function u0(e){Su(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function c0(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,r){return r=ka(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function h0(e){return e=ka(e),e.tag=3,e}function f0(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){c0(n,r,l)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){c0(n,r,l),typeof h!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Jb(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&wr(n,r,h,!0),r=In.current,r!==null){switch(r.tag){case 31:case 13:return Fn===null?sc():r.alternate===null&&be===0&&(be=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),fd(e,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),fd(e,l,h)),!1}throw Error(s(435,r.tag))}return fd(e,l,h),sc(),!1}if(zt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(e=Error(s(422),{cause:l}),Bl(Bn(e,r)))):(l!==rf&&(n=Error(s(423),{cause:l}),Bl(Bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Bn(l,r),h=Bf(e.stateNode,l,h),yf(e,h),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,r),ro===null?ro=[d]:ro.push(d),be!==4&&(be=2),n===null)return!0;l=Bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Bf(r.stateNode,l,e),yf(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fa===null||!Fa.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=h0(h),f0(h,e,r,l),yf(r,h),!1}r=r.return}while(r!==null);return!1}var Hf=Error(s(461)),Me=!1;function Xe(e,n,r,l){n.child=e===null?gg(n,null,r,l):Ps(n,e.child,r,l)}function d0(e,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var E={};for(var x in l)x!=="ref"&&(E[x]=l[x])}else E=l;return Vs(n),l=xf(e,n,r,E,d,h),x=Sf(),e!==null&&!Me?(Af(e,n,h),aa(e,n,h)):(zt&&x&&af(n),n.flags|=1,Xe(e,n,l,h),n.child)}function m0(e,n,r,l,h){if(e===null){var d=r.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,p0(e,n,d,l,h)):(e=Ru(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Xf(e,h)){var E=d.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(E,l)&&e.ref===n.ref)return aa(e,n,h)}return n.flags|=1,e=Zi(d,l),e.ref=n.ref,e.return=n,n.child=e}function p0(e,n,r,l,h){if(e!==null){var d=e.memoizedProps;if(kl(d,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=d,Xf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,aa(e,n,h)}return Gf(e,n,r,l,h)}function g0(e,n,r,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return y0(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,d!==null?d.cachePool:null),d!==null?Eg(n,d):Ef(),vg(n);else return l=n.lanes=536870912,y0(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Ou(n,d.cachePool),Eg(n,d),Ba(),n.memoizedState=null):(e!==null&&Ou(n,null),Ef(),Ba());return Xe(e,n,h,r),n.child}function Wl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function y0(e,n,r,l,h){var d=df();return d=d===null?null:{parent:De._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&Ou(n,null),Ef(),vg(n),e!==null&&wr(e,n,l,!0),n.childLanes=h,null}function Qu(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function _0(e,n,r){return Ps(n,e.child,null,r),e=Qu(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function Zb(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=Qu(n,l),n.lanes=536870912,Wl(null,e);if(Tf(n),(e=oe)?(e=Cy(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=eg(e),r.return=n,n.child=r,Qe=n,oe=null)):e=null,e===null)throw Va(n);return n.lanes=536870912,null}return Qu(n,l)}var d=e.memoizedState;if(d!==null){var E=d.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=_0(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Me||wr(e,n,r,!1),h=(r&e.childLanes)!==0,Me||h){if(l=le,l!==null&&(E=vl(l,r),E!==0&&E!==d.retryLane))throw d.retryLane=E,Ds(e,E),En(l,e,E),Hf;sc(),n=_0(e,n,r)}else e=d.treeContext,oe=Yn(E.nextSibling),Qe=n,zt=!0,ja=null,qn=!1,e!==null&&ag(n,e),n=Qu(n,l),n.flags|=4096;return n}return e=Zi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Gf(e,n,r,l,h){return Vs(n),r=xf(e,n,r,l,void 0,h),l=Sf(),e!==null&&!Me?(Af(e,n,h),aa(e,n,h)):(zt&&l&&af(n),n.flags|=1,Xe(e,n,r,h),n.child)}function E0(e,n,r,l,h,d){return Vs(n),n.updateQueue=null,r=bg(n,l,r,h),Tg(e),l=Sf(),e!==null&&!Me?(Af(e,n,d),aa(e,n,d)):(zt&&l&&af(n),n.flags|=1,Xe(e,n,r,d),n.child)}function v0(e,n,r,l,h){if(Vs(n),n.stateNode===null){var d=br,E=r.contextType;typeof E=="object"&&E!==null&&(d=$e(E)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},pf(n),E=r.contextType,d.context=typeof E=="object"&&E!==null?$e(E):br,d.state=n.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(Pf(n,r,E,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&zf.enqueueReplaceState(d,d.state,null),Ql(n,l,d,h),Kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var x=n.memoizedProps,D=Bs(r,x);d.props=D;var F=d.context,J=r.contextType;E=br,typeof J=="object"&&J!==null&&(E=$e(J));var et=r.getDerivedStateFromProps;J=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==E)&&r0(n,d,l,E),La=!1;var Y=n.memoizedState;d.state=Y,Ql(n,l,d,h),Kl(),F=n.memoizedState,x||Y!==F||La?(typeof et=="function"&&(Pf(n,r,et,l),F=n.memoizedState),(D=La||s0(n,r,D,l,Y,F,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,gf(e,n),E=n.memoizedProps,J=Bs(r,E),d.props=J,et=n.pendingProps,Y=d.context,F=r.contextType,D=br,typeof F=="object"&&F!==null&&(D=$e(F)),x=r.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==et||Y!==D)&&r0(n,d,l,D),La=!1,Y=n.memoizedState,d.state=Y,Ql(n,l,d,h),Kl();var Q=n.memoizedState;E!==et||Y!==Q||La||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof x=="function"&&(Pf(n,r,x,l),Q=n.memoizedState),(J=La||s0(n,r,J,l,Y,Q,D)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,$u(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ps(n,e.child,null,h),n.child=Ps(n,null,r,h)):Xe(e,n,r,h),n.memoizedState=d.state,e=n.child):e=aa(e,n,h),e}function T0(e,n,r,l){return Ms(),n.flags|=256,Xe(e,n,r,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:cg()}}function Yf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=On),e}function b0(e,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),E&&(h=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?za(n):Ba(),(e=oe)?(e=Cy(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=eg(e),r.return=n,n.child=r,Qe=n,oe=null)):e=null,e===null)throw Va(n);return Rd(e)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Ba(),h=n.mode,x=Xu({mode:"hidden",children:x},h),l=Os(l,h,r,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=Ff(r),l.childLanes=Yf(e,E,r),n.memoizedState=qf,Wl(null,l)):(za(n),Kf(n,x))}var D=e.memoizedState;if(D!==null&&(x=D.dehydrated,x!==null)){if(d)n.flags&256?(za(n),n.flags&=-257,n=Qf(e,n,r)):n.memoizedState!==null?(Ba(),n.child=e.child,n.flags|=128,n=null):(Ba(),x=l.fallback,h=n.mode,l=Xu({mode:"visible",children:l.children},h),x=Os(x,h,r,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Ps(n,e.child,null,r),l=n.child,l.memoizedState=Ff(r),l.childLanes=Yf(e,E,r),n.memoizedState=qf,n=Wl(null,l));else if(za(n),Rd(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Bl({value:l,source:null,stack:null}),n=Qf(e,n,r)}else if(Me||wr(e,n,r,!1),E=(r&e.childLanes)!==0,Me||E){if(E=le,E!==null&&(l=vl(E,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ds(e,l),En(E,e,l),Hf;Nd(x)||sc(),n=Qf(e,n,r)}else Nd(x)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,oe=Yn(x.nextSibling),Qe=n,zt=!0,ja=null,qn=!1,e!==null&&ag(n,e),n=Kf(n,l.children),n.flags|=4096);return n}return h?(Ba(),x=l.fallback,h=n.mode,D=e.child,F=D.sibling,l=Zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?x=Zi(F,x):(x=Os(x,h,r,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,Wl(null,l),l=n.child,x=e.child.memoizedState,x===null?x=Ff(r):(h=x.cachePool,h!==null?(D=De._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=cg(),x={baseLanes:x.baseLanes|r,cachePool:h}),l.memoizedState=x,l.childLanes=Yf(e,E,r),n.memoizedState=qf,Wl(e.child,l)):(za(n),r=e.child,e=r.sibling,r=Zi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=r,n.memoizedState=null,r)}function Kf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Qf(e,n,r){return Ps(n,e.child,null,r),e=Kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function x0(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),uf(e.return,n,r)}function $f(e,n,r,l,h,d){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=r,E.tailMode=h,E.treeForkCount=d)}function S0(e,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var E=Se.current,x=(E&2)!==0;if(x?(E=E&1|2,n.flags|=128):E&=1,lt(Se,E),Xe(e,n,l,r),l=zt?zl:0,!x&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x0(e,r,n);else if(e.tag===19)x0(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ku(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),$f(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}$f(n,!0,r,null,d,l);break;case"together":$f(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function aa(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),qa|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(wr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Zi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Zi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function Wb(e,n,r){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Ua(n,De,e.memoizedState.cache),Ms();break;case 27:case 5:hi(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(za(n),n.flags|=128,null):(r&n.child.childLanes)!==0?b0(e,n,r):(za(n),e=aa(e,n,r),e!==null?e.sibling:null);za(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(wr(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return S0(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Se,Se.current),l)break;return null;case 22:return n.lanes=0,g0(e,n,r,n.pendingProps);case 24:Ua(n,De,e.memoizedState.cache)}return aa(e,n,r)}function A0(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Xf(e,r)&&(n.flags&128)===0)return Me=!1,Wb(e,n,r);Me=(e.flags&131072)!==0}else Me=!1,zt&&(n.flags&1048576)!==0&&ig(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ls(n.elementType),n.type=e,typeof e=="function")tf(e)?(l=Bs(e,l),n.tag=1,n=v0(null,n,e,l,r)):(n.tag=0,n=Gf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===dt){n.tag=11,n=d0(null,n,e,l,r);break t}else if(h===I){n.tag=14,n=m0(null,n,e,l,r);break t}}throw n=re(e)||e,Error(s(306,n,""))}}return n;case 0:return Gf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Bs(l,n.pendingProps),v0(e,n,l,h,r);case 3:t:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,gf(e,n),Ql(n,l,null,r);var E=n.memoizedState;if(l=E.cache,Ua(n,De,l),l!==d.cache&&cf(n,[De],r,!0),Kl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=T0(e,n,l,r);break t}else if(l!==h){h=Bn(Error(s(424)),n),Bl(h),n=T0(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Yn(e.firstChild),Qe=n,zt=!0,ja=null,qn=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ms(),l===h){n=aa(e,n,r);break t}Xe(e,n,l,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,l=fc(xt.current).createElement(r),l[Re]=n,l[Be]=e,Je(l,r,e),Ie(l),n.stateNode=l):n.memoizedState=Uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hi(n),e===null&&zt&&(l=n.stateNode=My(n.type,n.pendingProps,xt.current),Qe=n,qn=!0,h=oe,$a(n.type)?(Id=h,oe=Yn(l.firstChild)):oe=h),Xe(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=l=oe)&&(l=Ix(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,Qe=n,oe=Yn(l.firstChild),qn=!1,h=!0):h=!1),h||Va(n)),hi(n),h=n.type,d=n.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,Sd(h,d)?l=null:E!==null&&Sd(h,E)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(e,n,qb,null,null,r),po._currentValue=h),$u(e,n),Xe(e,n,l,r),n.child;case 6:return e===null&&zt&&((e=r=oe)&&(r=Cx(r,n.pendingProps,qn),r!==null?(n.stateNode=r,Qe=n,oe=null,e=!0):e=!1),e||Va(n)),null;case 13:return b0(e,n,r);case 4:return _e(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ps(n,null,l,r):Xe(e,n,l,r),n.child;case 11:return d0(e,n,n.type,n.pendingProps,r);case 7:return Xe(e,n,n.pendingProps,r),n.child;case 8:return Xe(e,n,n.pendingProps.children,r),n.child;case 12:return Xe(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ua(n,n.type,l.value),Xe(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vs(n),h=$e(h),l=l(h),n.flags|=1,Xe(e,n,l,r),n.child;case 14:return m0(e,n,n.type,n.pendingProps,r);case 15:return p0(e,n,n.type,n.pendingProps,r);case 19:return S0(e,n,r);case 31:return Zb(e,n,r);case 22:return g0(e,n,r,n.pendingProps);case 24:return Vs(n),l=$e(De),e===null?(h=df(),h===null&&(h=le,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},pf(n),Ua(n,De,h)):((e.lanes&r)!==0&&(gf(e,n),Ql(n,null,null,r),Kl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ua(n,De,l)):(l=d.cache,Ua(n,De,l),l!==h.cache&&cf(n,[De],r,!0))),Xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function sa(e){e.flags|=4}function Jf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Z0())e.flags|=8192;else throw ks=ju,mf}else e.flags&=-16777217}function w0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!By(n))if(Z0())e.flags|=8192;else throw ks=ju,mf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,kr|=n)}function to(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function tx(e,n,r){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ea(De),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ar(n)?sa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),ue(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(sa(n),d!==null?(ue(n),w0(n,d)):(ue(n),Jf(n,h,null,l,r))):d?d!==e.memoizedState?(sa(n),ue(n),w0(n,d)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&sa(n),ue(n),Jf(n,h,e,l,r)),null;case 27:if(fi(n),r=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}e=ot.current,Ar(n)?sg(n):(e=My(h,l,r),n.stateNode=e,sa(n))}return ue(n),null;case 5:if(fi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}if(d=ot.current,Ar(n))sg(n);else{var E=fc(xt.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}d[Re]=n,d[Be]=l;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=d;t:switch(Je(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&sa(n)}}return ue(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=xt.current,Ar(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||by(e.nodeValue,r)),e||Va(n,!0)}else e=fc(e).createTextNode(l),e[Re]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ar(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Re]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ue(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ar(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ue(n),null);case 4:return ee(),e===null&&Ed(n.stateNode.containerInfo),ue(n),null;case 10:return ea(n.type),ue(n),null;case 19:if(tt(Se),l=n.memoizedState,l===null)return ue(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)to(l,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=ku(e),d!==null){for(n.flags|=128,to(l,!1),e=d.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)tg(r,e),r=r.sibling;return lt(Se,Se.current&1|2),zt&&Wi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Fe()>nc&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(e=ku(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ue(n),null}else 2*Fe()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,r=Se.current,lt(Se,h?r&1|2:r&1),zt&&Wi(n,l.treeForkCount),e):(ue(n),null);case 22:case 23:return Cn(n),vf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&tt(Us),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ea(De),ue(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ex(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ea(De),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(s(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return tt(Se),null;case 4:return ee(),null;case 10:return ea(n.type),null;case 22:case 23:return Cn(n),vf(),e!==null&&tt(Us),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ea(De),null;case 25:return null;default:return null}}function N0(e,n){switch(sf(n),n.tag){case 3:ea(De),ee();break;case 26:case 27:case 5:fi(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:tt(Se);break;case 10:ea(n.type);break;case 22:case 23:Cn(n),vf(),e!==null&&tt(Us);break;case 24:ea(De)}}function eo(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var d=r.create,E=r.inst;l=d(),E.destroy=l}r=r.next}while(r!==h)}}catch(x){Wt(n,n.return,x)}}function Ha(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,h=n;var D=r,F=x;try{F()}catch(J){Wt(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){Wt(n,n.return,J)}}function R0(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{_g(n,r)}catch(l){Wt(e,e.return,l)}}}function I0(e,n,r){r.props=Bs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Wt(e,n,l)}}function no(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Wt(e,n,h)}}function Vi(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Wt(e,n,h)}else r.current=null}function C0(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Wt(e,e.return,h)}}function Zf(e,n,r){try{var l=e.stateNode;xx(l,e.type,r,n),l[Be]=n}catch(h){Wt(e,e.return,h)}}function D0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(l!==4&&(l===27&&$a(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,r),e=e.sibling;e!==null;)td(e,n,r),e=e.sibling}function Zu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&$a(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function O0(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,l,r),n[Re]=e,n[Be]=r}catch(d){Wt(e,e.return,d)}}var ra=!1,je=!1,ed=!1,M0=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function nx(e,n){if(e=e.containerInfo,bd=Ec,e=Fp(e),Kh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var E=0,x=-1,D=-1,F=0,J=0,et=e,Y=null;e:for(;;){for(var Q;et!==r||h!==0&&et.nodeType!==3||(x=E+h),et!==d||l!==0&&et.nodeType!==3||(D=E+l),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)Y=et,et=Q;for(;;){if(et===e)break e;if(Y===r&&++F===h&&(x=E),Y===d&&++J===l&&(D=E),(Q=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=Q}r=x===-1||D===-1?null:{start:x,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(xd={focusedElem:e,selectionRange:r},Ec=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ct=Bs(r.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Wt(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)wd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function j0(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:oa(e,r),l&4&&eo(5,r);break;case 1:if(oa(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(E){Wt(r,r.return,E)}else{var h=Bs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Wt(r,r.return,E)}}l&64&&R0(r),l&512&&no(r,r.return);break;case 3:if(oa(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{_g(e,n)}catch(E){Wt(r,r.return,E)}}break;case 27:n===null&&l&4&&O0(r);case 26:case 5:oa(e,r),n===null&&l&4&&C0(r),l&512&&no(r,r.return);break;case 12:oa(e,r);break;case 31:oa(e,r),l&4&&L0(e,r);break;case 13:oa(e,r),l&4&&k0(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=hx.bind(null,r),Dx(e,r))));break;case 22:if(l=r.memoizedState!==null||ra,!l){n=n!==null&&n.memoizedState!==null||je,h=ra;var d=je;ra=l,(je=n)&&!d?ua(e,r,(r.subtreeFlags&8772)!==0):oa(e,r),ra=h,je=d}break;case 30:break;default:oa(e,r)}}function V0(e){var n=e.alternate;n!==null&&(e.alternate=null,V0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&or(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,pn=!1;function la(e,n,r){for(r=r.child;r!==null;)U0(e,n,r),r=r.sibling}function U0(e,n,r){if(H&&typeof H.onCommitFiberUnmount=="function")try{H.onCommitFiberUnmount(hn,r)}catch{}switch(r.tag){case 26:je||Vi(r,n),la(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||Vi(r,n);var l=de,h=pn;$a(r.type)&&(de=r.stateNode,pn=!1),la(e,n,r),ho(r.stateNode),de=l,pn=h;break;case 5:je||Vi(r,n);case 6:if(l=de,h=pn,de=null,la(e,n,r),de=l,pn=h,de!==null)if(pn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(d){Wt(r,n,d)}else try{de.removeChild(r.stateNode)}catch(d){Wt(r,n,d)}break;case 18:de!==null&&(pn?(e=de,Ry(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Yr(e)):Ry(de,r.stateNode));break;case 4:l=de,h=pn,de=r.stateNode.containerInfo,pn=!0,la(e,n,r),de=l,pn=h;break;case 0:case 11:case 14:case 15:Ha(2,r,n),je||Ha(4,r,n),la(e,n,r);break;case 1:je||(Vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&I0(r,n,l)),la(e,n,r);break;case 21:la(e,n,r);break;case 22:je=(l=je)||r.memoizedState!==null,la(e,n,r),je=l;break;default:la(e,n,r)}}function L0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yr(e)}catch(r){Wt(n,n.return,r)}}}function k0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yr(e)}catch(r){Wt(n,n.return,r)}}function ix(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new M0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new M0),n;default:throw Error(s(435,e.tag))}}function Wu(e,n){var r=ix(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=fx.bind(null,e,l);l.then(h,h)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=e,E=n,x=E;t:for(;x!==null;){switch(x.tag){case 27:if($a(x.type)){de=x.stateNode,pn=!1;break t}break;case 5:de=x.stateNode,pn=!1;break t;case 3:case 4:de=x.stateNode.containerInfo,pn=!0;break t}x=x.return}if(de===null)throw Error(s(160));U0(d,E,h),de=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)P0(n,e),n=n.sibling}var oi=null;function P0(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),l&4&&(Ha(3,e,e.return),eo(3,e),Ha(5,e,e.return));break;case 1:gn(n,e),yn(e),l&512&&(je||r===null||Vi(r,r.return)),l&64&&ra&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=oi;if(gn(n,e),yn(e),l&512&&(je||r===null||Vi(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Je(d,l,r),d[Re]=e,Ie(d),l=d;break t;case"link":var E=Py("link","href",h).get(l+(r.href||""));if(E){for(var x=0;x<E.length;x++)if(d=E[x],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(x,1);break e}}d=h.createElement(l),Je(d,l,r),h.head.appendChild(d);break;case"meta":if(E=Py("meta","content",h).get(l+(r.content||""))){for(x=0;x<E.length;x++)if(d=E[x],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(x,1);break e}}d=h.createElement(l),Je(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,Ie(d),l=d}e.stateNode=l}else zy(h,e.type,e.stateNode);else e.stateNode=ky(h,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?zy(h,e.type,e.stateNode):ky(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),yn(e),l&512&&(je||r===null||Vi(r,r.return)),r!==null&&l&4&&Zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),yn(e),l&512&&(je||r===null||Vi(r,r.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(ct){Wt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(gn(n,e),yn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ct){Wt(e,e.return,ct)}}break;case 3:if(pc=null,h=oi,oi=dc(n.containerInfo),gn(n,e),oi=h,yn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Yr(n.containerInfo)}catch(ct){Wt(e,e.return,ct)}ed&&(ed=!1,z0(e));break;case 4:l=oi,oi=dc(e.stateNode.containerInfo),gn(n,e),yn(e),oi=l;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,F=ra,J=je;if(ra=F||h,je=J||D,gn(n,e),je=J,ra=F,yn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||ra||je||Hs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(d=D.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=D.stateNode;var et=D.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ct){Wt(D,D.return,ct)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ct){Wt(D,D.return,ct)}}}else if(n.tag===18){if(r===null){D=n;try{var Q=D.stateNode;h?Iy(Q,!0):Iy(D.stateNode,!1)}catch(ct){Wt(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(e,r))));break;case 19:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(D0(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Wf(e);Zu(e,d,h);break;case 5:var E=r.stateNode;r.flags&32&&(mn(E,""),r.flags&=-33);var x=Wf(e);Zu(e,x,E);break;case 3:case 4:var D=r.stateNode.containerInfo,F=Wf(e);td(e,F,D);break;default:throw Error(s(161))}}catch(J){Wt(e,e.return,J)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function z0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;z0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function oa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)j0(e,n.alternate,n),n=n.sibling}function Hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ha(4,n,n.return),Hs(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&I0(n,n.return,r),Hs(n);break;case 27:ho(n.stateNode);case 26:case 5:Vi(n,n.return),Hs(n);break;case 22:n.memoizedState===null&&Hs(n);break;case 30:Hs(n);break;default:Hs(n)}e=e.sibling}}function ua(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:ua(h,d,r),eo(4,d);break;case 1:if(ua(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Wt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)yg(D[h],x)}catch(F){Wt(l,l.return,F)}}r&&E&64&&R0(d),no(d,d.return);break;case 27:O0(d);case 26:case 5:ua(h,d,r),r&&l===null&&E&4&&C0(d),no(d,d.return);break;case 12:ua(h,d,r);break;case 31:ua(h,d,r),r&&E&4&&L0(h,d);break;case 13:ua(h,d,r),r&&E&4&&k0(h,d);break;case 22:d.memoizedState===null&&ua(h,d,r),no(d,d.return);break;case 30:break;default:ua(h,d,r)}n=n.sibling}}function nd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Hl(r))}function id(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hl(e))}function ui(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)B0(e,n,r,l),n=n.sibling}function B0(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,r,l),h&2048&&eo(9,n);break;case 1:ui(e,n,r,l);break;case 3:ui(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hl(e)));break;case 12:if(h&2048){ui(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,E=d.id,x=d.onPostCommit;typeof x=="function"&&x(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Wt(n,n.return,D)}}else ui(e,n,r,l);break;case 31:ui(e,n,r,l);break;case 13:ui(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?ui(e,n,r,l):io(e,n):d._visibility&2?ui(e,n,r,l):(d._visibility|=2,Vr(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(E,n);break;case 24:ui(e,n,r,l),h&2048&&id(n.alternate,n);break;default:ui(e,n,r,l)}}function Vr(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,E=n,x=r,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Vr(d,E,x,D,h),eo(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Vr(d,E,x,D,h):io(d,E):(J._visibility|=2,Vr(d,E,x,D,h)),h&&F&2048&&nd(E.alternate,E);break;case 24:Vr(d,E,x,D,h),h&&F&2048&&id(E.alternate,E);break;default:Vr(d,E,x,D,h)}n=n.sibling}}function io(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:io(r,l),h&2048&&nd(l.alternate,l);break;case 24:io(r,l),h&2048&&id(l.alternate,l);break;default:io(r,l)}n=n.sibling}}var ao=8192;function Ur(e,n,r){if(e.subtreeFlags&ao)for(e=e.child;e!==null;)H0(e,n,r),e=e.sibling}function H0(e,n,r){switch(e.tag){case 26:Ur(e,n,r),e.flags&ao&&e.memoizedState!==null&&Gx(r,oi,e.memoizedState,e.memoizedProps);break;case 5:Ur(e,n,r);break;case 3:case 4:var l=oi;oi=dc(e.stateNode.containerInfo),Ur(e,n,r),oi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,Ur(e,n,r),ao=l):Ur(e,n,r));break;default:Ur(e,n,r)}}function G0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function so(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ge=l,F0(l,e)}G0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)q0(e),e=e.sibling}function q0(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):so(e);break;default:so(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ge=l,F0(l,e)}G0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ha(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function F0(e,n){for(;Ge!==null;){var r=Ge;switch(r.tag){case 0:case 11:case 15:Ha(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ge=l;else t:for(r=e;Ge!==null;){l=Ge;var h=l.sibling,d=l.return;if(V0(l),l===r){Ge=null;break t}if(h!==null){h.return=d,Ge=h;break t}Ge=d}}}var ax={getCacheForType:function(e){var n=$e(De),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return $e(De).controller.signal}},sx=typeof WeakMap=="function"?WeakMap:Map,Qt=0,le=null,Ot=null,Vt=0,Zt=0,Dn=null,Ga=!1,Lr=!1,ad=!1,ca=0,be=0,qa=0,Gs=0,sd=0,On=0,kr=0,ro=null,_n=null,rd=!1,ec=0,Y0=0,nc=1/0,ic=null,Fa=null,ke=0,Ya=null,Pr=null,ha=0,ld=0,od=null,K0=null,lo=0,ud=null;function Mn(){return(Qt&2)!==0&&Vt!==0?Vt&-Vt:X.T!==null?pd():au()}function Q0(){if(On===0)if((Vt&536870912)===0||zt){var e=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),On=e}else On=536870912;return e=In.current,e!==null&&(e.flags|=32),On}function En(e,n,r){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(zr(e,0),Ka(e,Vt,On,!1)),ys(e,r),((Qt&2)===0||e!==le)&&(e===le&&((Qt&2)===0&&(Gs|=r),be===4&&Ka(e,Vt,On,!1)),Ui(e))}function $0(e,n,r){if((Qt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=l?ox(e,n):hd(e,n,!0),d=l;do{if(h===0){Lr&&!l&&Ka(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!rx(r)){h=hd(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var x=e;h=ro;var D=x.current.memoizedState.isDehydrated;if(D&&(zr(x,E).flags|=256),E=hd(x,E,!1),E!==2){if(ad&&!D){x.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break t}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){zr(e,0),Ka(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ka(l,n,On,!Ga);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ec+300-Fe(),10<h)){if(Ka(l,n,On,!Ga),_i(l,0,!0)!==0)break t;ha=n,l.timeoutHandle=wy(X0.bind(null,l,r,_n,ic,rd,n,On,Gs,kr,Ga,d,"Throttled",-0,0),h);break t}X0(l,r,_n,ic,rd,n,On,Gs,kr,Ga,d,null,-0,0)}}break}while(!0);Ui(e)}function X0(e,n,r,l,h,d,E,x,D,F,J,et,Y,Q){if(e.timeoutHandle=-1,et=n.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},H0(n,d,et);var ct=(d&62914560)===d?ec-Fe():(d&4194048)===d?Y0-Fe():0;if(ct=qx(et,ct),ct!==null){ha=d,e.cancelPendingCommit=ct(ay.bind(null,e,n,d,r,l,h,E,x,D,J,et,null,Y,Q)),Ka(e,d,E,!F);return}}ay(e,n,d,r,l,h,E,x,D)}function rx(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!Nn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ka(e,n,r,l){n&=~sd,n&=~Gs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-Pt(h),E=1<<d;l[d]=-1,h&=~E}r!==0&&_s(e,r,n)}function ac(){return(Qt&6)===0?(oo(0),!1):!0}function cd(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,ta=js=null,wf(e),Cr=null,ql=0,e=Ot;for(;e!==null;)N0(e.alternate,e),e=e.return;Ot=null}}function zr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,wx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ha=0,cd(),le=e,Ot=r=Zi(e.current,null),Vt=n,Zt=0,Dn=null,Ga=!1,Lr=Wn(e,n),ad=!1,kr=On=sd=Gs=qa=be=0,_n=ro=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Pt(l),d=1<<h;n|=e[h],l&=~d}return ca=n,Au(),r}function J0(e,n){Nt=null,X.H=Zl,n===Ir||n===Mu?(n=dg(),Zt=3):n===mf?(n=dg(),Zt=4):Zt=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Ot===null&&(be=1,Ku(e,Bn(n,e.current)))}function Z0(){var e=In.current;return e===null?!0:(Vt&4194048)===Vt?Fn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Fn:!1}function W0(){var e=X.H;return X.H=Zl,e===null?Zl:e}function ty(){var e=X.A;return X.A=ax,e}function sc(){be=4,Ga||(Vt&4194048)!==Vt&&In.current!==null||(Lr=!0),(qa&134217727)===0&&(Gs&134217727)===0||le===null||Ka(le,Vt,On,!1)}function hd(e,n,r){var l=Qt;Qt|=2;var h=W0(),d=ty();(le!==e||Vt!==n)&&(ic=null,zr(e,n)),n=!1;var E=be;t:do try{if(Zt!==0&&Ot!==null){var x=Ot,D=Dn;switch(Zt){case 8:cd(),E=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var F=Zt;if(Zt=0,Dn=null,Br(e,x,D,F),r&&Lr){E=0;break t}break;default:F=Zt,Zt=0,Dn=null,Br(e,x,D,F)}}lx(),E=be;break}catch(J){J0(e,J)}while(!0);return n&&e.shellSuspendCounter++,ta=js=null,Qt=l,X.H=h,X.A=d,Ot===null&&(le=null,Vt=0,Au()),E}function lx(){for(;Ot!==null;)ey(Ot)}function ox(e,n){var r=Qt;Qt|=2;var l=W0(),h=ty();le!==e||Vt!==n?(ic=null,nc=Fe()+500,zr(e,n)):Lr=Wn(e,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var d=Dn;e:switch(Zt){case 1:Zt=0,Dn=null,Br(e,n,d,1);break;case 2:case 9:if(hg(d)){Zt=0,Dn=null,ny(n);break}n=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Ui(e)},d.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:hg(d)?(Zt=0,Dn=null,ny(n)):(Zt=0,Dn=null,Br(e,n,d,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var x=Ot;if(E?By(E):x.stateNode.complete){Zt=0,Dn=null;var D=x.sibling;if(D!==null)Ot=D;else{var F=x.return;F!==null?(Ot=F,rc(F)):Ot=null}break e}}Zt=0,Dn=null,Br(e,n,d,5);break;case 6:Zt=0,Dn=null,Br(e,n,d,6);break;case 8:cd(),be=6;break t;default:throw Error(s(462))}}ux();break}catch(J){J0(e,J)}while(!0);return ta=js=null,X.H=l,X.A=h,Qt=r,Ot!==null?0:(le=null,Vt=0,Au(),be)}function ux(){for(;Ot!==null&&!yl();)ey(Ot)}function ey(e){var n=A0(e.alternate,e,ca);e.memoizedProps=e.pendingProps,n===null?rc(e):Ot=n}function ny(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=E0(r,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=E0(r,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:wf(n);default:N0(r,n),n=Ot=tg(n,ca),n=A0(r,n,ca)}e.memoizedProps=e.pendingProps,n===null?rc(e):Ot=n}function Br(e,n,r,l){ta=js=null,wf(n),Cr=null,ql=0;var h=n.return;try{if(Jb(e,h,n,r,Vt)){be=1,Ku(e,Bn(r,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;be=1,Ku(e,Bn(r,e.current)),Ot=null;return}n.flags&32768?(zt||l===1?e=!0:Lr||(Vt&536870912)!==0?e=!1:(Ga=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),iy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){iy(n,Ga);return}e=n.return;var r=tx(n.alternate,n,ca);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);be===0&&(be=5)}function iy(e,n){do{var r=ex(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);be=6,Ot=null}function ay(e,n,r,l,h,d,E,x,D){e.cancelPendingCommit=null;do lc();while(ke!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Zh,Gh(e,r,d,E,x,D),e===le&&(Ot=le=null,Vt=0),Pr=n,Ya=e,ha=r,ld=d,od=h,K0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dx(pi,function(){return uy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=st.p,st.p=2,E=Qt,Qt|=4;try{nx(e,n,r)}finally{Qt=E,st.p=h,X.T=l}}ke=1,sy(),ry(),ly()}}function sy(){if(ke===1){ke=0;var e=Ya,n=Pr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var l=st.p;st.p=2;var h=Qt;Qt|=4;try{P0(n,e);var d=xd,E=Fp(e.containerInfo),x=d.focusedElem,D=d.selectionRange;if(E!==x&&x&&x.ownerDocument&&qp(x.ownerDocument.documentElement,x)){if(D!==null&&Kh(x)){var F=D.start,J=D.end;if(J===void 0&&(J=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(J,x.value.length);else{var et=x.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),ct=x.textContent.length,vt=Math.min(D.start,ct),se=D.end===void 0?vt:Math.min(D.end,ct);!Q.extend&&vt>se&&(E=se,se=vt,vt=E);var k=Gp(x,vt),U=Gp(x,se);if(k&&U&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var q=et.createRange();q.setStart(k.node,k.offset),Q.removeAllRanges(),vt>se?(Q.addRange(q),Q.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Q.addRange(q))}}}}for(et=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<et.length;x++){var Z=et[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ec=!!bd,xd=bd=null}finally{Qt=h,st.p=l,X.T=r}}e.current=n,ke=2}}function ry(){if(ke===2){ke=0;var e=Ya,n=Pr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var l=st.p;st.p=2;var h=Qt;Qt|=4;try{j0(e,n.alternate,n)}finally{Qt=h,st.p=l,X.T=r}}ke=3}}function ly(){if(ke===4||ke===3){ke=0,nr();var e=Ya,n=Pr,r=ha,l=K0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Pr=Ya=null,oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fa=null),Qi(r),n=n.stateNode,H&&typeof H.onCommitFiberRoot=="function")try{H.onCommitFiberRoot(hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=st.p,st.p=2,X.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var x=l[E];d(x.value,{componentStack:x.stack})}}finally{X.T=n,st.p=h}}(ha&3)!==0&&lc(),Ui(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ud?lo++:(lo=0,ud=e):lo=0,oo(0)}}function oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hl(n)))}function lc(){return sy(),ry(),ly(),uy()}function uy(){if(ke!==5)return!1;var e=Ya,n=ld;ld=0;var r=Qi(ha),l=X.T,h=st.p;try{st.p=32>r?32:r,X.T=null,r=od,od=null;var d=Ya,E=ha;if(ke=0,Pr=Ya=null,ha=0,(Qt&6)!==0)throw Error(s(331));var x=Qt;if(Qt|=4,q0(d.current),B0(d,d.current,E,r),Qt=x,oo(0,!1),H&&typeof H.onPostCommitFiberRoot=="function")try{H.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{st.p=h,X.T=l,oy(e,n)}}function cy(e,n,r){n=Bn(r,n),n=Bf(e.stateNode,n,2),e=Pa(e,n,2),e!==null&&(ys(e,2),Ui(e))}function Wt(e,n,r){if(e.tag===3)cy(e,e,r);else for(;n!==null;){if(n.tag===3){cy(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fa===null||!Fa.has(l))){e=Bn(r,e),r=h0(2),l=Pa(n,r,2),l!==null&&(f0(r,l,n,e),ys(l,2),Ui(l));break}}n=n.return}}function fd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new sx;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ad=!0,h.add(r),e=cx.bind(null,e,n,r),n.then(e,e))}function cx(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,le===e&&(Vt&r)===r&&(be===4||be===3&&(Vt&62914560)===Vt&&300>Fe()-ec?(Qt&2)===0&&zr(e,0):sd|=r,kr===Vt&&(kr=0)),Ui(e)}function hy(e,n){n===0&&(n=iu()),e=Ds(e,n),e!==null&&(ys(e,n),Ui(e))}function hx(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),hy(e,r)}function fx(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),hy(e,r)}function dx(e,n){return ve(e,n)}var oc=null,Hr=null,dd=!1,uc=!1,md=!1,Qa=0;function Ui(e){e!==Hr&&e.next===null&&(Hr===null?oc=Hr=e:Hr=Hr.next=e),uc=!0,dd||(dd=!0,px())}function oo(e,n){if(!md&&uc){md=!0;do for(var r=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-Pt(42|e)+1)-1,d&=h&~(E&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,py(l,d))}else d=Vt,d=_i(l,l===le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(r=!0,py(l,d));l=l.next}while(r);md=!1}}function mx(){fy()}function fy(){uc=dd=!1;var e=0;Qa!==0&&Ax()&&(e=Qa);for(var n=Fe(),r=null,l=oc;l!==null;){var h=l.next,d=dy(l,n);d===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(Hr=r)):(r=l,(e!==0||(d&3)!==0)&&(uc=!0)),l=h}ke!==0&&ke!==5||oo(e),Qa!==0&&(Qa=0)}function dy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Pt(d),x=1<<E,D=h[E];D===-1?((x&r)===0||(x&l)!==0)&&(h[E]=Hh(x,n)):D<=n&&(e.expiredLanes|=x),d&=~x}if(n=le,r=Vt,r=_i(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Wn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&mi(l),Qi(r)){case 2:case 8:r=gs;break;case 32:r=pi;break;case 268435456:r=ir;break;default:r=pi}return l=my.bind(null,e),r=ve(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&mi(l),e.callbackPriority=2,e.callbackNode=null,2}function my(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var l=Vt;return l=_i(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($0(e,l,n),dy(e,Fe()),e.callbackNode!=null&&e.callbackNode===r?my.bind(null,e):null)}function py(e,n){if(lc())return null;$0(e,n,!0)}function px(){Nx(function(){(Qt&6)!==0?ve(ps,mx):fy()})}function pd(){if(Qa===0){var e=Nr;e===0&&(e=fn,fn<<=1,(fn&261888)===0&&(fn=256)),Qa=e}return Qa}function gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function yy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function gx(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=gy((h[Be]||null).action),E=l.submitter;E&&(n=(n=E[Be]||null)?gy(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var x=new Ii("action","action",null,l,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var D=E?yy(h,E):new FormData(h);Vf(r,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(x.preventDefault(),D=E?yy(h,E):new FormData(h),Vf(r,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],yx=yd.toLowerCase(),_x=yd[0].toUpperCase()+yd.slice(1);li(yx,"on"+_x)}li(Qp,"onAnimationEnd"),li($p,"onAnimationIteration"),li(Xp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(jb,"onTransitionRun"),li(Vb,"onTransitionStart"),li(Ub,"onTransitionCancel"),li(Jp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function _y(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var E=l.length-1;0<=E;E--){var x=l[E],D=x.instance,F=x.currentTarget;if(x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(J){Su(J)}h.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(x=l[E],D=x.instance,F=x.currentTarget,x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(J){Su(J)}h.currentTarget=null,d=D}}}}function Mt(e,n){var r=n[lr];r===void 0&&(r=n[lr]=new Set);var l=e+"__bubble";r.has(l)||(Ey(n,e,2,!1),r.add(l))}function _d(e,n,r){var l=0;n&&(l|=4),Ey(r,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[cc]){e[cc]=!0,Tl.forEach(function(r){r!=="selectionchange"&&(Ex.has(r)||_d(r,!1,e),_d(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,_d("selectionchange",!1,n))}}function Ey(e,n,r,l){switch(Qy(n)){case 2:var h=Kx;break;case 8:h=Qx;break;default:h=jd}r=h.bind(null,n,r,e),h=void 0,!xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function vd(e,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var x=l.stateNode.containerInfo;if(x===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;x!==null;){if(E=bi(x),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue t}x=x.parentNode}}l=l.return}Ia(function(){var F=d,J=Ln(r),et=[];t:{var Y=Zp.get(e);if(Y!==void 0){var Q=Ii,ct=e;switch(e){case"keypress":if(As(r)===0)break t;case"keydown":case"keyup":Q=Tu;break;case"focusin":ct="focus",Q=Ns;break;case"focusout":ct="blur",Q=Ns;break;case"beforeblur":case"afterblur":Q=Ns;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Qp:case $p:case Xp:Q=mu;break;case Jp:Q=A;break;case"scroll":case"scrollend":Q=Ml;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=wt}var vt=(n&4)!==0,se=!vt&&(e==="scroll"||e==="scrollend"),k=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var U=F,q;U!==null;){var Z=U;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||k===null||(Z=ii(U,k),Z!=null&&vt.push(co(U,Z,q))),se)break;U=U.return}0<vt.length&&(Y=new Q(Y,ct,null,r,J),et.push({event:Y,listeners:vt}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Y&&r!==Cl&&(ct=r.relatedTarget||r.fromElement)&&(bi(ct)||ct[vi]))break t;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(ct=r.relatedTarget||r.toElement,Q=F,ct=ct?bi(ct):null,ct!==null&&(se=u(ct),vt=ct.tag,ct!==se||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(Q=null,ct=F),Q!==ct)){if(vt=jl,Z="onMouseLeave",k="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ji,Z="onPointerLeave",k="onPointerEnter",U="pointer"),se=Q==null?Y:An(Q),q=ct==null?Y:An(ct),Y=new vt(Z,U+"leave",Q,r,J),Y.target=se,Y.relatedTarget=q,Z=null,bi(J)===F&&(vt=new vt(k,U+"enter",ct,r,J),vt.target=q,vt.relatedTarget=se,Z=vt),se=Z,Q&&ct)e:{for(vt=vx,k=Q,U=ct,q=0,Z=k;Z;Z=vt(Z))q++;Z=0;for(var gt=U;gt;gt=vt(gt))Z++;for(;0<q-Z;)k=vt(k),q--;for(;0<Z-q;)U=vt(U),Z--;for(;q--;){if(k===U||U!==null&&k===U.alternate){vt=k;break e}k=vt(k),U=vt(U)}vt=null}else vt=null;Q!==null&&vy(et,Y,Q,vt,!1),ct!==null&&se!==null&&vy(et,se,ct,vt,!0)}}t:{if(Y=F?An(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ft=Lp;else if(Vp(Y))if(kp)Ft=Db;else{Ft=Ib;var ft=Rb}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&hr(F.elementType)&&(Ft=Lp):Ft=Cb;if(Ft&&(Ft=Ft(e,F))){Up(et,Ft,r,J);break t}ft&&ft(e,Y,F),e==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Nl(Y,"number",Y.value)}switch(ft=F?An(F):window,e){case"focusin":(Vp(ft)||ft.contentEditable==="true")&&(Er=ft,Qh=F,Pl=null);break;case"focusout":Pl=Qh=Er=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Yp(et,r,J);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":Yp(et,r,J)}var Rt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else _r?Rs(e,r)&&(Ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ut="onCompositionStart");Ut&&(Oi&&r.locale!=="ko"&&(_r||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&_r&&(Rt=Ol()):(Ri=J,Dl="value"in Ri?Ri.value:Ri.textContent,_r=!0)),ft=hc(F,Ut),0<ft.length&&(Ut=new Di(Ut,e,null,r,J),et.push({event:Ut,listeners:ft}),Rt?Ut.data=Rt:(Rt=yr(r),Rt!==null&&(Ut.data=Rt)))),(Rt=Pn?Sb(e,r):Ab(e,r))&&(Ut=hc(F,"onBeforeInput"),0<Ut.length&&(ft=new Di("onBeforeInput","beforeinput",null,r,J),et.push({event:ft,listeners:Ut}),ft.data=Rt)),gx(et,e,F,r,J)}_y(et,n)})}function co(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(e,r),h!=null&&l.unshift(co(e,h,d)),h=ii(e,n),h!=null&&l.push(co(e,h,d))),e.tag===3)return l;e=e.return}return[]}function vx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vy(e,n,r,l,h){for(var d=n._reactName,E=[];r!==null&&r!==l;){var x=r,D=x.alternate,F=x.stateNode;if(x=x.tag,D!==null&&D===l)break;x!==5&&x!==26&&x!==27||F===null||(D=F,h?(F=ii(r,d),F!=null&&E.unshift(co(r,F,D))):h||(F=ii(r,d),F!=null&&E.push(co(r,F,D)))),r=r.return}E.length!==0&&e.push({event:n,listeners:E})}var Tx=/\r\n?/g,bx=/\u0000|\uFFFD/g;function Ty(e){return(typeof e=="string"?e:""+e).replace(Tx,`
`).replace(bx,"")}function by(e,n){return n=Ty(n),Ty(e)===n}function ae(e,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(e,""+l);break;case"className":wn(e,"class",l);break;case"tabIndex":wn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,r,l);break;case"style":Il(e,l,d);break;case"data":if(n!=="object"){wn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=fr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=fr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=ni);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,ur(e,r,l))}}function Td(e,n,r,l,h,d){switch(r){case"style":Il(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?mn(e,l):(typeof l=="number"||typeof l=="bigint")&&mn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=e[Be]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ur(e,r,l)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var E=r[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ae(e,n,d,E,r,null)}}h&&ae(e,n,"srcSet",r.srcSet,r,null),l&&ae(e,n,"src",r.src,r,null);return;case"input":Mt("invalid",e);var x=d=E=h=null,D=null,F=null;for(l in r)if(r.hasOwnProperty(l)){var J=r[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:ae(e,n,l,J,r,null)}}ou(e,d,x,D,F,E,h,!1);return;case"select":Mt("invalid",e),l=E=d=null;for(h in r)if(r.hasOwnProperty(h)&&(x=r[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":E=x;break;case"multiple":l=x;default:ae(e,n,h,x,r,null)}n=d,r=E,e.multiple=!!l,n!=null?Aa(e,!!l,n,!1):r!=null&&Aa(e,!!l,r,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(E in r)if(r.hasOwnProperty(E)&&(x=r[E],x!=null))switch(E){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:ae(e,n,E,x,r,null)}wa(e,l,h,d);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ae(e,n,D,l,r,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<uo.length;l++)Mt(uo[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(l=r[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ae(e,n,F,l,r,null)}return;default:if(hr(n)){for(J in r)r.hasOwnProperty(J)&&(l=r[J],l!==void 0&&Td(e,n,J,l,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null&&ae(e,n,x,l,r,null))}function xx(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,x=null,D=null,F=null,J=null;for(Q in r){var et=r[Q];if(r.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=et;default:l.hasOwnProperty(Q)||ae(e,n,Q,null,l,et)}}for(var Y in l){var Q=l[Y];if(et=r[Y],l.hasOwnProperty(Y)&&(Q!=null||et!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==et&&ae(e,n,Y,Q,l,et)}}cr(e,E,x,D,F,J,d,h);return;case"select":Q=E=x=Y=null;for(d in r)if(D=r[d],r.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||ae(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=r[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Y=d;break;case"defaultValue":x=d;break;case"multiple":E=d;default:d!==D&&ae(e,n,h,d,l,D)}n=x,r=E,l=Q,Y!=null?Aa(e,!!r,Y,!1):!!l!=!!r&&(n!=null?Aa(e,!!r,n,!0):Aa(e,!!r,r?[]:"",!1));return;case"textarea":Q=Y=null;for(x in r)if(h=r[x],r.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ae(e,n,x,null,l,h)}for(E in l)if(h=l[E],d=r[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ae(e,n,E,h,l,d)}uu(e,Y,Q);return;case"option":for(var ct in r)if(Y=r[ct],r.hasOwnProperty(ct)&&Y!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:ae(e,n,ct,null,l,Y)}for(D in l)if(Y=l[D],Q=r[D],l.hasOwnProperty(D)&&Y!==Q&&(Y!=null||Q!=null))switch(D){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ae(e,n,D,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)Y=r[vt],r.hasOwnProperty(vt)&&Y!=null&&!l.hasOwnProperty(vt)&&ae(e,n,vt,null,l,Y);for(F in l)if(Y=l[F],Q=r[F],l.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:ae(e,n,F,Y,l,Q)}return;default:if(hr(n)){for(var se in r)Y=r[se],r.hasOwnProperty(se)&&Y!==void 0&&!l.hasOwnProperty(se)&&Td(e,n,se,void 0,l,Y);for(J in l)Y=l[J],Q=r[J],!l.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||Td(e,n,J,Y,l,Q);return}}for(var k in r)Y=r[k],r.hasOwnProperty(k)&&Y!=null&&!l.hasOwnProperty(k)&&ae(e,n,k,null,l,Y);for(et in l)Y=l[et],Q=r[et],!l.hasOwnProperty(et)||Y===Q||Y==null&&Q==null||ae(e,n,et,Y,l,Q)}function xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,E=h.initiatorType,x=h.duration;if(d&&x&&xy(E)){for(E=0,x=h.responseEnd,l+=1;l<r.length;l++){var D=r[l],F=D.startTime;if(F>x)break;var J=D.transferSize,et=D.initiatorType;J&&xy(et)&&(D=D.responseEnd,E+=J*(D<x?1:(x-F)/(D-F)))}if(--l,n+=8*(d+E)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,xd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function Sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function Ax(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(Rx)}:wy;function Rx(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function Ry(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),Yr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ho(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ho(r);for(var d=r.firstChild;d;){var E=d.nextSibling,x=d.nodeName;d[Ti]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=E}}else r==="body"&&ho(e.ownerDocument.body);r=h}while(r);Yr(n)}function Iy(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Ix(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function Cx(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function Cy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dx(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Id=null;function Dy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Oy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function My(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ho(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);or(e)}var Kn=new Map,jy=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=st.d;st.d={f:Ox,r:Mx,D:jx,C:Vx,L:Ux,m:Lx,X:Px,S:kx,M:zx};function Ox(){var e=fa.f(),n=ac();return e||n}function Mx(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Jg(n):fa.r(e)}var Gr=typeof document>"u"?null:document;function Vy(e,n,r){var l=Gr;if(l&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),jy.has(h)||(jy.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function jx(e){fa.D(e),Vy("dns-prefetch",e,null)}function Vx(e,n){fa.C(e,n),Vy("preconnect",e,n)}function Ux(e,n,r){fa.L(e,n,r);var l=Gr;if(l&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+dn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+dn(r.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var d=h;switch(n){case"style":d=qr(e);break;case"script":d=Fr(e)}Kn.has(d)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(fo(d))||n==="script"&&l.querySelector(mo(d))||(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function Lx(e,n){fa.m(e,n);var r=Gr;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fr(e)}if(!Kn.has(d)&&(e=b({rel:"modulepreload",href:e},n),Kn.set(d,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(mo(d)))return}l=r.createElement("link"),Je(l,"link",e),Ie(l),r.head.appendChild(l)}}}function kx(e,n,r){fa.S(e,n,r);var l=Gr;if(l&&e){var h=xi(l).hoistableStyles,d=qr(e);n=n||"default";var E=h.get(d);if(!E){var x={loading:0,preload:null};if(E=l.querySelector(fo(d)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kn.get(d))&&Cd(e,r);var D=E=l.createElement("link");Ie(D),Je(D,"link",e),D._p=new Promise(function(F,J){D.onload=F,D.onerror=J}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,mc(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:x},h.set(d,E)}}}function Px(e,n){fa.X(e,n);var r=Gr;if(r&&e){var l=xi(r).hoistableScripts,h=Fr(e),d=l.get(h);d||(d=r.querySelector(mo(h)),d||(e=b({src:e,async:!0},n),(n=Kn.get(h))&&Dd(e,n),d=r.createElement("script"),Ie(d),Je(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zx(e,n){fa.M(e,n);var r=Gr;if(r&&e){var l=xi(r).hoistableScripts,h=Fr(e),d=l.get(h);d||(d=r.querySelector(mo(h)),d||(e=b({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Dd(e,n),d=r.createElement("script"),Ie(d),Je(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Uy(e,n,r,l){var h=(h=xt.current)?dc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=qr(r.href),r=xi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qr(r.href);var d=xi(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(fo(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(e,r),d||Bx(h,e,r,E.state))),n&&l===null)throw Error(s(528,""));return E}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fr(r),r=xi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qr(e){return'href="'+dn(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function Ly(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Bx(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",r),Ie(n),e.head.appendChild(n))}function Fr(e){return'[src="'+dn(e)+'"]'}function mo(e){return"script[async]"+e}function ky(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+dn(r.href)+'"]');if(l)return n.instance=l,Ie(l),l;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Je(l,"style",h),mc(l,r.precedence,e),n.instance=l;case"stylesheet":h=qr(r.href);var d=e.querySelector(fo(h));if(d)return n.state.loading|=4,n.instance=d,Ie(d),d;l=Ly(r),(h=Kn.get(h))&&Cd(l,h),d=(e.ownerDocument||e).createElement("link"),Ie(d);var E=d;return E._p=new Promise(function(x,D){E.onload=x,E.onerror=D}),Je(d,"link",l),n.state.loading|=4,mc(d,r.precedence,e),n.instance=d;case"script":return d=Fr(r.src),(h=e.querySelector(mo(d)))?(n.instance=h,Ie(h),h):(l=r,(h=Kn.get(d))&&(l=b({},r),Dd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,e));return n.instance}function mc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var x=l[E];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function Py(e,n,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[Ti]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=e+E;var x=l.get(E);x?x.push(d):l.set(E,[d])}}return l}function zy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Hx(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function By(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gx(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qr(l.href),d=n.querySelector(fo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Ie(d);return}d=n.ownerDocument||n,l=Ly(l),(h=Kn.get(h))&&Cd(l,h),d=d.createElement("link"),Ie(d);var E=d;E._p=new Promise(function(x,D){E.onload=x,E.onerror=D}),Je(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Od=0;function qx(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*Sx());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(Fx,e),yc=null,gc.call(e))}function Fx(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var l=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),l=E)}l&&r.set(null,l)}h=n.instance,E=h.getAttribute("data-precedence"),d=r.get(E)||l,d===l&&r.set(null,h),r.set(E,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var po={$$typeof:$,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Yx(e,n,r,l,h,d,E,x,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Hy(e,n,r,l,h,d,E,x,D,F,J,et){return e=new Yx(e,n,r,E,D,F,J,et,x),n=1,d===!0&&(n|=24),d=Rn(3,null,null,n),e.current=d,d.stateNode=e,n=hf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},pf(d),e}function Gy(e){return e?(e=br,e):br}function qy(e,n,r,l,h,d){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=ka(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Pa(e,l,n),r!==null&&(En(r,e,n),Yl(r,e,n))}function Fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Md(e,n){Fy(e,n),(e=e.alternate)&&Fy(e,n)}function Yy(e){if(e.tag===13||e.tag===31){var n=Ds(e,67108864);n!==null&&En(n,e,67108864),Md(e,67108864)}}function Ky(e){if(e.tag===13||e.tag===31){var n=Mn();n=Es(n);var r=Ds(e,n);r!==null&&En(r,e,n),Md(e,n)}}var Ec=!0;function Kx(e,n,r,l){var h=X.T;X.T=null;var d=st.p;try{st.p=2,jd(e,n,r,l)}finally{st.p=d,X.T=h}}function Qx(e,n,r,l){var h=X.T;X.T=null;var d=st.p;try{st.p=8,jd(e,n,r,l)}finally{st.p=d,X.T=h}}function jd(e,n,r,l){if(Ec){var h=Vd(l);if(h===null)vd(e,n,l,vc,r),$y(e,l);else if(Xx(h,e,n,r,l))l.stopPropagation();else if($y(e,l),n&4&&-1<$x.indexOf(e)){for(;h!==null;){var d=Un(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=yi(d.pendingLanes);if(E!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var D=1<<31-Pt(E);x.entanglements[1]|=D,E&=~D}Ui(d),(Qt&6)===0&&(nc=Fe()+500,oo(0))}}break;case 31:case 13:x=Ds(d,2),x!==null&&En(x,d,2),ac(),Md(d,2)}if(d=Vd(l),d===null&&vd(e,n,l,vc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(e,n,l,null,r)}}function Vd(e){return e=Ln(e),Ud(e)}var vc=null;function Ud(e){if(vc=null,e=bi(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case ps:return 2;case gs:return 8;case pi:case _l:return 32;case ir:return 268435456;default:return 32}default:return 32}}var Ld=!1,Xa=null,Ja=null,Za=null,go=new Map,yo=new Map,Wa=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(e,n){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(n.pointerId)}}function _o(e,n,r,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&Yy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Xx(e,n,r,l,h){switch(n){case"focusin":return Xa=_o(Xa,e,n,r,l,h),!0;case"dragenter":return Ja=_o(Ja,e,n,r,l,h),!0;case"mouseover":return Za=_o(Za,e,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return go.set(d,_o(go.get(d)||null,e,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yo.set(d,_o(yo.get(d)||null,e,n,r,l,h)),!0}return!1}function Xy(e){var n=bi(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,ti(e.priority,function(){Ky(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,ti(e.priority,function(){Ky(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Vd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Cl=l,r.target.dispatchEvent(l),Cl=null}else return n=Un(r),n!==null&&Yy(n),e.blockedOn=r,!1;n.shift()}return!0}function Jy(e,n,r){Tc(e)&&r.delete(n)}function Jx(){Ld=!1,Xa!==null&&Tc(Xa)&&(Xa=null),Ja!==null&&Tc(Ja)&&(Ja=null),Za!==null&&Tc(Za)&&(Za=null),go.forEach(Jy),yo.forEach(Jy)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ld||(Ld=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Jx)))}var xc=null;function Zy(e){xc!==e&&(xc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ud(l||r)===null)continue;break}var d=Un(r);d!==null&&(e.splice(n,3),n-=3,Vf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Yr(e){function n(D){return bc(D,e)}Xa!==null&&bc(Xa,e),Ja!==null&&bc(Ja,e),Za!==null&&bc(Za,e),go.forEach(n),yo.forEach(n);for(var r=0;r<Wa.length;r++){var l=Wa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Wa.length&&(r=Wa[0],r.blockedOn===null);)Xy(r),r.blockedOn===null&&Wa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],E=h[Be]||null;if(typeof d=="function")E||Zy(r);else if(E){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Be]||null)x=E.formAction;else if(Ud(h)!==null)continue}else x=E.action;typeof x=="function"?r[l+1]=x:(r.splice(l,3),l-=3),Zy(r)}}}function Wy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Sc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Mn();qy(r,l,e,n,null,null)},Sc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qy(e.current,2,null,e,null,null),ac(),n[vi]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Wa.length&&n!==0&&n<Wa[r].priority;r++);Wa.splice(r,0,e),r===0&&Xy(e)}};var t_=t.version;if(t_!=="19.2.3")throw Error(s(527,t_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{hn=Ac.inject(Zx),H=Ac}catch{}}return vo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=l0,d=o0,E=u0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Hy(e,1,!1,null,null,r,l,null,h,d,E,Wy),e[vi]=n.current,Ed(e),new kd(n)},vo.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",d=l0,E=o0,x=u0,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=Hy(e,1,!0,n,r??null,l,h,D,d,E,x,Wy),n.context=Gy(null),r=n.current,l=Mn(),l=Es(l),h=ka(l),h.callback=null,Pa(r,h,l),r=l,n.current.lanes=r,ys(n,r),Ui(n),e[vi]=n.current,Ed(e),new Sc(n)},vo.version="19.2.3",vo}var c_;function uS(){if(c_)return Bd.exports;c_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bd.exports=oS(),Bd.exports}var cS=uS();const hS=Bv(cS);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h_="popstate";function fS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:_=""}=Zs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),lm("",{pathname:f,search:m,hash:_},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let _=o.location.href,y=_.indexOf("#");m=y===-1?_:_.slice(0,y)}return m+"#"+(typeof u=="string"?u:Uo(u))}function s(o,u){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return mS(t,a,s,i)}function pe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Xn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dS(){return Math.random().toString(36).substring(2,10)}function f_(i,t){return{usr:i.state,key:i.key,idx:t}}function lm(i,t,a=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Zs(t):t,state:a,key:t&&t.key||s||dS()}}function Uo({pathname:i="/",search:t="",hash:a=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Zs(i){let t={};if(i){let a=i.indexOf("#");a>=0&&(t.hash=i.substring(a),i=i.substring(0,a));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function mS(i,t,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",_=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let O=T(),W=O==null?null:O-y;y=O,_&&_({action:m,location:B.location,delta:W})}function S(O,W){m="PUSH";let at=lm(B.location,O,W);a&&a(at,O),y=T()+1;let $=f_(at,y),dt=B.createHref(at);try{f.pushState($,"",dt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;o.location.assign(dt)}u&&_&&_({action:m,location:B.location,delta:1})}function N(O,W){m="REPLACE";let at=lm(B.location,O,W);a&&a(at,O),y=T();let $=f_(at,y),dt=B.createHref(at);f.replaceState($,"",dt),u&&_&&_({action:m,location:B.location,delta:0})}function M(O){return pS(O)}let B={get action(){return m},get location(){return i(o,f)},listen(O){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(h_,b),_=O,()=>{o.removeEventListener(h_,b),_=null}},createHref(O){return t(o,O)},createURL:M,encodeLocation(O){let W=M(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:N,go(O){return f.go(O)}};return B}function pS(i,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),pe(a,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Uo(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function Hv(i,t,a="/"){return gS(i,t,a,!1)}function gS(i,t,a,s){let o=typeof t=="string"?Zs(t):t,u=pa(o.pathname||"/",a);if(u==null)return null;let f=Gv(i);yS(f);let m=null;for(let _=0;m==null&&_<f.length;++_){let y=RS(u);m=wS(f[_],y,s)}return m}function Gv(i,t=[],a=[],s="",o=!1){let u=(f,m,_=o,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&_)return;pe(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=da([s,T.relativePath]),S=a.concat(T);f.children&&f.children.length>0&&(pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Gv(f.children,t,S,b,_)),!(f.path==null&&!f.index)&&t.push({path:b,score:SS(b,f.index),routesMeta:S})};return i.forEach((f,m)=>{var _;if(f.path===""||!((_=f.path)!=null&&_.includes("?")))u(f,m);else for(let y of qv(f.path))u(f,m,!0,y)}),t}function qv(i){let t=i.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qv(s.join("/")),m=[];return m.push(...f.map(_=>_===""?u:[u,_].join("/"))),o&&m.push(...f),m.map(_=>i.startsWith("/")&&_===""?"/":_)}function yS(i){i.sort((t,a)=>t.score!==a.score?a.score-t.score:AS(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var _S=/^:[\w-]+$/,ES=3,vS=2,TS=1,bS=10,xS=-2,d_=i=>i==="*";function SS(i,t){let a=i.split("/"),s=a.length;return a.some(d_)&&(s+=xS),t&&(s+=vS),a.filter(o=>!d_(o)).reduce((o,u)=>o+(_S.test(u)?ES:u===""?TS:bS),s)}function AS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function wS(i,t,a=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let _=s[m],y=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",b=Kc({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},T),S=_.route;if(!b&&y&&a&&!s[s.length-1].route.index&&(b=Kc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:da([u,b.pathname]),pathnameBase:OS(da([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=da([u,b.pathnameBase]))}return f}function Kc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,s]=NS(i.path,i.caseSensitive,i.end),o=t.match(a);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},S)=>{if(T==="*"){let M=m[S]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=m[S];return b&&!N?y[T]=void 0:y[T]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function NS(i,t=!1,a=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,_)=>(s.push({paramName:m,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function RS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function pa(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=i.charAt(a);return s&&s!=="/"?null:i.slice(a)||"/"}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IS=i=>Fv.test(i);function CS(i,t="/"){let{pathname:a,search:s="",hash:o=""}=typeof i=="string"?Zs(i):i,u;if(a)if(IS(a))u=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${a}`)}a.startsWith("/")?u=m_(a.substring(1),"/"):u=m_(a,t)}else u=t;return{pathname:u,search:MS(s),hash:jS(o)}}function m_(i,t){let a=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Fd(i,t,a,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DS(i){return i.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Yv(i){let t=DS(i);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function Kv(i,t,a,s=!1){let o;typeof i=="string"?o=Zs(i):(o={...i},pe(!o.pathname||!o.pathname.includes("?"),Fd("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),Fd("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),Fd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=a;else{let b=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let _=CS(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&a.endsWith("/");return!_.pathname.endsWith("/")&&(y||T)&&(_.pathname+="/"),_}var da=i=>i.join("/").replace(/\/\/+/g,"/"),OS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,jS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,VS=class{constructor(i,t,a,s=!1){this.status=i,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function US(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function LS(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $v(i,t){let a=i;if(typeof a!="string"||!Fv.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,o=!1;if(Qv)try{let u=new URL(window.location.href),f=a.startsWith("//")?new URL(u.protocol+a):new URL(a),m=pa(f.pathname,t);f.origin===u.origin&&m!=null?a=m+f.search+f.hash:o=!0}catch{Xn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xv=["POST","PUT","PATCH","DELETE"];new Set(Xv);var kS=["GET",...Xv];new Set(kS);var cl=P.createContext(null);cl.displayName="DataRouter";var yh=P.createContext(null);yh.displayName="DataRouterState";var PS=P.createContext(!1),Jv=P.createContext({isTransitioning:!1});Jv.displayName="ViewTransition";var zS=P.createContext(new Map);zS.displayName="Fetchers";var BS=P.createContext(null);BS.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var Fo=P.createContext(null);Fo.displayName="Location";var va=P.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var zm=P.createContext(null);zm.displayName="RouteError";var Zv="REACT_ROUTER_ERROR",HS="REDIRECT",GS="ROUTE_ERROR_RESPONSE";function qS(i){if(i.startsWith(`${Zv}:${HS}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function FS(i){if(i.startsWith(`${Zv}:${GS}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new VS(t.status,t.statusText,t.data)}catch{}}function YS(i,{relative:t}={}){pe(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=P.useContext(Zn),{hash:o,pathname:u,search:f}=Ko(i,{relative:t}),m=u;return a!=="/"&&(m=u==="/"?a:da([a,u])),s.createHref({pathname:m,search:f,hash:o})}function Yo(){return P.useContext(Fo)!=null}function fs(){return pe(Yo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Fo).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t1(i){P.useContext(Zn).static||P.useLayoutEffect(i)}function KS(){let{isDataRoute:i}=P.useContext(va);return i?rA():QS()}function QS(){pe(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(cl),{basename:t,navigator:a}=P.useContext(Zn),{matches:s}=P.useContext(va),{pathname:o}=fs(),u=JSON.stringify(Yv(s)),f=P.useRef(!1);return t1(()=>{f.current=!0}),P.useCallback((_,y={})=>{if(Xn(f.current,Wv),!f.current)return;if(typeof _=="number"){a.go(_);return}let T=Kv(_,JSON.parse(u),o,y.relative==="path");i==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:da([t,T.pathname])),(y.replace?a.replace:a.push)(T,y.state,y)},[t,a,u,o,i])}P.createContext(null);function Ko(i,{relative:t}={}){let{matches:a}=P.useContext(va),{pathname:s}=fs(),o=JSON.stringify(Yv(a));return P.useMemo(()=>Kv(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function $S(i,t){return e1(i,t)}function e1(i,t,a,s,o){var at;pe(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Zn),{matches:f}=P.useContext(va),m=f[f.length-1],_=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";i1(y,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=fs(),N;if(t){let $=typeof t=="string"?Zs(t):t;pe(T==="/"||((at=$.pathname)==null?void 0:at.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${$.pathname}" was given in the \`location\` prop.`),N=$}else N=S;let M=N.pathname||"/",B=M;if(T!=="/"){let $=T.replace(/^\//,"").split("/");B="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let O=Hv(i,{pathname:B});Xn(b||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Xn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=tA(O&&O.map($=>Object.assign({},$,{params:Object.assign({},_,$.params),pathname:da([T,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?T:da([T,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),f,a,s,o);return t&&W?P.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},W):W}function XS(){let i=sA(),t=US(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),a?P.createElement("pre",{style:o},a):null,f)}var JS=P.createElement(XS,null),n1=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const a=FS(i.digest);a&&(i=a)}let t=i!==void 0?P.createElement(va.Provider,{value:this.props.routeContext},P.createElement(zm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?P.createElement(ZS,{error:i},t):t}};n1.contextType=PS;var Yd=new WeakMap;function ZS({children:i,error:t}){let{basename:a}=P.useContext(Zn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=qS(t.digest);if(s){let o=Yd.get(t);if(o)throw o;let u=$v(s.location,a);if(Qv&&!Yd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Yd.set(t,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function WS({routeContext:i,match:t,children:a}){let s=P.useContext(cl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(va.Provider,{value:i},a)}function tA(i,t=[],a=null,s=null,o=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let u=i,f=a==null?void 0:a.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);pe(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,_=-1;if(a)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(_=T),b.route.id){let{loaderData:S,errors:N}=a,M=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||M){m=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}let y=a&&s?(T,b)=>{var S,N;s(T,{location:a.location,params:((N=(S=a.matches)==null?void 0:S[0])==null?void 0:N.params)??{},unstable_pattern:LS(a.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,S)=>{let N,M=!1,B=null,O=null;a&&(N=f&&b.route.id?f[b.route.id]:void 0,B=b.route.errorElement||JS,m&&(_<0&&S===0?(i1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,O=null):_===S&&(M=!0,O=b.route.hydrateFallbackElement||null)));let W=t.concat(u.slice(0,S+1)),at=()=>{let $;return N?$=B:M?$=O:b.route.Component?$=P.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=T,P.createElement(WS,{match:b,routeContext:{outlet:T,matches:W,isDataRoute:a!=null},children:$})};return a&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?P.createElement(n1,{location:a.location,revalidation:a.revalidation,component:B,error:N,children:at(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):at()},null)}function Bm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eA(i){let t=P.useContext(cl);return pe(t,Bm(i)),t}function nA(i){let t=P.useContext(yh);return pe(t,Bm(i)),t}function iA(i){let t=P.useContext(va);return pe(t,Bm(i)),t}function Hm(i){let t=iA(i),a=t.matches[t.matches.length-1];return pe(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function aA(){return Hm("useRouteId")}function sA(){var s;let i=P.useContext(zm),t=nA("useRouteError"),a=Hm("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[a]}function rA(){let{router:i}=eA("useNavigate"),t=Hm("useNavigate"),a=P.useRef(!1);return t1(()=>{a.current=!0}),P.useCallback(async(o,u={})=>{Xn(a.current,Wv),a.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var p_={};function i1(i,t,a){!t&&!p_[i]&&(p_[i]=!0,Xn(!1,a))}P.memo(lA);function lA({routes:i,future:t,state:a,onError:s}){return e1(i,void 0,a,s,t)}function Kr(i){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oA({basename:i="/",children:t=null,location:a,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){pe(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),_=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof a=="string"&&(a=Zs(a));let{pathname:y="/",search:T="",hash:b="",state:S=null,key:N="default"}=a,M=P.useMemo(()=>{let B=pa(y,m);return B==null?null:{location:{pathname:B,search:T,hash:b,state:S,key:N},navigationType:s}},[m,y,T,b,S,N,s]);return Xn(M!=null,`<Router basename="${m}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:P.createElement(Zn.Provider,{value:_},P.createElement(Fo.Provider,{children:t,value:M}))}function uA({children:i,location:t}){return $S(om(i),t)}function om(i,t=[]){let a=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){a.push.apply(a,om(s.props.children,u));return}pe(s.type===Kr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=om(s.props.children,u)),a.push(f)}),a}var Lc="get",kc="application/x-www-form-urlencoded";function _h(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function cA(i){return _h(i)&&i.tagName.toLowerCase()==="button"}function hA(i){return _h(i)&&i.tagName.toLowerCase()==="form"}function fA(i){return _h(i)&&i.tagName.toLowerCase()==="input"}function dA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mA(i,t){return i.button===0&&(!t||t==="_self")&&!dA(i)}var wc=null;function pA(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var gA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kd(i){return i!=null&&!gA.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):i}function yA(i,t){let a,s,o,u,f;if(hA(i)){let m=i.getAttribute("action");s=m?pa(m,t):null,a=i.getAttribute("method")||Lc,o=Kd(i.getAttribute("enctype"))||kc,u=new FormData(i)}else if(cA(i)||fA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=i.getAttribute("formaction")||m.getAttribute("action");if(s=_?pa(_,t):null,a=i.getAttribute("formmethod")||m.getAttribute("method")||Lc,o=Kd(i.getAttribute("formenctype"))||Kd(m.getAttribute("enctype"))||kc,u=new FormData(m,i),!pA()){let{name:y,type:T,value:b}=i;if(T==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(_h(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Lc,s=null,o=kc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function _A(i,t,a,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&pa(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function EA(i,t){if(i.id in t)return t[i.id];try{let a=await import(i.module);return t[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function TA(i,t,a){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await EA(u,a);return f.links?f.links():[]}return[]}));return AA(s.flat(1).filter(vA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g_(i,t,a,s,o,u){let f=(_,y)=>a[y]?_.route.id!==a[y].route.id:!0,m=(_,y)=>{var T;return a[y].pathname!==_.pathname||((T=a[y].route.path)==null?void 0:T.endsWith("*"))&&a[y].params["*"]!==_.params["*"]};return u==="assets"?t.filter((_,y)=>f(_,y)||m(_,y)):u==="data"?t.filter((_,y)=>{var b;let T=s.routes[_.route.id];if(!T||!T.hasLoader)return!1;if(f(_,y)||m(_,y))return!0;if(_.route.shouldRevalidate){let S=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=a[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function bA(i,t,{includeHydrateFallback:a}={}){return xA(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xA(i){return[...new Set(i)]}function SA(i){let t={},a=Object.keys(i).sort();for(let s of a)t[s]=i[s];return t}function AA(i,t){let a=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(SA(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function a1(){let i=P.useContext(cl);return Gm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wA(){let i=P.useContext(yh);return Gm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qm=P.createContext(void 0);qm.displayName="FrameworkContext";function s1(){let i=P.useContext(qm);return Gm(i,"You must render this element inside a <HydratedRouter> element"),i}function NA(i,t){let a=P.useContext(qm),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:_,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=t,S=P.useRef(null);P.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let B=W=>{W.forEach(at=>{f(at.isIntersecting)})},O=new IntersectionObserver(B,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[i]),P.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let N=()=>{o(!0)},M=()=>{o(!1),f(!1)};return a?i!=="intent"?[u,S,{}]:[u,S,{onFocus:To(m,N),onBlur:To(_,M),onMouseEnter:To(y,N),onMouseLeave:To(T,M),onTouchStart:To(b,N)}]:[!1,S,{}]}function To(i,t){return a=>{i&&i(a),a.defaultPrevented||t(a)}}function RA({page:i,...t}){let{router:a}=a1(),s=P.useMemo(()=>Hv(a.routes,i,a.basename),[a.routes,i,a.basename]);return s?P.createElement(CA,{page:i,matches:s,...t}):null}function IA(i){let{manifest:t,routeModules:a}=s1(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return TA(i,t,a).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,a]),s}function CA({page:i,matches:t,...a}){let s=fs(),{future:o,manifest:u,routeModules:f}=s1(),{basename:m}=a1(),{loaderData:_,matches:y}=wA(),T=P.useMemo(()=>g_(i,t,y,u,s,"data"),[i,t,y,u,s]),b=P.useMemo(()=>g_(i,t,y,u,s,"assets"),[i,t,y,u,s]),S=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,O=!1;if(t.forEach(at=>{var dt;let $=u.routes[at.route.id];!$||!$.hasLoader||(!T.some(mt=>mt.route.id===at.route.id)&&at.route.id in _&&((dt=f[at.route.id])!=null&&dt.shouldRevalidate)||$.hasClientLoader?O=!0:B.add(at.route.id))}),B.size===0)return[];let W=_A(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return O&&B.size>0&&W.searchParams.set("_routes",t.filter(at=>B.has(at.route.id)).map(at=>at.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,_,s,u,T,t,i,f]),N=P.useMemo(()=>bA(b,u),[b,u]),M=IA(b);return P.createElement(P.Fragment,null,S.map(B=>P.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...a})),N.map(B=>P.createElement("link",{key:B,rel:"modulepreload",href:B,...a})),M.map(({key:B,link:O})=>P.createElement("link",{key:B,nonce:a.nonce,...O})))}function DA(...i){return t=>{i.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.12.0")}catch{}function MA({basename:i,children:t,unstable_useTransitions:a,window:s}){let o=P.useRef();o.current==null&&(o.current=fS({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),_=P.useCallback(y=>{a===!1?m(y):P.startTransition(()=>m(y))},[a]);return P.useLayoutEffect(()=>u.listen(_),[u,_]),P.createElement(oA,{basename:i,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:a})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fm=P.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:_,to:y,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...N},M){let{basename:B,unstable_useTransitions:O}=P.useContext(Zn),W=typeof y=="string"&&r1.test(y),at=$v(y,B);y=at.to;let $=YS(y,{relative:o}),[dt,mt,yt]=NA(s,N),I=LA(y,{replace:f,state:m,target:_,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:O});function w(L){t&&t(L),L.defaultPrevented||I(L)}let R=P.createElement("a",{...N,...yt,href:at.absoluteURL||$,onClick:at.isExternal||u?t:w,ref:DA(M,mt),target:_,"data-discover":!W&&a==="render"?"true":void 0});return dt&&!W?P.createElement(P.Fragment,null,R,P.createElement(RA,{page:$})):R});Fm.displayName="Link";var jA=P.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:_,...y},T){let b=Ko(f,{relative:y.relative}),S=fs(),N=P.useContext(yh),{navigator:M,basename:B}=P.useContext(Zn),O=N!=null&&HA(b)&&m===!0,W=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,at=S.pathname,$=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(at=at.toLowerCase(),$=$?$.toLowerCase():null,W=W.toLowerCase()),$&&B&&($=pa($,B)||$);const dt=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let mt=at===W||!o&&at.startsWith(W)&&at.charAt(dt)==="/",yt=$!=null&&($===W||!o&&$.startsWith(W)&&$.charAt(W.length)==="/"),I={isActive:mt,isPending:yt,isTransitioning:O},w=mt?t:void 0,R;typeof s=="function"?R=s(I):R=[s,mt?"active":null,yt?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return P.createElement(Fm,{...y,"aria-current":w,className:R,ref:T,style:L,to:f,viewTransition:m},typeof _=="function"?_(I):_)});jA.displayName="NavLink";var VA=P.forwardRef(({discover:i="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:o,state:u,method:f=Lc,action:m,onSubmit:_,relative:y,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S,...N},M)=>{let{unstable_useTransitions:B}=P.useContext(Zn),O=zA(),W=BA(m,{relative:y}),at=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&r1.test(m),dt=mt=>{if(_&&_(mt),mt.defaultPrevented)return;mt.preventDefault();let yt=mt.nativeEvent.submitter,I=(yt==null?void 0:yt.getAttribute("formmethod"))||f,w=()=>O(yt||mt.currentTarget,{fetcherKey:t,method:I,navigate:a,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:S});B&&a!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:M,method:at,action:W,onSubmit:s?_:dt,...N,"data-discover":!$&&i==="render"?"true":void 0})});VA.displayName="Form";function UA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(i){let t=P.useContext(cl);return pe(t,UA(i)),t}function LA(i,{target:t,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:_}={}){let y=KS(),T=fs(),b=Ko(i,{relative:u});return P.useCallback(S=>{if(mA(S,t)){S.preventDefault();let N=a!==void 0?a:Uo(T)===Uo(b),M=()=>y(i,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});_?P.startTransition(()=>M()):M()}},[T,y,b,a,s,t,i,o,u,f,m,_])}var kA=0,PA=()=>`__${String(++kA)}__`;function zA(){let{router:i}=l1("useSubmit"),{basename:t}=P.useContext(Zn),a=aA(),s=i.fetch,o=i.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:_,encType:y,formData:T,body:b}=yA(u,t);if(f.navigate===!1){let S=f.fetcherKey||PA();await s(S,a,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||_,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||_,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,a])}function BA(i,{relative:t}={}){let{basename:a}=P.useContext(Zn),s=P.useContext(va);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ko(i||".",{relative:t})},f=fs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),_=m.getAll("index");if(_.some(T=>T==="")){m.delete("index"),_.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:da([a,u.pathname])),Uo(u)}function HA(i,{relative:t}={}){let a=P.useContext(Jv);pe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=l1("useViewTransitionState"),o=Ko(i,{relative:t});if(!a.isTransitioning)return!1;let u=pa(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=pa(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Kc(o.pathname,f)!=null||Kc(o.pathname,u)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qA=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),y_=i=>{const t=qA(i);return t.charAt(0).toUpperCase()+t.slice(1)},o1=(...i)=>i.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),FA=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=P.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},_)=>P.createElement("svg",{ref:_,...YA,width:t,height:t,stroke:i,strokeWidth:s?Number(a)*24/Number(t):a,className:o1("lucide",o),...!u&&!FA(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>P.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(i,t)=>{const a=P.forwardRef(({className:s,...o},u)=>P.createElement(KA,{ref:u,iconNode:t,className:o1(`lucide-${GA(y_(i))}`,`lucide-${i}`,s),...o}));return a.displayName=y_(i),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$A=Ct("calendar",QA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],__=Ct("camera",XA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pc=Ct("check",JA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WA=Ct("chevron-right",ZA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e2=Ct("circle-alert",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i2=Ct("circle-check-big",n2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s2=Ct("circle-check",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qc=Ct("clock",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o2=Ct("eye",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],c2=Ct("flame",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],E_=Ct("gift",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],d2=Ct("graduation-cap",f2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zc=Ct("heart",m2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$c=Ct("history",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],y2=Ct("layout-dashboard",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E2=Ct("log-out",_2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],T2=Ct("medal",v2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],x2=Ct("menu",b2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],um=Ct("package",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xo=Ct("plus",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],N2=Ct("qr-code",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],I2=Ct("scan-line",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],D2=Ct("search",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],M2=Ct("send",O2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xc=Ct("shield-check",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],U2=Ct("shopping-bag",V2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k2=Ct("shopping-cart",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cm=Ct("sparkles",P2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],B2=Ct("star",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jc=Ct("target",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],q2=Ct("thumbs-up",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qd=Ct("trash-2",F2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],K2=Ct("trending-up",Y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$2=Ct("trophy",Q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hm=Ct("user-plus",X2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Z2=Ct("user",J2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tw=Ct("users",W2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],il=Ct("x",ew);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],u1=Ct("zap",nw);var $n=(i=>(i.STUDENT="STUDENT",i.ADMIN="ADMIN",i.GUEST="GUEST",i))($n||{});const iw=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(i){const t=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},aw=function(i){const t=[];let a=0,s=0;for(;a<i.length;){const o=i[a++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],f=i[a++],m=i[a++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=i[a++],f=i[a++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,_=o+2<i.length,y=_?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,N=y&63;_||(N=64,f||(S=64)),s.push(a[T],a[b],a[S],a[N])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(c1(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):aw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],m=o<i.length?a[i.charAt(o)]:0;++o;const y=o<i.length?a[i.charAt(o)]:64;++o;const b=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new sw;const S=u<<2|m>>4;if(s.push(S),y!==64){const N=m<<4&240|y>>2;if(s.push(N),b!==64){const M=y<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(i){const t=c1(i);return h1.encodeByteArray(t,!0)},Zc=function(i){return rw(i).replace(/\./g,"")},lw=function(i){try{return h1.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=()=>ow().__FIREBASE_DEFAULTS__,cw=()=>{if(typeof process>"u"||typeof v_>"u")return;const i=v_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&lw(i[1]);return t&&JSON.parse(t)},Ym=()=>{try{return iw()||uw()||cw()||hw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},fw=i=>{var t,a;return(a=(t=Ym())==null?void 0:t.emulatorHosts)==null?void 0:a[i]},dw=i=>{const t=fw(i);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),s]:[t.substring(0,a),s]},f1=()=>{var i;return(i=Ym())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Zc(JSON.stringify(a)),Zc(JSON.stringify(f)),""].join(".")}const Io={};function yw(){const i={prod:[],emulator:[]};for(const t of Object.keys(Io))Io[t]?i.emulator.push(t):i.prod.push(t);return i}function _w(i){let t=document.getElementById(i),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),a=!0),{created:a,element:t}}let T_=!1;function Ew(i,t){if(typeof window>"u"||typeof document>"u"||!Km(window.location.host)||Io[i]===t||Io[i]||T_)return;Io[i]=t;function a(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yw().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function _(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{T_=!0,f()},S}function T(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=_w(s),N=a("text"),M=document.getElementById(N)||document.createElement("span"),B=a("learnmore"),O=document.getElementById(B)||document.createElement("a"),W=a("preprendIcon"),at=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),T(O,B);const dt=y();_(at,W),$.append(at,M,O,dt),document.body.appendChild($)}u?(M.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tw(){var t;const i=(t=Ym())==null?void 0:t.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bw(){return!Tw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Sw(){return new Promise((i,t)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="FirebaseError";class hl extends Error{constructor(t,a,s){super(a),this.code=t,this.customData=s,this.name=Aw,Object.setPrototypeOf(this,hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d1.prototype.create)}}class d1{constructor(t,a,s){this.service=t,this.serviceName=a,this.errors=s}create(t,...a){const s=a[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?ww(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hl(o,m,s)}}function ww(i,t){return i.replace(Nw,(a,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Nw=/\{\$([^}]+)}/g;function Wc(i,t){if(i===t)return!0;const a=Object.keys(i),s=Object.keys(t);for(const o of a){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(b_(u)&&b_(f)){if(!Wc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function b_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(i){return i&&i._delegate?i._delegate:i}class Lo{constructor(t,a,s){this.name=t,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const s=new mw;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cw(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,a){const s=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(t),options:a}),this.instances.set(t,s),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(i){return i===qs?void 0:i}function Cw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new Rw(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const Ow={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Mw=Ht.INFO,jw={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Vw=(i,t,...a)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=jw[t];if(o)console[o](`[${s}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m1{constructor(t){this.name=t,this._logLevel=Mw,this._logHandler=Vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ow[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const Uw=(i,t)=>t.some(a=>i instanceof a);let x_,S_;function Lw(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kw(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,fm=new WeakMap,g1=new WeakMap,$d=new WeakMap,Qm=new WeakMap;function Pw(i){const t=new Promise((a,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(ns(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(a=>{a instanceof IDBCursor&&p1.set(a,i)}).catch(()=>{}),Qm.set(t,i),t}function zw(i){if(fm.has(i))return;const t=new Promise((a,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});fm.set(i,t)}let dm={get(i,t,a){if(i instanceof IDBTransaction){if(t==="done")return fm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||g1.get(i);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ns(i[t])},set(i,t,a){return i[t]=a,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Bw(i){dm=i(dm)}function Hw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const s=i.call(Xd(this),t,...a);return g1.set(s,t.sort?t.sort():[t]),ns(s)}:kw().includes(i)?function(...t){return i.apply(Xd(this),t),ns(p1.get(this))}:function(...t){return ns(i.apply(Xd(this),t))}}function Gw(i){return typeof i=="function"?Hw(i):(i instanceof IDBTransaction&&zw(i),Uw(i,Lw())?new Proxy(i,dm):i)}function ns(i){if(i instanceof IDBRequest)return Pw(i);if($d.has(i))return $d.get(i);const t=Gw(i);return t!==i&&($d.set(i,t),Qm.set(t,i)),t}const Xd=i=>Qm.get(i);function qw(i,t,{blocked:a,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=ns(f);return s&&f.addEventListener("upgradeneeded",_=>{s(ns(f.result),_.oldVersion,_.newVersion,ns(f.transaction),_)}),a&&f.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),m.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Fw=["get","getKey","getAll","getAllKeys","count"],Yw=["put","add","delete","clear"],Jd=new Map;function A_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Jd.get(t))return Jd.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,o=Yw.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fw.includes(a)))return;const u=async function(f,...m){const _=this.transaction(f,o?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[a](...m),o&&_.done]))[0]};return Jd.set(t,u),u}Bw(i=>({...i,get:(t,a,s)=>A_(t,a)||i.get(t,a,s),has:(t,a)=>!!A_(t,a)||i.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Qw(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function Qw(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mm="@firebase/app",w_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new m1("@firebase/app"),$w="@firebase/app-compat",Xw="@firebase/analytics-compat",Jw="@firebase/analytics",Zw="@firebase/app-check-compat",Ww="@firebase/app-check",tN="@firebase/auth",eN="@firebase/auth-compat",nN="@firebase/database",iN="@firebase/data-connect",aN="@firebase/database-compat",sN="@firebase/functions",rN="@firebase/functions-compat",lN="@firebase/installations",oN="@firebase/installations-compat",uN="@firebase/messaging",cN="@firebase/messaging-compat",hN="@firebase/performance",fN="@firebase/performance-compat",dN="@firebase/remote-config",mN="@firebase/remote-config-compat",pN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",_N="@firebase/ai",EN="@firebase/firestore-compat",vN="firebase",TN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",bN={[mm]:"fire-core",[$w]:"fire-core-compat",[Jw]:"fire-analytics",[Xw]:"fire-analytics-compat",[Ww]:"fire-app-check",[Zw]:"fire-app-check-compat",[tN]:"fire-auth",[eN]:"fire-auth-compat",[nN]:"fire-rtdb",[iN]:"fire-data-connect",[aN]:"fire-rtdb-compat",[sN]:"fire-fn",[rN]:"fire-fn-compat",[lN]:"fire-iid",[oN]:"fire-iid-compat",[uN]:"fire-fcm",[cN]:"fire-fcm-compat",[hN]:"fire-perf",[fN]:"fire-perf-compat",[dN]:"fire-rc",[mN]:"fire-rc-compat",[pN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[EN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,xN=new Map,gm=new Map;function N_(i,t){try{i.container.addComponent(t)}catch(a){ga.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,a)}}function eh(i){const t=i.name;if(gm.has(t))return ga.debug(`There were multiple attempts to register component ${t}.`),!1;gm.set(t,i);for(const a of th.values())N_(a,i);for(const a of xN.values())N_(a,i);return!0}function SN(i,t){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(t)}function AN(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new d1("app","Firebase",wN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,a,s){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=TN;function y1(i,t={}){let a=i;typeof t!="object"&&(t={name:t});const s={name:pm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(a||(a=f1()),!a)throw is.create("no-options");const u=th.get(o);if(u){if(Wc(a,u.options)&&Wc(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new Dw(o);for(const _ of gm.values())f.addComponent(_);const m=new NN(a,s,f);return th.set(o,m),m}function IN(i=pm){const t=th.get(i);if(!t&&i===pm&&f1())return y1();if(!t)throw is.create("no-app",{appName:i});return t}function tl(i,t,a){let s=bN[i]??i;a&&(s+=`-${a}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ga.warn(f.join(" "));return}eh(new Lo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",DN=1,ko="firebase-heartbeat-store";let Zd=null;function _1(){return Zd||(Zd=qw(CN,DN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ko)}catch(a){console.warn(a)}}}}).catch(i=>{throw is.create("idb-open",{originalErrorMessage:i.message})})),Zd}async function ON(i){try{const a=(await _1()).transaction(ko),s=await a.objectStore(ko).get(E1(i));return await a.done,s}catch(t){if(t instanceof hl)ga.warn(t.message);else{const a=is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ga.warn(a.message)}}}async function R_(i,t){try{const s=(await _1()).transaction(ko,"readwrite");await s.objectStore(ko).put(t,E1(i)),await s.done}catch(a){if(a instanceof hl)ga.warn(a.message);else{const s=is.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});ga.warn(s.message)}}}function E1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1024,jN=30;class VN{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new LN(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=I_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jN){const f=kN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ga.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=I_(),{heartbeatsToSend:s,unsentEntries:o}=UN(this._heartbeatsCache.heartbeats),u=Zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return ga.warn(a),""}}}function I_(){return new Date().toISOString().substring(0,10)}function UN(i,t=MN){const a=[];let s=i.slice();for(const o of i){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),C_(a)>t){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),C_(a)>t){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class LN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xw()?Sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await ON(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function C_(i){return Zc(JSON.stringify({version:2,heartbeats:i})).length}function kN(i){if(i.length===0)return-1;let t=0,a=i[0].date;for(let s=1;s<i.length;s++)i[s].date<a&&(a=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i){eh(new Lo("platform-logger",t=>new Kw(t),"PRIVATE")),eh(new Lo("heartbeat",t=>new VN(t),"PRIVATE")),tl(mm,w_,i),tl(mm,w_,"esm2020"),tl("fire-js","")}PN("");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,v1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(L,V,z){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return w.prototype[V].apply(L,C)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,a),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const L=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)L[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)L[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],V=I.g[2];let z=I.g[3],C;C=w+(z^R&(V^z))+L[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=z+(V^w&(R^V))+L[1]+3905402710&4294967295,z=w+(C<<12&4294967295|C>>>20),C=V+(R^z&(w^R))+L[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(w^V&(z^w))+L[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(z^R&(V^z))+L[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=z+(V^w&(R^V))+L[5]+1200080426&4294967295,z=w+(C<<12&4294967295|C>>>20),C=V+(R^z&(w^R))+L[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(w^V&(z^w))+L[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(z^R&(V^z))+L[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=z+(V^w&(R^V))+L[9]+2336552879&4294967295,z=w+(C<<12&4294967295|C>>>20),C=V+(R^z&(w^R))+L[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(w^V&(z^w))+L[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(z^R&(V^z))+L[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=z+(V^w&(R^V))+L[13]+4254626195&4294967295,z=w+(C<<12&4294967295|C>>>20),C=V+(R^z&(w^R))+L[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(w^V&(z^w))+L[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(V^z&(R^V))+L[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(w^R))+L[6]+3225465664&4294967295,z=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(z^w))+L[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^w&(V^z))+L[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^z&(R^V))+L[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(w^R))+L[10]+38016083&4294967295,z=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(z^w))+L[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^w&(V^z))+L[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^z&(R^V))+L[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(w^R))+L[14]+3275163606&4294967295,z=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(z^w))+L[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^w&(V^z))+L[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^z&(R^V))+L[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(w^R))+L[2]+4243563512&4294967295,z=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(z^w))+L[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^w&(V^z))+L[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(R^V^z)+L[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=z+(w^R^V)+L[8]+2272392833&4294967295,z=w+(C<<11&4294967295|C>>>21),C=V+(z^w^R)+L[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^w)+L[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^z)+L[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=z+(w^R^V)+L[4]+1272893353&4294967295,z=w+(C<<11&4294967295|C>>>21),C=V+(z^w^R)+L[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^w)+L[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^z)+L[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=z+(w^R^V)+L[0]+3936430074&4294967295,z=w+(C<<11&4294967295|C>>>21),C=V+(z^w^R)+L[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^w)+L[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^z)+L[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=z+(w^R^V)+L[12]+3873151461&4294967295,z=w+(C<<11&4294967295|C>>>21),C=V+(z^w^R)+L[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^w)+L[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(V^(R|~z))+L[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=z+(R^(w|~V))+L[7]+1126891415&4294967295,z=w+(C<<10&4294967295|C>>>22),C=V+(w^(z|~R))+L[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~w))+L[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~z))+L[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=z+(R^(w|~V))+L[3]+2399980690&4294967295,z=w+(C<<10&4294967295|C>>>22),C=V+(w^(z|~R))+L[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~w))+L[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~z))+L[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=z+(R^(w|~V))+L[15]+4264355552&4294967295,z=w+(C<<10&4294967295|C>>>22),C=V+(w^(z|~R))+L[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~w))+L[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~z))+L[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=z+(R^(w|~V))+L[11]+3174756917&4294967295,z=w+(C<<10&4294967295|C>>>22),C=V+(w^(z|~R))+L[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~w))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,L=this.C;let V=this.h,z=0;for(;z<w;){if(V==0)for(;z<=R;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<w;)if(L[V++]=I.charCodeAt(z++),V==this.blockSize){o(this,L),V=0;break}}else for(;z<w;)if(L[V++]=I[z++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)I[w++]=this.g[R]>>>L&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;const R=[];let L=!0;for(let V=I.length-1;V>=0;V--){const z=I[V]|0;L&&z==w||(R[V]=z,L=!1)}this.g=R}var m={};function _(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return O(y(-I));const w=[];let R=1;for(let L=0;I>=R;L++)w[L]=I/R|0,R*=4294967296;return new f(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return O(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let L=b;for(let z=0;z<I.length;z+=8){var V=Math.min(8,I.length-z);const C=parseInt(I.substring(z,z+V),w);V<8?(V=y(Math.pow(w,V)),L=L.j(V).add(y(C))):(L=L.j(R),L=L.add(y(C)))}return L}var b=_(0),S=_(1),N=_(16777216);i=f.prototype,i.m=function(){if(B(this))return-O(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);I+=(L>=0?L:4294967296+L)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(B(this))return"-"+O(this).toString(I);const w=y(Math.pow(I,6));var R=this;let L="";for(;;){const V=dt(R,w).g;R=W(R,V.j(w));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,M(R))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function B(I){return I.h==-1}i.l=function(I){return I=W(this,I),B(I)?-1:M(I)?0:1};function O(I){const w=I.g.length,R=[];for(let L=0;L<w;L++)R[L]=~I.g[L];return new f(R,~I.h).add(S)}i.abs=function(){return B(this)?O(this):this},i.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let L=0;for(let V=0;V<=w;V++){let z=L+(this.i(V)&65535)+(I.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=C>>>16,z&=65535,C&=65535,R[V]=C<<16|z}return new f(R,R[R.length-1]&-2147483648?-1:0)};function W(I,w){return I.add(O(w))}i.j=function(I){if(M(this)||M(I))return b;if(B(this))return B(I)?O(this).j(O(I)):O(O(this).j(I));if(B(I))return O(this.j(O(I)));if(this.l(N)<0&&I.l(N)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var L=0;L<2*w;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const z=this.i(L)>>>16,C=this.i(L)&65535,re=I.i(V)>>>16,ye=I.i(V)&65535;R[2*L+2*V]+=C*ye,at(R,2*L+2*V),R[2*L+2*V+1]+=z*ye,at(R,2*L+2*V+1),R[2*L+2*V+1]+=C*re,at(R,2*L+2*V+1),R[2*L+2*V+2]+=z*re,at(R,2*L+2*V+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new f(R,0)};function at(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function $(I,w){this.g=I,this.h=w}function dt(I,w){if(M(w))throw Error("division by zero");if(M(I))return new $(b,b);if(B(I))return w=dt(O(I),w),new $(O(w.g),O(w.h));if(B(w))return w=dt(I,O(w)),new $(O(w.g),w.h);if(I.g.length>30){if(B(I)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,L=w;L.l(I)<=0;)R=mt(R),L=mt(L);var V=yt(R,1),z=yt(L,1);for(L=yt(L,2),R=yt(R,2);!M(L);){var C=z.add(L);C.l(I)<=0&&(V=V.add(R),z=C),L=yt(L,1),R=yt(R,1)}return w=W(I,V.j(w)),new $(V,w)}for(V=b;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=y(R),C=z.j(w);B(C)||C.l(I)>0;)R-=L,z=y(R),C=z.j(w);M(z)&&(z=S),V=V.add(z),I=W(I,C)}return new $(V,I)}i.B=function(I){return dt(this,I).h},i.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)&I.i(L);return new f(R,this.h&I.h)},i.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)|I.i(L);return new f(R,this.h|I.h)},i.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let L=0;L<w;L++)R[L]=this.i(L)^I.i(L);return new f(R,this.h^I.h)};function mt(I){const w=I.g.length+1,R=[];for(let L=0;L<w;L++)R[L]=I.i(L)<<1|I.i(L-1)>>>31;return new f(R,I.h)}function yt(I,w){const R=w>>5;w%=32;const L=I.g.length-R,V=[];for(let z=0;z<L;z++)V[z]=w>0?I.i(z+R)>>>w|I.i(z+R+1)<<32-w:I.i(z+R);return new f(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,v1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,as=f}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,So,b1,Bc,ym,x1,S1,A1;(function(){var i,t=Object.defineProperty;function a(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=a(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in v))break t;v=v[G]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=_,y.apply(null,arguments)}function T(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,G,K){for(var rt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)rt[wt-2]=arguments[wt];return g.prototype[G].apply(A,rt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function M(c,g){for(let A=1;A<arguments.length;A++){const G=arguments[A];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=c.length||0;const K=G.length||0;c.length=v+K;for(let rt=0;rt<K;rt++)c[v+rt]=G[rt]}else c.push(G)}}class B{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function O(c){f.setTimeout(()=>{throw c},0)}function W(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class at{constructor(){this.h=this.g=null}add(g,v){const A=$.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new B(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,yt=!1,I=new at,w=()=>{const c=Promise.resolve(void 0);mt=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){O(v)}var g=$;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}yt=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function re(c,g){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(re,V),re.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),X=0;function st(c,g,v,A,G){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=G,this.key=++X,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function qt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function j(c){const g={};for(const v in c)g[v]=c[v];return g}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,g){let v,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(v in A)c[v]=A[v];for(let K=0;K<tt.length;K++)v=tt[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,g,v,A,G){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const rt=xt(c,g,A,G);return rt>-1?(g=c[rt],v||(g.fa=!1)):(g=new st(g,this.src,K,!!A,G),g.fa=v,c.push(g)),g};function Et(c,g){const v=g.type;if(v in c.g){var A=c.g[v],G=Array.prototype.indexOf.call(A,g,void 0),K;(K=G>=0)&&Array.prototype.splice.call(A,G,1),K&&(pt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xt(c,g,v,A){for(let G=0;G<c.length;++G){const K=c[G];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==A)return G}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),_e={};function ee(c,g,v,A,G){if(Array.isArray(g)){for(let K=0;K<g.length;K++)ee(c,g[K],v,A,G);return null}return v=Fi(v),c&&c[ye]?c.J(g,v,m(A)?!!A.capture:!1,G):hi(c,g,v,!1,A,G)}function hi(c,g,v,A,G,K){if(!g)throw Error("Invalid event type");const rt=m(G)?!!G.capture:!!G;let wt=di(c);if(wt||(c[Dt]=wt=new ot(c)),v=wt.add(g,v,A,rt,K),v.proxy)return v;if(A=fi(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)z||(G=rt),G===void 0&&(G=!1),c.addEventListener(g.toString(),A,G);else if(c.attachEvent)c.attachEvent(Sn(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fi(){function c(v){return g.call(c.src,c.listener,v)}const g=ba;return c}function qi(c,g,v,A,G){if(Array.isArray(g))for(var K=0;K<g.length;K++)qi(c,g[K],v,A,G);else A=m(A)?!!A.capture:!!A,v=Fi(v),c&&c[ye]?(c=c.i,K=String(g).toString(),K in c.g&&(g=c.g[K],v=xt(g,v,A,G),v>-1&&(pt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[K],c.h--)))):c&&(c=di(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xt(g,v,A,G)),(v=c>-1?g[c]:null)&&Vn(v))}function Vn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ye])Et(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Sn(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=di(g))?(Et(v,c),v.h==0&&(v.src=null,g[Dt]=null)):pt(c)}}}function Sn(c){return c in _e?_e[c]:_e[c]="on"+c}function ba(c,g){if(c.da)c=!0;else{g=new re(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&Vn(c),c=v.call(A,g)}return c}function di(c){return c=c[Dt],c instanceof ot?c:null}var xa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(c){return typeof c=="function"?c:(c[xa]||(c[xa]=function(g){return c.handleEvent(g)}),c[xa])}function Ee(){L.call(this),this.i=new ot(this),this.M=this,this.G=null}b(Ee,L),Ee.prototype[ye]=!0,Ee.prototype.removeEventListener=function(c,g,v,A){qi(this,c,g,v,A)};function ve(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new V(g,c);else if(g instanceof V)g.target=g.target||c;else{var G=g;g=new V(A,c),lt(g,G)}G=!0;let K,rt;if(v)for(rt=v.length-1;rt>=0;rt--)K=g.g=v[rt],G=mi(K,A,!0,g)&&G;if(K=g.g=c,G=mi(K,A,!0,g)&&G,G=mi(K,A,!1,g)&&G,v)for(rt=0;rt<v.length;rt++)K=g.g=v[rt],G=mi(K,A,!1,g)&&G}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)pt(v[A]);delete c.g[g],c.h--}}this.G=null},Ee.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Ee.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function mi(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let G=!0;for(let K=0;K<g.length;++K){const rt=g[K];if(rt&&!rt.da&&rt.capture==v){const wt=rt.listener,xe=rt.ha||rt.src;rt.fa&&Et(c.i,rt),G=wt.call(xe,A)!==!1&&G}}return G&&!A.defaultPrevented}function yl(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function nr(c){c.g=yl(()=>{c.g=null,c.i&&(c.i=!1,nr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Fe extends L{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(c){L.call(this),this.h=c,this.g={}}b(Yi,L);var ps=[];function gs(c){jt(c.g,function(g,v){this.g.hasOwnProperty(v)&&Vn(g)},c),c.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),gs(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=f.JSON.stringify,_l=f.JSON.parse,ir=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ar(){}function sr(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function H(){V.call(this,"d")}b(H,V);function It(){V.call(this,"c")}b(It,V);var Pt={},Ki=null;function Ye(){return Ki=Ki||new Ee}Pt.Ia="serverreachability";function rr(c){V.call(this,Pt.Ia,c)}b(rr,V);function fn(c){const g=Ye();ve(g,new rr(g))}Pt.STAT_EVENT="statevent";function gi(c,g){V.call(this,Pt.STAT_EVENT,c),this.stat=g}b(gi,V);function Xt(c){const g=Ye();ve(g,new gi(g,c))}Pt.Ja="timingevent";function yi(c,g){V.call(this,Pt.Ja,c),this.size=g}b(yi,V);function _i(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Hh(c,g,v,A,G,K){c.info(function(){if(c.g)if(K){var rt="",wt=K.split("&");for(let Kt=0;Kt<wt.length;Kt++){var xe=wt[Kt].split("=");if(xe.length>1){const fe=xe[0];xe=xe[1];const Pn=fe.split("_");rt=Pn.length>=2&&Pn[1]=="type"?rt+(fe+"="+xe+"&"):rt+(fe+"=redacted&")}}}else rt=null;else rt=K;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+g+`
`+v+`
`+rt})}function iu(c,g,v,A,G,K,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+g+`
`+v+`
`+K+" "+rt})}function Ei(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gh(c,v)+(A?" "+A:"")})}function ys(c,g){c.info(function(){return"TIMEOUT: "+g})}Wn.prototype.info=function(){};function Gh(c,g){if(!c.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return pi(K)}catch{return g}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function Es(){}b(Es,ar),Es.prototype.g=function(){return new XMLHttpRequest},vl=new Es;function Qi(c){return encodeURIComponent(String(c))}function au(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function ti(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Re={},Be={};function vi(c,g,v){c.M=1,c.A=vs(Ce(g)),c.u=v,c.R=!0,lr(c,null)}function lr(c,g){c.F=Date.now(),Ti(c),c.B=Ce(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),hr(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ei,c.g=Eu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new Fe(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var G="readystatechange";Array.isArray(G)||(G&&(ps[0]=G.toString()),G=ps);for(let K=0;K<G.length;K++){const rt=ee(v,G[K],A||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),fn(),Hh(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const g=this.O;g&&ai(c)==3?g.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)t:{const wt=ai(this.g),xe=this.g.ya(),Kt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||xe==7||(xe==8||Kt<=0?fn(3):fn(2)),bi(this);var g=this.g.ca();this.X=g;var v=qh(this);if(this.o=g==200,iu(this.i,this.v,this.B,this.l,this.S,wt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var K=A;break e}}K=null}if(c=K)Ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,Xt(12),An(this),Un(this);break t}}if(this.R){c=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=ru(this,v),fe==Be){wt==4&&(this.m=4,Xt(14),c=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,Xt(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ei(this.i,this.l,fe,null),xi(this,fe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Xt(16),c=!1),this.o=this.o&&c,!c)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vl(rt),rt.P=!0,Xt(11))}}else Ei(this.i,this.l,v,null),xi(this,v);wt==4&&An(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,Ti(this)))}else Xi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),An(this),Un(this)}}}catch{}finally{}};function qh(c){if(!su(c))return c.g.la();const g=Ke(c.g);if(g==="")return"";let v="";const A=g.length,G=ai(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Un(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(g[K],{stream:!(G&&K==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ru(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Be:(v=Number(g.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>g.length?Be:(g=g.slice(A,A+v),c.C=A+v,g)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ti(c){c.T=Date.now()+c.H,or(c,c.H)}function or(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(y(c.aa,c),g)}function bi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(fn(),Xt(17)),An(this),this.m=2,Un(this)):or(this,this.T-c)};function Un(c){c.j.I==0||c.K||pu(c.j,c)}function An(c){bi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,gs(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function xi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ai(v.h,c))){if(!c.L&&Ai(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)gr(v),Da(v);else break t;Ns(v),Xt(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((c.L||v.g==c)&&gr(v),!C(g))for(G=v.Ba.g.parse(g),g=0;g<G.length;g++){let Kt=G[g];const fe=Kt[0];if(!(fe<=v.K))if(v.K=fe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Pn=Kt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Oi=Kt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const si=Kt[5];si!=null&&typeof si=="number"&&si>0&&(A=1.5*si,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=c.g;if(ri){const Rs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var K=A.h;K.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(xl(K,K.h),K.h=null))}if(A.G){const yr=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(A.wa=yr,Jt(A.J,A.G,yr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var rt=c;if(A.na=_u(A,A.L?A.ba:null,A.W),rt.L){Sl(A.h,rt);var wt=rt,xe=A.O;xe&&(wt.H=xe),wt.D&&(bi(wt),Ti(wt)),A.g=rt}else du(A);v.i.length>0&&Ci(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Di(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Di(v,7):Ml(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}fn(4)}catch{}}var Ie=class{constructor(c,g){this.g=c,this.map=g}};function Tl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xl(c,g){c.g?c.g.add(g):c.h=g}function Sl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Tl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Al(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return N(c.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let G,K=null;A>=0?(G=c[v].substring(0,A),K=c[v].substring(A+1)):G=c[v],g(G,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof wn?(this.l=c.l,He(this,c.j),this.o=c.o,this.g=c.g,Sa(this,c.u),this.h=c.h,wl(this,hu(c.i)),this.m=c.m):c&&(g=String(c).match(lu))?(this.l=!1,He(this,g[1]||"",!0),this.o=wi(g[2]||""),this.g=wi(g[3]||"",!0),Sa(this,g[4]),this.h=wi(g[5]||"",!0),wl(this,g[6]||"",!0),this.m=wi(g[7]||"")):(this.l=!1,this.i=new wa(null,this.l))}wn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ts(g,cr,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ts(g,cr,!0),"@"),c.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Nl:ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,uu)),c.join("")},wn.prototype.resolve=function(c){const g=Ce(this);let v=!!c.j;v?He(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Sa(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=g.h.lastIndexOf("/");G!=-1&&(A=g.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const K=[];for(let rt=0;rt<G.length;){const wt=G[rt++];wt=="."?A&&rt==G.length&&K.push(""):wt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&rt==G.length&&K.push("")):(K.push(wt),A=!0)}A=K.join("/")}else A=G}return v?g.h=A:v=c.i.toString()!=="",v?wl(g,hu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Ce(c){return new wn(c)}function He(c,g,v){c.j=v?wi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Sa(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function wl(c,g,v){g instanceof wa?(c.i=g,fr(c.i,c.l)):(v||(g=Ts(g,Aa)),c.i=new wa(g,c.l))}function Jt(c,g,v){c.i.set(g,v)}function vs(c){return Jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,dn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cr=/[#\/\?@]/g,ou=/[#\?:]/g,Nl=/[#\?]/g,Aa=/[#\?@]/g,uu=/#/g;function wa(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&ur(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=wa.prototype,i.add=function(c,g){mn(this),this.i=null,c=Na(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function cu(c,g){mn(c),g=Na(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Rl(c,g){return mn(c),g=Na(c,g),c.g.has(g)}i.forEach=function(c,g){mn(this),this.g.forEach(function(v,A){v.forEach(function(G){c.call(g,G,A,this)},this)},this)};function Il(c,g){mn(c);let v=[];if(typeof g=="string")Rl(c,g)&&(v=v.concat(c.g.get(Na(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}i.set=function(c,g){return mn(this),this.i=null,c=Na(this,c),Rl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Il(this,c),c.length>0?String(c[0]):g):g};function hr(c,g,v){cu(c,g),v.length>0&&(c.i=null,c.g.set(Na(c,g),N(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const G=Qi(v);v=Il(this,v);for(let K=0;K<v.length;K++){let rt=G;v[K]!==""&&(rt+="="+Qi(v[K])),c.push(rt)}}return this.i=c.join("&")};function hu(c){const g=new wa;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Na(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fr(c,g){g&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(v,A){const G=A.toLowerCase();A!=G&&(cu(this,A),hr(this,G,v))},c)),c.j=g}function ni(c,g){const v=new Wn;if(f.Image){const A=new Image;A.onload=T(Ln,v,"TestLoadImage: loaded",!0,g,A),A.onerror=T(Ln,v,"TestLoadImage: error",!1,g,A),A.onabort=T(Ln,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(Ln,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Cl(c,g){const v=new Wn,A=new AbortController,G=setTimeout(()=>{A.abort(),Ln(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(G),K.ok?Ln(v,"TestPingServer: ok",!0,g):Ln(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(G),Ln(v,"TestPingServer: error",!1,g)})}function Ln(c,g,v,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new ir}function Ni(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ni,ar),Ni.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,g){Ee.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(bs,Ee),i=bs.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function dr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ia(this):ii(this),this.readyState==3&&dr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ia(this))},i.Na=function(c){this.g&&(this.response=c,Ia(this))},i.ga=function(){this.g&&Ia(this)};function Ia(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ii(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let g="";return jt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function xs(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=kn(v),typeof c=="string"?v!=null&&Qi(v):Jt(c,g,v))}function ne(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,Ee);var Ri=/^https?$/i,Dl=["POST","PUT"];i=ne.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Ss(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)v.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),G=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Dl,g,void 0)>=0)||A||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,rt]of v)this.g.setRequestHeader(K,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ss(this,K)}};function Ss(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ol(c),$i(c)}function Ol(c){c.A||(c.A=!0,ve(c,"complete"),ve(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ve(this,"complete"),ve(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ne.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},i.Xa=function(){As(this)};function As(c){if(c.h&&typeof u<"u"){if(c.v&&ai(c)==4)setTimeout(c.Ca.bind(c),0);else if(ve(c,"readystatechange"),ai(c)==4){c.h=!1;try{const K=c.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=K===0){let rt=String(c.D).match(lu)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),A=!Ri.test(rt?rt.toLowerCase():"")}v=A}if(v)ve(c,"complete"),ve(c,"success");else{c.o=6;try{var G=ai(c)>2?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.ca()+"]",Ol(c)}}finally{$i(c)}}}}function $i(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||ve(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),_l(g)}};function Ke(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const g={};c=(c.g&&ai(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=au(c[A]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[G]||[];g[G]=K,K.push(v)}qt(g,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ca(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(c&&c.concurrentRequestLimit),this.Ba=new Ra,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ca.prototype,i.ka=8,i.I=1,i.connect=function(c,g,v,A){Xt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=_u(this,null,this.W),Ci(this)};function Ml(c){if(mr(c),c.I==3){var g=c.V++,v=Ce(c.J);if(Jt(v,"SID",c.M),Jt(v,"RID",g),Jt(v,"TYPE","terminate"),ws(c,v),g=new ti(c,c.j,g),g.M=2,g.A=vs(Ce(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Eu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ti(g)}yu(c)}function Da(c){c.g&&(Vl(c),c.g.cancel(),c.g=null)}function mr(c){Da(c),c.v&&(f.clearTimeout(c.v),c.v=null),gr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ci(c){if(!bl(c.h)&&!c.m){c.m=!0;var g=c.Ea;mt||w(),yt||(mt(),yt=!0),I.add(g,c),c.D=0}}function pr(c,g){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(y(c.Ea,c,g),gu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const G=new ti(this,this.j,c);let K=this.o;if(this.U&&(K?(K=j(K),lt(K,this.U)):K=this.U),this.u!==null||this.R||(G.J=K,K=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=fu(this,G,g),v=Ce(this.J),Jt(v,"RID",c),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),ws(this,v),K&&(this.R?g="headers="+Qi(kn(K))+"&"+g:this.u&&xs(v,this.u,K)),xl(this.h,G),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",g),Jt(v,"SID","null"),G.U=!0,vi(G,v,null)):vi(G,v,g),this.I=2}}else this.I==3&&(c?jl(this,c):this.i.length==0||bl(this.h)||jl(this))};function jl(c,g){var v;g?v=g.l:v=c.V++;const A=Ce(c.J);Jt(A,"SID",c.M),Jt(A,"RID",v),Jt(A,"AID",c.K),ws(c,A),c.u&&c.o&&xs(A,c.u,c.o),v=new ti(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xl(c.h,v),vi(v,A,g)}function ws(c,g){c.H&&jt(c.H,function(v,A){Jt(g,A,v)}),c.l&&jt({},function(v,A){Jt(g,A,v)})}function fu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var G=c.i;let wt=-1;for(;;){const xe=["count="+v];wt==-1?v>0?(wt=G[0].g,xe.push("ofs="+wt)):wt=0:xe.push("ofs="+wt);let Kt=!0;for(let fe=0;fe<v;fe++){var K=G[fe].g;const Pn=G[fe].map;if(K-=wt,K<0)wt=Math.max(0,G[fe].g-100),Kt=!1;else try{K="req"+K+"_"||"";try{var rt=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,si]of rt){let ri=si;m(si)&&(ri=pi(si)),xe.push(K+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw xe.push(K+"type="+encodeURIComponent("_badmap")),Oi}}catch{A&&A(Pn)}}if(Kt){rt=xe.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),g.G=c,rt}function du(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;mt||w(),yt||(mt(),yt=!0),I.add(g,c),c.A=0}}function Ns(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(y(c.Da,c),gu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Da(this),mu(this))};function Vl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function mu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ce(c.na);Jt(g,"RID","rpc"),Jt(g,"SID",c.M),Jt(g,"AID",c.K),Jt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Jt(g,"TO",c.ia),Jt(g,"TYPE","xmlhttp"),ws(c,g),c.u&&c.o&&xs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(Ce(g)),v.u=null,v.R=!0,lr(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Da(this),Ns(this),Xt(19))};function gr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function pu(c,g){var v=null;if(c.g==g){gr(c),Vl(c),c.g=null;var A=2}else if(Ai(c.h,g))v=g.G,Sl(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var G=c.D;A=Ye(),ve(A,new yi(A,v)),Ci(c)}else du(c);else if(G=g.m,G==3||G==0&&g.X>0||!(A==1&&pr(c,g)||A==2&&Ns(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),G){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function gu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Di(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const G=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||He(A,"https"),vs(A),G?ni(A.toString(),v):Cl(A.toString(),v)}else Xt(2);c.I=0,c.l&&c.l.pa(g),yu(c),mr(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function yu(c){if(c.I=0,c.ja=[],c.l){const g=Al(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ja,g),M(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function _u(c,g,v){var A=v instanceof wn?Ce(v):new wn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Sa(A,A.u);else{var G=f.location;A=G.protocol,g=g?g+"."+G.hostname:G.hostname,G=+G.port;const K=new wn(null);A&&He(K,A),g&&(K.g=g),G&&Sa(K,G),v&&(K.h=v),A=K}return v=c.G,g=c.wa,v&&g&&Jt(A,v,g),Jt(A,"VER",c.ka),ws(c,A),A}function Eu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new ne(new Ni({ab:v})):new ne(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}i=vu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oa(){}Oa.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){Ee.call(this),this.g=new Ca(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ji(this)}b(ln,Ee),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ml(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pi(c),c=v);g.i.push(new Ie(g.Ya++,c)),g.I==3&&Ci(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,ln.Z.N.call(this)};function Tu(c){H.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(Tu,H);function bu(){It.call(this),this.status=1}b(bu,It);function Ji(c){this.g=c}b(Ji,vu),Ji.prototype.ra=function(){ve(this.g,"a")},Ji.prototype.qa=function(c){ve(this.g,new Tu(c))},Ji.prototype.pa=function(c){ve(this.g,new bu)},Ji.prototype.oa=function(){ve(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,A1=function(){return new Oa},S1=function(){return Ye()},x1=Pt,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Bc=_s,El.COMPLETE="complete",b1=El,sr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,So=sr,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,T1=ne}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new m1("@firebase/firestore");function Qr(){return Xs.logLevel}function ut(i,...t){if(Xs.logLevel<=Ht.DEBUG){const a=t.map($m);Xs.debug(`Firestore (${fl}): ${i}`,...a)}}function ya(i,...t){if(Xs.logLevel<=Ht.ERROR){const a=t.map($m);Xs.error(`Firestore (${fl}): ${i}`,...a)}}function al(i,...t){if(Xs.logLevel<=Ht.WARN){const a=t.map($m);Xs.warn(`Firestore (${fl}): ${i}`,...a)}}function $m(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,w1(i,s,a)}function w1(i,t,a){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(a!==void 0)try{s+=" CONTEXT: "+JSON.stringify(a)}catch{s+=" CONTEXT: "+a}throw ya(s),new Error(s)}function $t(i,t,a,s){let o="Unexpected state";typeof a=="string"?o=a:s=a,i||w1(t,o,s)}function At(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends hl{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(sn.UNAUTHENTICATED)))}shutdown(){}}class BN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class HN{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){$t(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,a(_)):Promise.resolve();let u=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ma,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},m=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>m(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ma)}}),0),f()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new N1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class GN{constructor(t,a,s){this.P=t,this.T=a,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qN{constructor(t,a,s){this.P=t,this.T=a,this.I=s}getToken(){return Promise.resolve(new GN(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FN{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AN(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?a(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?($t(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new j_(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let s=0;s<i;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<a&&(s+=t.charAt(o[u]%62))}return s}}function Lt(i,t){return i<t?-1:i>t?1:0}function _m(i,t){const a=Math.min(i.length,t.length);for(let s=0;s<a;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Wd(o)===Wd(u)?Lt(o,u):Wd(o)?1:-1}return Lt(i.length,t.length)}const KN=55296,QN=57343;function Wd(i){const t=i.charCodeAt(0);return t>=KN&&t<=QN}function sl(i,t,a){return i.length===t.length&&i.every(((s,o)=>a(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class Li{constructor(t,a,s){a===void 0?a=0:a>t.length&&Tt(637,{offset:a,range:t.length}),s===void 0?s=t.length-a:s>t.length-a&&Tt(1746,{length:s,range:t.length-a}),this.segments=t,this.offset=a,this.len=s}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((s=>{a.push(s)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,s=this.limit();a<s;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const s=Math.min(t.length,a.length);for(let o=0;o<s;o++){const u=Li.compareSegments(t.get(o),a.get(o));if(u!==0)return u}return Lt(t.length,a.length)}static compareSegments(t,a){const s=Li.isNumericId(t),o=Li.isNumericId(a);return s&&!o?-1:!s&&o?1:s&&o?Li.extractNumericId(t).compare(Li.extractNumericId(a)):_m(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class ce extends Li{construct(t,a,s){return new ce(t,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter((o=>o.length>0)))}return new ce(a)}static emptyPath(){return new ce([])}}const $N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Li{construct(t,a,s){return new We(t,a,s)}static isValidIdentifier(t){return $N.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new We([V_])}static fromServerFormat(t){const a=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(a)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ce.fromString(t))}static fromName(t){return new _t(ce.fromString(t).popFirst(5))}static empty(){return new _t(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return ce.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(i,t,a){if(!a)throw new ht(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function XN(i,t,a,s){if(t===!0&&s===!0)throw new ht(it.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)}function U_(i){if(!_t.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function L_(i){if(_t.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function I1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function bn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Jm(i);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(i,t){const a={typeString:i};return t&&(a.value=t),a}function Qo(i,t){if(!I1(i))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let a;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){a=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){a=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){a=`Expected '${s}' field to equal '${u.value}'`;break}}if(a)throw new ht(it.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,P_=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),s=Math.floor((t-1e3*a)*P_);return new he(a,s)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<k_)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qo(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ue("string",he._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new he(0,0))}static max(){return new bt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=-1;function JN(i,t){const a=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new he(a+1,0):new he(a,s));return new rs(o,_t.empty(),t)}function ZN(i){return new rs(i.readTime,i.key,Po)}class rs{constructor(t,a,s){this.readTime=t,this.documentKey=a,this.largestBatchId=s}static min(){return new rs(bt.min(),_t.empty(),Po)}static max(){return new rs(bt.max(),_t.empty(),Po)}}function WN(i,t){let a=i.readTime.compareTo(t.readTime);return a!==0?a:(a=_t.comparator(i.documentKey,t.documentKey),a!==0?a:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==tR)throw i;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(a,u).next(s,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof nt?a:nt.resolve(a)}catch(a){return nt.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):nt.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):nt.reject(a)}static resolve(t){return new nt(((a,s)=>{a(t)}))}static reject(t){return new nt(((a,s)=>{s(t)}))}static waitFor(t){return new nt(((a,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&a()}),(_=>s(_)))})),f=!0,u===o&&a()}))}static or(t){let a=nt.resolve(!1);for(const s of t)a=a.next((o=>o?nt.resolve(o):s()));return a}static forEach(t,a){const s=[];return t.forEach(((o,u)=>{s.push(a.call(this,o,u))})),this.waitFor(s)}static mapArray(t,a){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let _=0;_<u;_++){const y=_;a(t[y]).next((T=>{f[y]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(t,a){return new nt(((s,o)=>{const u=()=>{t()===!0?a().next((()=>{u()}),o):s()};u()}))}}function nR(i){const t=i.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function ml(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>a.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function vh(i){return i==null}function nh(i){return i===0&&1/i==-1/0}function iR(i){return typeof i=="number"&&Number.isInteger(i)&&!nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function aR(i){let t="";for(let a=0;a<i.length;a++)t.length>0&&(t=z_(t)),t=sR(i.get(a),t);return z_(t)}function sR(i,t){let a=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":a+="";break;case C1:a+="";break;default:a+=u}}return a}function z_(i){return i+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(i){let t=0;for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t++;return t}function ds(i,t){for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t(a,i[a])}function D1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,a){this.comparator=t,this.root=a||Ze.EMPTY}insert(t,a){return new ge(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(t,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(t){let a=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return a+s.left.size;o<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,s)=>(t(a,s),!1)))}toString(){const t=[];return this.inorderTraversal(((a,s)=>(t.push(`${a}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,a,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=a?s(t.key,a):1,a&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,a,s,o,u){this.key=t,this.value=a,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,s,o,u){return new Ze(t??this.key,a??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,a,s),null):u===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let s,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,a,s,o,u){return this}insert(t,a,s){return new Ze(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,s)=>(t(a),!1)))}forEachInRange(t,a){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(t){return new H_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((s=>{a=a.add(s)})),a}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const a=this.data.getIterator(),s=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new ze(this.comparator);return a.data=t,a}}class H_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new jn([])}unionWith(t){let a=new ze(We.comparator);for(const s of this.fields)a=a.add(s);for(const s of t)a=a.add(s);return new jn(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,((a,s)=>a.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O1("Invalid base64 string: "+u):u}})(t);return new tn(a)}static fromUint8Array(t){const a=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new tn(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if($t(!!i,39018),typeof i=="string"){let t=0;const a=rR.exec(i);if($t(!!a,46558,{timestamp:i}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:we(i.seconds),nanos:we(i.nanos)}}function we(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function os(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="server_timestamp",j1="__type__",V1="__previous_value__",U1="__local_write_time__";function Wm(i){var a,s;return((s=(((a=i==null?void 0:i.mapValue)==null?void 0:a.fields)||{})[j1])==null?void 0:s.stringValue)===M1}function Th(i){const t=i.mapValue.fields[V1];return Wm(t)?Th(t):t}function zo(i){const t=ls(i.mapValue.fields[U1].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,a,s,o,u,f,m,_,y,T){this.databaseId=t,this.appId=a,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const ih="(default)";class Bo{constructor(t,a){this.projectId=t,this.database=a||ih}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",oR="__max__",Ic={mapValue:{}},k1="__vector__",ah="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wm(i)?4:cR(i)?9007199254740991:uR(i)?10:11:Tt(28295,{value:i})}function Hi(i,t){if(i===t)return!0;const a=us(i);if(a!==us(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return zo(i).isEqual(zo(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return we(o.geoPointValue.latitude)===we(u.geoPointValue.latitude)&&we(o.geoPointValue.longitude)===we(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return we(o.integerValue)===we(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=we(o.doubleValue),m=we(u.doubleValue);return f===m?nh(f)===nh(m):isNaN(f)&&isNaN(m)}return!1})(i,t);case 9:return sl(i.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B_(f)!==B_(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!Hi(f[_],m[_])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function Ho(i,t){return(i.values||[]).find((a=>Hi(a,t)))!==void 0}function rl(i,t){if(i===t)return 0;const a=us(i),s=us(t);if(a!==s)return Lt(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=we(u.integerValue||u.doubleValue),_=we(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1})(i,t);case 3:return G_(i.timestampValue,t.timestampValue);case 4:return G_(zo(i),zo(t));case 5:return _m(i.stringValue,t.stringValue);case 6:return(function(u,f){const m=os(u),_=os(f);return m.compareTo(_)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),_=f.split("/");for(let y=0;y<m.length&&y<_.length;y++){const T=Lt(m[y],_[y]);if(T!==0)return T}return Lt(m.length,_.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Lt(we(u.latitude),we(f.latitude));return m!==0?m:Lt(we(u.longitude),we(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return q_(i.arrayValue,t.arrayValue);case 10:return(function(u,f){var S,N,M,B;const m=u.fields||{},_=f.fields||{},y=(S=m[ah])==null?void 0:S.arrayValue,T=(N=_[ah])==null?void 0:N.arrayValue,b=Lt(((M=y==null?void 0:y.values)==null?void 0:M.length)||0,((B=T==null?void 0:T.values)==null?void 0:B.length)||0);return b!==0?b:q_(y,T)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Ic.mapValue&&f===Ic.mapValue)return 0;if(u===Ic.mapValue)return 1;if(f===Ic.mapValue)return-1;const m=u.fields||{},_=Object.keys(m),y=f.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const S=_m(_[b],T[b]);if(S!==0)return S;const N=rl(m[_[b]],y[T[b]]);if(N!==0)return N}return Lt(_.length,T.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{he:a})}}function G_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const a=ls(i),s=ls(t),o=Lt(a.seconds,s.seconds);return o!==0?o:Lt(a.nanos,s.nanos)}function q_(i,t){const a=i.values||[],s=t.values||[];for(let o=0;o<a.length&&o<s.length;++o){const u=rl(a[o],s[o]);if(u)return u}return Lt(a.length,s.length)}function ll(i){return Em(i)}function Em(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(a){const s=ls(a);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(a){return os(a).toBase64()})(i.bytesValue):"referenceValue"in i?(function(a){return _t.fromName(a).toString()})(i.referenceValue):"geoPointValue"in i?(function(a){return`geo(${a.latitude},${a.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(a){let s="[",o=!0;for(const u of a.values||[])o?o=!1:s+=",",s+=Em(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(a){const s=Object.keys(a.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Em(a.fields[f])}`;return o+"}"})(i.mapValue):Tt(61005,{value:i})}function Hc(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(i);return t?16+Hc(t):16;case 5:return 2*i.stringValue.length;case 6:return os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Hc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ds(s.fields,((u,f)=>{o+=u.length+Hc(f)})),o})(i.mapValue);default:throw Tt(13486,{value:i})}}function vm(i){return!!i&&"integerValue"in i}function tp(i){return!!i&&"arrayValue"in i}function F_(i){return!!i&&"nullValue"in i}function Y_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gc(i){return!!i&&"mapValue"in i}function uR(i){var a,s;return((s=(((a=i==null?void 0:i.mapValue)==null?void 0:a.fields)||{})[L1])==null?void 0:s.stringValue)===k1}function Co(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ds(i.mapValue.fields,((a,s)=>t.mapValue.fields[a]=Co(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(i.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=Co(i.arrayValue.values[a]);return t}return{...i}}function cR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let s=0;s<t.length-1;++s)if(a=(a.mapValue.fields||{})[t.get(s)],!Gc(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=Co(a)}setAll(t){let a=We.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!a.isImmediateParentOf(m)){const _=this.getFieldsMap(a);this.applyChanges(_,s,o),s={},o=[],a=m.popLast()}f?s[m.lastSegment()]=Co(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(a);this.applyChanges(u,s,o)}delete(t){const a=this.field(t.popLast());Gc(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=a.mapValue.fields[t.get(s)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(s)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,s){ds(a,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Tn(Co(this.value))}}function P1(i){const t=[];return ds(i.fields,((a,s)=>{const o=new We([a]);if(Gc(s)){const u=P1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,a,s,o,u,f,m){this.key=t,this.documentType=a,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,bt.min(),bt.min(),bt.min(),Tn.empty(),0)}static newFoundDocument(t,a,s,o){return new rn(t,1,a,bt.min(),s,o,0)}static newNoDocument(t,a){return new rn(t,2,a,bt.min(),bt.min(),Tn.empty(),0)}static newUnknownDocument(t,a){return new rn(t,3,a,bt.min(),bt.min(),Tn.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,a){this.position=t,this.inclusive=a}}function K_(i,t,a){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),a.key):s=rl(f,a.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let a=0;a<i.position.length;a++)if(!Hi(i.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,a="asc"){this.field=t,this.dir=a}}function hR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class Pe extends z1{constructor(t,a,s){super(),this.field=t,this.op=a,this.value=s}static create(t,a,s){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,s):new dR(t,a,s):a==="array-contains"?new gR(t,s):a==="in"?new yR(t,s):a==="not-in"?new _R(t,s):a==="array-contains-any"?new ER(t,s):new Pe(t,a,s)}static createKeyFieldInFilter(t,a,s){return a==="in"?new mR(t,s):new pR(t,s)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(rl(a,this.value)):a!==null&&us(this.value)===us(a)&&this.matchesComparison(rl(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends z1{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new Gi(t,a)}matches(t){return B1(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(i){return i.op==="and"}function H1(i){return fR(i)&&B1(i)}function fR(i){for(const t of i.filters)if(t instanceof Gi)return!1;return!0}function Tm(i){if(i instanceof Pe)return i.field.canonicalString()+i.op.toString()+ll(i.value);if(H1(i))return i.filters.map((t=>Tm(t))).join(",");{const t=i.filters.map((a=>Tm(a))).join(",");return`${i.op}(${t})`}}function G1(i,t){return i instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(i,t):i instanceof Gi?(function(s,o){return o instanceof Gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&G1(f,o.filters[m])),!0):!1})(i,t):void Tt(19439)}function q1(i){return i instanceof Pe?(function(a){return`${a.field.canonicalString()} ${a.op} ${ll(a.value)}`})(i):i instanceof Gi?(function(a){return a.op.toString()+" {"+a.getFilters().map(q1).join(" ,")+"}"})(i):"Filter"}class dR extends Pe{constructor(t,a,s){super(t,a,s),this.key=_t.fromName(s.referenceValue)}matches(t){const a=_t.comparator(t.key,this.key);return this.matchesComparison(a)}}class mR extends Pe{constructor(t,a){super(t,"in",a),this.keys=F1("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class pR extends Pe{constructor(t,a){super(t,"not-in",a),this.keys=F1("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function F1(i,t){var a;return(((a=t.arrayValue)==null?void 0:a.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class gR extends Pe{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return tp(a)&&Ho(a.arrayValue,this.value)}}class yR extends Pe{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&Ho(this.value.arrayValue,a)}}class _R extends Pe{constructor(t,a){super(t,"not-in",a)}matches(t){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Ho(this.value.arrayValue,a)}}class ER extends Pe{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!tp(a)||!a.arrayValue.values)&&a.arrayValue.values.some((s=>Ho(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,a=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function $_(i,t=null,a=[],s=[],o=null,u=null,f=null){return new vR(i,t,a,s,o,u,f)}function ep(i){const t=At(i);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((s=>Tm(s))).join(","),a+="|ob:",a+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vh(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>ll(s))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>ll(s))).join(",")),t.Te=a}return t.Te}function np(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!hR(i.orderBy[a],t.orderBy[a]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(!G1(i.filters[a],t.filters[a]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Q_(i.startAt,t.startAt)&&Q_(i.endAt,t.endAt)}function bm(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,a=null,s=[],o=[],u=null,f="F",m=null,_=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(i,t,a,s,o,u,f,m){return new bh(i,t,a,s,o,u,f,m)}function xh(i){return new bh(i)}function X_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bR(i){return i.collectionGroup!==null}function Do(i){const t=At(i);if(t.Ie===null){t.Ie=[];const a=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),a.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ze(We.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{a.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new rh(u,s))})),a.has(We.keyField().canonicalString())||t.Ie.push(new rh(We.keyField(),s))}return t.Ie}function ki(i){const t=At(i);return t.Ee||(t.Ee=xR(t,Do(i))),t.Ee}function xR(i,t){if(i.limitType==="F")return $_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rh(o.field,u)}));const a=i.endAt?new sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new sh(i.startAt.position,i.startAt.inclusive):null;return $_(i.path,i.collectionGroup,t,i.filters,i.limit,a,s)}}function xm(i,t,a){return new bh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,a,i.startAt,i.endAt)}function Sh(i,t){return np(ki(i),ki(t))&&i.limitType===t.limitType}function Y1(i){return`${ep(ki(i))}|lt:${i.limitType}`}function $r(i){return`Query(target=${(function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map((o=>q1(o))).join(", ")}]`),vh(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map((o=>ll(o))).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map((o=>ll(o))).join(",")),`Target(${s})`})(ki(i))}; limitType=${i.limitType})`}function Ah(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Do(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,_){const y=K_(f,m,_);return f.inclusive?y<=0:y<0})(s.startAt,Do(s),o)||s.endAt&&!(function(f,m,_){const y=K_(f,m,_);return f.inclusive?y>=0:y>0})(s.endAt,Do(s),o))})(i,t)}function SR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function K1(i){return(t,a)=>{let s=!1;for(const o of Do(i)){const u=AR(o,t,a);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AR(i,t,a){const s=i.field.isKeyField()?_t.comparator(t.key,a.key):(function(u,f,m){const _=f.data.field(u),y=m.data.field(u);return _!==null&&y!==null?rl(_,y):Tt(42886)})(i.field,t,a);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,a){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,a]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),s=this.inner[a];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[a]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,((a,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new ge(_t.comparator);function _a(){return wR}const Q1=new ge(_t.comparator);function Ao(...i){let t=Q1;for(const a of i)t=t.insert(a.key,a);return t}function $1(i){let t=Q1;return i.forEach(((a,s)=>t=t.insert(a,s.overlayedDocument))),t}function Ys(){return Oo()}function X1(){return Oo()}function Oo(){return new Ws((i=>i.toString()),((i,t)=>i.isEqual(t)))}const NR=new ge(_t.comparator),RR=new ze(_t.comparator);function kt(...i){let t=RR;for(const a of i)t=t.add(a);return t}const IR=new ze(Lt);function CR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function J1(i){return{integerValue:""+i}}function DR(i,t){return iR(t)?J1(t):ip(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function OR(i,t,a){return i instanceof lh?(function(o,u){const f={fields:{[j1]:{stringValue:M1},[U1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wm(u)&&(u=Th(u)),u&&(f.fields[V1]=u),{mapValue:f}})(a,t):i instanceof Go?W1(i,t):i instanceof qo?tT(i,t):(function(o,u){const f=Z1(o,u),m=J_(f)+J_(o.Ae);return vm(f)&&vm(o.Ae)?J1(m):ip(o.serializer,m)})(i,t)}function MR(i,t,a){return i instanceof Go?W1(i,t):i instanceof qo?tT(i,t):a}function Z1(i,t){return i instanceof oh?(function(s){return vm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends wh{}class Go extends wh{constructor(t){super(),this.elements=t}}function W1(i,t){const a=eT(t);for(const s of i.elements)a.some((o=>Hi(o,s)))||a.push(s);return{arrayValue:{values:a}}}class qo extends wh{constructor(t){super(),this.elements=t}}function tT(i,t){let a=eT(t);for(const s of i.elements)a=a.filter((o=>!Hi(o,s)));return{arrayValue:{values:a}}}class oh extends wh{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function J_(i){return we(i.integerValue||i.doubleValue)}function eT(i){return tp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jR(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Go&&o instanceof Go||s instanceof qo&&o instanceof qo?sl(s.elements,o.elements,Hi):s instanceof oh&&o instanceof oh?Hi(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(i.transform,t.transform)}class VR{constructor(t,a){this.version=t,this.transformResults=a}}class xn{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new xn}static exists(t){return new xn(void 0,t)}static updateTime(t){return new xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Nh{}function nT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Rh(i.key,xn.none()):new $o(i.key,i.data,xn.none());{const a=i.data,s=Tn.empty();let o=new ze(We.comparator);for(let u of t.fields)if(!o.has(u)){let f=a.field(u);f===null&&u.length>1&&(u=u.popLast(),f=a.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(i.key,s,new jn(o.toArray()),xn.none())}}function UR(i,t,a){i instanceof $o?(function(o,u,f){const m=o.value.clone(),_=W_(o.fieldTransforms,u,f.transformResults);m.setAll(_),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,a):i instanceof ms?(function(o,u,f){if(!qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=W_(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(iT(o)),_.setAll(m),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,t,a):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,a)}function Mo(i,t,a,s){return i instanceof $o?(function(u,f,m,_){if(!qc(u.precondition,f))return m;const y=u.value.clone(),T=tE(u.fieldTransforms,_,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,t,a,s):i instanceof ms?(function(u,f,m,_){if(!qc(u.precondition,f))return m;const y=tE(u.fieldTransforms,_,f),T=f.data;return T.setAll(iT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,a,s):(function(u,f,m){return qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,t,a)}function LR(i,t){let a=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=Z1(s.transform,o||null);u!=null&&(a===null&&(a=Tn.empty()),a.set(s.field,u))}return a||null}function Z_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&sl(s,o,((u,f)=>jR(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class $o extends Nh{constructor(t,a,s,o=[]){super(),this.key=t,this.value=a,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Nh{constructor(t,a,s,o,u=[]){super(),this.key=t,this.data=a,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iT(i){const t=new Map;return i.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const s=i.data.field(a);t.set(a,s)}})),t}function W_(i,t,a){const s=new Map;$t(i.length===a.length,32656,{Re:a.length,Ve:i.length});for(let o=0;o<a.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,MR(f,m,a[o]))}return s}function tE(i,t,a){const s=new Map;for(const o of i){const u=o.transform,f=a.data.field(o.field);s.set(o.field,OR(u,f,t))}return s}class Rh extends Nh{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Nh{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,a,s,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,a){const s=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&UR(u,t,s[o])}}applyToLocalView(t,a){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(a=Mo(s,t,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(a=Mo(s,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const s=X1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=a.has(o.key)?null:m;const _=nT(f,m);_!==null&&s.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),kt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,((a,s)=>Z_(a,s)))&&sl(this.baseMutations,t.baseMutations,((a,s)=>Z_(a,s)))}}class ap{constructor(t,a,s,o){this.batch=t,this.commitVersion=a,this.mutationResults=s,this.docVersions=o}static from(t,a,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return NR})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ap(t,a,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Bt;function HR(i){switch(i){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function aT(i){if(i===void 0)return ya("GRPC error has no .code"),it.UNKNOWN;switch(i){case Ve.OK:return it.OK;case Ve.CANCELLED:return it.CANCELLED;case Ve.UNKNOWN:return it.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return it.INTERNAL;case Ve.UNAVAILABLE:return it.UNAVAILABLE;case Ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ve.NOT_FOUND:return it.NOT_FOUND;case Ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ve.ABORTED:return it.ABORTED;case Ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ve.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:i})}}(Bt=Ve||(Ve={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new as([4294967295,4294967295],0);function eE(i){const t=GR().encode(i),a=new v1;return a.update(t),new Uint8Array(a.digest())}function nE(i){const t=new DataView(i.buffer),a=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new as([a,s],0),new as([o,u],0)]}class sp{constructor(t,a,s){if(this.bitmap=t,this.padding=a,this.hashCount=s,a<0||a>=8)throw new wo(`Invalid padding: ${a}`);if(s<0)throw new wo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${s}`);if(t.length===0&&a!==0)throw new wo(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=as.fromNumber(this.ge)}ye(t,a,s){let o=t.add(a.multiply(as.fromNumber(s)));return o.compare(qR)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=eE(t),[s,o]=nE(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,a,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new sp(u,o,a);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const a=eE(t),[s,o]=nE(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const a=Math.floor(t/8),s=t%8;this.bitmap[a]|=1<<s}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,a,s,o,u){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,a,s){const o=new Map;return o.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,a,s)),new Ih(bt.min(),o,new ge(Lt),_a(),kt())}}class Xo{constructor(t,a,s,o,u){this.resumeToken=t,this.current=a,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,a,s){return new Xo(s,a,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,a,s,o){this.be=t,this.removedTargetIds=a,this.key=s,this.De=o}}class sT{constructor(t,a){this.targetId=t,this.Ce=a}}class rT{constructor(t,a,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=s,this.cause=o}}class iE{constructor(){this.ve=0,this.Fe=aE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),a=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Xo(this.Me,this.xe,t,a,s)}qe(){this.Oe=!1,this.Fe=aE()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_a(),this.Je=Cc(),this.He=Cc(),this.Ye=new ge(Lt)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const s=this.nt(a);switch(t.state){case 0:this.rt(a)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((s,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,s=t.Ce.count,o=this.ot(a);if(o){const u=o.target;if(bm(u))if(s===0){const f=new _t(u.path);this.et(a,f,rn.newNoDocument(f,bt.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this._t(a);if(f!==s){const m=this.ut(t),_=m?this.ct(m,t,f):1;if(_!==0){this.it(a);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,y)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=a;let f,m;try{f=os(s).toUint8Array()}catch(_){if(_ instanceof O1)return al("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new sp(f,o,u)}catch(_){return al(_ instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.ge===0?null:m}ct(t,a,s){return a.Ce.count===s-this.Pt(t,a.targetId)?0:2}Pt(t,a){const s=this.Ge.getRemoteKeysForTarget(a);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(a,u,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&bm(m.target)){const _=new _t(m.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,rn.newNoDocument(_,t))}u.Be&&(a.set(f,u.ke()),u.qe())}}));let s=kt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Ih(t,a,this.Ye,this.je,s);return this.je=_a(),this.Je=Cc(),this.He=Cc(),this.Ye=new ge(Lt),o}Xe(t,a){if(!this.rt(t))return;const s=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,s),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),s&&(this.je=this.je.insert(a,s))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new iE,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new ze(Lt),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new ze(Lt),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||ut("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iE),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function Cc(){return new ge(_t.comparator)}function aE(){return new ge(_t.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class $R{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Sm(i,t){return i.useProto3Json||vh(t)?t:{value:t}}function uh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function XR(i,t){return uh(i,t.toTimestamp())}function Pi(i){return $t(!!i,49232),bt.fromTimestamp((function(a){const s=ls(a);return new he(s.seconds,s.nanos)})(i))}function rp(i,t){return Am(i,t).canonicalString()}function Am(i,t){const a=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?a:a.child(t)}function oT(i){const t=ce.fromString(i);return $t(dT(t),10190,{key:t.toString()}),t}function wm(i,t){return rp(i.databaseId,t.path)}function tm(i,t){const a=oT(t);if(a.get(1)!==i.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+i.databaseId.projectId);if(a.get(3)!==i.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+i.databaseId.database);return new _t(cT(a))}function uT(i,t){return rp(i.databaseId,t)}function JR(i){const t=oT(i);return t.length===4?ce.emptyPath():cT(t)}function Nm(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cT(i){return $t(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function sE(i,t,a){return{name:wm(i,t),fields:a.value.mapValue.fields}}function ZR(i,t){let a;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?($t(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):($t(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?it.UNKNOWN:aT(y.code);return new ht(T,y.message||"")})(f);a=new rT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(i,s.document.name),u=Pi(s.document.updateTime),f=s.document.createTime?Pi(s.document.createTime):bt.min(),m=new Tn({mapValue:{fields:s.document.fields}}),_=rn.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];a=new Fc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=tm(i,s.document),u=s.readTime?Pi(s.readTime):bt.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];a=new Fc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=tm(i,s.document),u=s.removedTargetIds||[];a=new Fc([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new BR(o,u),m=s.targetId;a=new sT(m,f)}}return a}function WR(i,t){let a;if(t instanceof $o)a={update:sE(i,t.key,t.value)};else if(t instanceof Rh)a={delete:wm(i,t.key)};else if(t instanceof ms)a={update:sE(i,t.key,t.data),updateMask:oI(t.fieldMask)};else{if(!(t instanceof kR))return Tt(16599,{Vt:t.type});a={verify:wm(i,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Go)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(a.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),a}function tI(i,t){return i&&i.length>0?($t(t!==void 0,14353),i.map((a=>(function(o,u){let f=o.updateTime?Pi(o.updateTime):Pi(u);return f.isEqual(bt.min())&&(f=Pi(u)),new VR(f,o.transformResults||[])})(a,t)))):[]}function eI(i,t){return{documents:[uT(i,t.path)]}}function nI(i,t){const a={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=uT(i,o);const u=(function(y){if(y.length!==0)return fT(Gi.create(y,"and"))})(t.filters);u&&(a.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:Xr(S.field),direction:sI(S.dir)}})(T)))})(t.orderBy);f&&(a.structuredQuery.orderBy=f);const m=Sm(i,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:a,parent:o}}function iI(i){let t=JR(i.parent);const a=i.structuredQuery,s=a.from?a.from.length:0;let o=null;if(s>0){$t(s===1,65062);const T=a.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];a.where&&(u=(function(b){const S=hT(b);return S instanceof Gi&&H1(S)?S.getFilters():[S]})(a.where));let f=[];a.orderBy&&(f=(function(b){return b.map((S=>(function(M){return new rh(Jr(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(a.orderBy));let m=null;a.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,vh(S)?null:S})(a.limit));let _=null;a.startAt&&(_=(function(b){const S=!!b.before,N=b.values||[];return new sh(N,S)})(a.startAt));let y=null;return a.endAt&&(y=(function(b){const S=!b.before,N=b.values||[];return new sh(N,S)})(a.endAt)),TR(t,o,f,u,m,"F",_,y)}function aI(i,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function hT(i){return i.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=Jr(a.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Jr(a.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Jr(a.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Jr(a.unaryFilter.field);return Pe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(a){return Pe.create(Jr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(a){return Gi.create(a.compositeFilter.filters.map((s=>hT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(a.compositeFilter.op))})(i):Tt(30097,{filter:i})}function sI(i){return YR[i]}function rI(i){return KR[i]}function lI(i){return QR[i]}function Xr(i){return{fieldPath:i.canonicalString()}}function Jr(i){return We.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof Pe?(function(a){if(a.op==="=="){if(Y_(a.value))return{unaryFilter:{field:Xr(a.field),op:"IS_NAN"}};if(F_(a.value))return{unaryFilter:{field:Xr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Y_(a.value))return{unaryFilter:{field:Xr(a.field),op:"IS_NOT_NAN"}};if(F_(a.value))return{unaryFilter:{field:Xr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(a.field),op:rI(a.op),value:a.value}}})(i):i instanceof Gi?(function(a){const s=a.getFilters().map((o=>fT(o)));return s.length===1?s[0]:{compositeFilter:{op:lI(a.op),filters:s}}})(i):Tt(54877,{filter:i})}function oI(i){const t=[];return i.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function dT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,a,s,o,u=bt.min(),f=bt.min(),m=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=a,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.yt=t}}function cI(i){const t=iI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Cn=new fI}addToCollectionParentIndex(t,a){return this.Cn.add(a),nt.resolve()}getCollectionParents(t,a){return nt.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return nt.resolve()}deleteFieldIndex(t,a){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,a){return nt.resolve()}getDocumentsMatchingTarget(t,a){return nt.resolve(null)}getIndexType(t,a){return nt.resolve(0)}getFieldIndexes(t,a){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,a){return nt.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,a){return nt.resolve(rs.min())}updateCollectionGroup(t,a,s){return nt.resolve()}updateIndexEntries(t,a){return nt.resolve()}}class fI{constructor(){this.index={}}add(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a]||new ze(ce.comparator),u=!o.has(s);return this.index[a]=o.add(s),u}has(t){const a=t.lastSegment(),s=t.popLast(),o=this.index[a];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ze(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(mT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",dI=1048576;function oE([i,t],[a,s]){const o=Lt(i,a);return o===0?Lt(t,s):o}class mI{constructor(t){this.Ir=t,this.buffer=new ze(oE),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();oE(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(t,a,s){this.garbageCollector=t,this.asyncQueue=a,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(lE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){ml(a)?ut(lE,"Ignoring IndexedDB error during garbage collection: ",a):await dl(a)}await this.Vr(3e5)}))}}class gI{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((s=>Math.floor(a/100*s)))}nthSequenceNumber(t,a){if(a===0)return nt.resolve(Eh.ce);const s=new mI(a);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,a,s){return this.mr.removeTargets(t,a,s)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(rE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let s,o,u,f,m,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,a)))).next((b=>(u=b,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),Qr()<=Ht.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(_-m)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function yI(i,t){return new gI(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.changes=new Ws((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?nt.resolve(s):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,a,s,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,a){let s=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(s!==null&&Mo(s.mutation,o,jn.empty(),he.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,a,s=kt()){const o=Ys();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,s).next((u=>{let f=Ao();return u.forEach(((m,_)=>{f=f.insert(m,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,a){const s=Ys();return this.populateOverlays(t,s,a).next((()=>this.computeViews(t,a,s,kt())))}populateOverlays(t,a,s){const o=[];return s.forEach((u=>{a.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{a.set(f,m)}))}))}computeViews(t,a,s,o){let u=_a();const f=Oo(),m=(function(){return Oo()})();return a.forEach(((_,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ms)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Mo(T.mutation,y,T.mutation.getFieldMask(),he.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,T)=>f.set(y,T))),a.forEach(((y,T)=>m.set(y,new EI(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,a){const s=Oo();let o=new ge(((f,m)=>f-m)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((f=>{for(const m of f)m.keys().forEach((_=>{const y=a.get(_);if(y===null)return;let T=s.get(_)||jn.empty();T=m.applyToLocalView(y,T),s.set(_,T);const b=(o.get(m.batchId)||kt()).add(_);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),y=_.key,T=_.value,b=X1();T.forEach((S=>{if(!u.has(S)){const N=nT(a.get(S),s.get(S));N!==null&&b.set(S,N),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,a,s,o){return(function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):bR(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,s,o):this.getDocumentsMatchingCollectionQuery(t,a,s,o)}getNextDocuments(t,a,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,s.largestBatchId,o-u.size):nt.resolve(Ys());let m=Po,_=u;return f.next((y=>nt.forEach(y,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?nt.resolve():this.remoteDocumentCache.getEntry(t,T).next((S=>{_=_.insert(T,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,kt()))).next((T=>({batchId:m,changes:$1(T)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new _t(a)).next((s=>{let o=Ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,s,o){const u=a.collectionGroup;let f=Ao();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(_=>{const y=(function(b,S){return new bh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(a,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((T=>{T.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,a,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,s,u,o)))).next((f=>{u.forEach(((_,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,rn.newInvalidDocument(T)))}));let m=Ao();return f.forEach(((_,y)=>{const T=u.get(_);T!==void 0&&Mo(T.mutation,y,jn.empty(),he.now()),Ah(a,y)&&(m=m.insert(_,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return nt.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(a)),nt.resolve()}getNamedQuery(t,a){return nt.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:cI(o.bundledQuery),readTime:Pi(o.readTime)}})(a)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.overlays=new ge(_t.comparator),this.qr=new Map}getOverlay(t,a){return nt.resolve(this.overlays.get(a))}getOverlays(t,a){const s=Ys();return nt.forEach(a,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,a,s){return s.forEach(((o,u)=>{this.St(t,a,u)})),nt.resolve()}removeOverlaysForBatchId(t,a,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,a,s){const o=Ys(),u=a.length+1,f=new _t(a.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,y=_.getKey();if(!a.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,a,s,o){let u=new ge(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===a&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ys(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ys(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return nt.resolve(m)}St(t,a,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zR(a,s));let u=this.qr.get(a);u===void 0&&(u=kt(),this.qr.set(a,u)),this.qr.set(a,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.Qr=new ze(qe.$r),this.Ur=new ze(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const s=new qe(t,a);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,a){t.forEach((s=>this.addReference(s,a)))}removeReference(t,a){this.Gr(new qe(t,a))}zr(t,a){t.forEach((s=>this.removeReference(s,a)))}jr(t){const a=new _t(new ce([])),s=new qe(a,t),o=new qe(a,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new _t(new ce([])),s=new qe(a,t),o=new qe(a,t+1);let u=kt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const a=new qe(t,0),s=this.Qr.firstAfterOrEqual(a);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return _t.comparator(t.key,a.key)||Lt(t.Yr,a.Yr)}static Kr(t,a){return Lt(t.Yr,a.Yr)||_t.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new ze(qe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PR(u,a,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,a){return nt.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const s=a+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const s=new qe(a,0),o=new qe(a,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,a){let s=new ze(Lt);return a.forEach((o=>{const u=new qe(o,0),f=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,a){const s=a.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new qe(new _t(u),0);let m=new ze(Lt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(_.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){$t(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(a.mutations,(o=>{const u=new qe(o.key,a.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,a){const s=new qe(a,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.ri=t,this.docs=(function(){return new ge(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const s=a.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const s=this.docs.get(a);return nt.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(a))}getEntries(t,a){let s=_a();return a.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,a,s,o){let u=_a();const f=a.path,m=new _t(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||WN(ZN(T),s)<=0||(o.has(T.key)||Ah(a,T))&&(u=u.insert(T.key,T.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,a,s,o){Tt(9500)}ii(t,a){return nt.forEach(this.docs,(s=>a(s)))}newChangeBuffer(t){return new wI(this)}getSize(t){return nt.resolve(this.size)}}class wI extends _I{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.persistence=t,this.si=new Ws((a=>ep(a)),np),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=ol.ur()}forEachTarget(t,a){return this.si.forEach(((s,o)=>a(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this.oi&&(this.oi=a),nt.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new ol(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,nt.resolve()}updateTargetData(t,a){return this.Pr(a),nt.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,a,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=a&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,a){const s=this.si.get(a)||null;return nt.resolve(s)}addMatchingKeys(t,a,s){return this._i.Wr(a,s),nt.resolve()}removeMatchingKeys(t,a,s){this._i.zr(a,s);const o=this.persistence.referenceDelegate,u=[];return o&&a.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),nt.resolve()}getMatchingKeysForTargetId(t,a){const s=this._i.Hr(a);return nt.resolve(s)}containsKey(t,a){return nt.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,a){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new xI,this.referenceDelegate=t(this),this.Pi=new NI(this),this.indexManager=new hI,this.remoteDocumentCache=(function(o){return new AI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uI(a),this.Ii=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new bI,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let s=this.ui[t.toKey()];return s||(s=new SI(a,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,s){ut("MemoryPersistence","Starting transaction:",t);const o=new RI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,a){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,a))))}}class RI extends eR{constructor(t){super(),this.currentSequenceNumber=t}}class op{constructor(t){this.persistence=t,this.Ri=new lp,this.Vi=null}static mi(t){return new op(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,a,s){return this.Ri.addReference(s,a),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,a,s){return this.Ri.removeReference(s,a),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),nt.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=_t.fromPath(s);return this.gi(t,o).next((u=>{u||a.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((s=>{s?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return nt.or([()=>nt.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class ch{constructor(t,a){this.persistence=t,this.pi=new Ws((s=>aR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yI(this,a)}static mi(t,a){return new ch(t,a)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>a.next((o=>s+o))))}wr(t){let a=0;return this.pr(t,(s=>{a++})).next((()=>a))}pr(t,a){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():a(o)))))}removeTargets(t,a,s){return this.persistence.getTargetCache().removeTargets(t,a,s)}removeOrphanedDocuments(t,a){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,a).next((m=>{m||(s++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),nt.resolve()}removeTarget(t,a){const s=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,a,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),nt.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=Hc(t.data.value)),a}br(t,a,s){return nt.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,a,s,o){this.targetId=t,this.fromCache=a,this.Es=s,this.ds=o}static As(t,a){let s=kt(),o=kt();for(const u of a.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(t,a.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bw()?8:nR(vw())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,s,o){const u={result:null};return this.ys(t,a).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,a,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new II;return this.Ss(t,a,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,a,f,m.size)}))})).next((()=>u.result))}bs(t,a,s,o){return s.documentReadCount<this.fs?(Qr()<=Ht.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",$r(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Qr()<=Ht.DEBUG&&ut("QueryEngine","Query:",$r(a),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Qr()<=Ht.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",$r(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(a))):nt.resolve())}ys(t,a){if(X_(a))return nt.resolve(null);let s=ki(a);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=xm(a,null,"F"),s=ki(a)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=kt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.Ds(a,m);return this.Cs(a,y,f,_.readTime)?this.ys(t,xm(a,null,"F")):this.vs(t,y,a,_)}))))})))))}ws(t,a,s,o){return X_(a)||o.isEqual(bt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(a,u);return this.Cs(a,f,s,o)?nt.resolve(null):(Qr()<=Ht.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$r(a)),this.vs(t,f,a,JN(o,Po)).next((m=>m)))}))}Ds(t,a){let s=new ze(K1(t));return a.forEach(((o,u)=>{Ah(t,u)&&(s=s.add(u))})),s}Cs(t,a,s,o){if(t.limit===null)return!1;if(s.size!==a.size)return!0;const u=t.limitType==="F"?a.last():a.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,a,s){return Qr()<=Ht.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",$r(a)),this.ps.getDocumentsMatchingQuery(t,a,rs.min(),s)}vs(t,a,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(a.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",DI=3e8;class OI{constructor(t,a,s,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new ge(Lt),this.xs=new Ws((u=>ep(u)),np),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function MI(i,t,a,s){return new OI(i,t,a,s)}async function gT(i,t){const a=At(i);return await a.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return a.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,a.Bs(t),a.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let _=kt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return a.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function jI(i,t){const a=At(i);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,_,y,T){const b=y.batch,S=b.keys();let N=nt.resolve();return S.forEach((M=>{N=N.next((()=>T.getEntry(_,M))).next((B=>{const O=y.docVersions.get(M);$t(O!==null,48541),B.version.compareTo(O)<0&&(b.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),T.addEntry(B)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(_,b)))})(a,s,t,u).next((()=>u.apply(s))).next((()=>a.mutationQueue.performConsistencyCheck(s))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let _=kt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(_=_.add(m.batch.mutations[y].key));return _})(t)))).next((()=>a.localDocuments.getDocuments(s,o)))}))}function yT(i){const t=At(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function VI(i,t){const a=At(i),s=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const m=[];t.targetChanges.forEach(((T,b)=>{const S=o.get(b);if(!S)return;m.push(a.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>a.Pi.addMatchingKeys(u,T.addedDocuments,b))));let N=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?N=N.withResumeToken(tn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(T.resumeToken,s)),o=o.insert(b,N),(function(B,O,W){return B.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=DI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,N,T)&&m.push(a.Pi.updateTargetData(u,N))}));let _=_a(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(UI(u,f,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!s.isEqual(bt.min())){const T=a.Pi.getLastRemoteSnapshotVersion(u).next((b=>a.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(a.Ms=o,u)))}function UI(i,t,a){let s=kt(),o=kt();return a.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let f=_a();return a.forEach(((m,_)=>{const y=u.get(m);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(m,_.readTime),f=f.insert(m,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),f=f.insert(m,_)):ut(cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function LI(i,t){const a=At(i);return a.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zm),a.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function kI(i,t){const a=At(i);return a.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return a.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):a.Pi.allocateTargetId(s).next((f=>(o=new es(t,f,"TargetPurposeListen",s.currentSequenceNumber),a.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=a.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(s.targetId,s),a.xs.set(t,s.targetId)),s}))}async function Rm(i,t,a){const s=At(i),o=s.Ms.get(t),u=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ml(f))throw f;ut(cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function uE(i,t,a){const s=At(i);let o=bt.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,T){const b=At(_),S=b.xs.get(T);return S!==void 0?nt.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,T)})(s,f,ki(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,a?o:bt.min(),a?u:kt()))).next((m=>(PI(s,SR(t),m),{documents:m,Qs:u})))))}function PI(i,t,a){let s=i.Os.get(t)||bt.min();a.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class cE{constructor(){this.activeTargetIds=CR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zI{constructor(){this.Mo=new cE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,s){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,s){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cE,Promise.resolve()}handleUserChange(t,a,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(hE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(hE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Im(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",HI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,a,s,o,u){const f=Im(),m=this.zo(t,a.toUriEncodedString());ut(em,`Sending RPC '${t}' ${f}:`,m,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:y}=new URL(m),T=Km(y);return this.Jo(t,m,_,s,T).then((b=>(ut(em,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw al(em,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,a,s,o,u,f){return this.Go(t,a,s,o,u)}jo(t,a,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,a){const s=HI[t];return`${this.Uo}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class FI extends GI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,s,o,u){const f=Im();return new Promise(((m,_)=>{const y=new T1;y.setWithCredentials(!0),y.listenOnce(b1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const b=y.getResponseJson();ut(an,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Bc.TIMEOUT:ut(an,`RPC '${t}' ${f} timed out`),_(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const S=y.getStatus();if(ut(an,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const M=N==null?void 0:N.error;if(M&&M.status&&M.message){const B=(function(W){const at=W.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(at)>=0?at:it.UNKNOWN})(M.status);_(new ht(B,M.message))}else _(new ht(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ht(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(an,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ut(an,`RPC '${t}' ${f} sending request:`,o),y.send(a,"POST",T,s,15)}))}T_(t,a,s){const o=Im(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=A1(),m=S1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,a,s),_.encodeInitMessageHeaders=!0;const T=u.join("");ut(an,`Creating RPC '${t}' stream ${o}: ${T}`,_);const b=f.createWebChannel(T,_);this.I_(b);let S=!1,N=!1;const M=new qI({Yo:O=>{N?ut(an,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(S||(ut(an,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ut(an,`RPC '${t}' stream ${o} sending:`,O),b.send(O))},Zo:()=>b.close()}),B=(O,W,at)=>{O.listen(W,($=>{try{at($)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return B(b,So.EventType.OPEN,(()=>{N||(ut(an,`RPC '${t}' stream ${o} transport opened.`),M.o_())})),B(b,So.EventType.CLOSE,(()=>{N||(N=!0,ut(an,`RPC '${t}' stream ${o} transport closed`),M.a_(),this.E_(b))})),B(b,So.EventType.ERROR,(O=>{N||(N=!0,al(an,`RPC '${t}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),M.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),B(b,So.EventType.MESSAGE,(O=>{var W;if(!N){const at=O.data[0];$t(!!at,16349);const $=at,dt=($==null?void 0:$.error)||((W=$[0])==null?void 0:W.error);if(dt){ut(an,`RPC '${t}' stream ${o} received error:`,dt);const mt=dt.status;let yt=(function(R){const L=Ve[R];if(L!==void 0)return aT(L)})(mt),I=dt.message;yt===void 0&&(yt=it.INTERNAL,I="Unknown error status: "+mt+" with message "+dt.message),N=!0,M.a_(new ht(yt,I)),b.close()}else ut(an,`RPC '${t}' stream ${o} received:`,at),M.u_(at)}})),B(m,x1.STAT_EVENT,(O=>{O.stat===ym.PROXY?ut(an,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===ym.NOPROXY&&ut(an,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(i){return new $R(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t,a,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=a,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class ET{constructor(t,a,s,o,u,f,m,_){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===it.RESOURCE_EXHAUSTED?(ya(a.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===a&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,a){const s=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(dE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(ut(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends ET{constructor(t,a,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,o,f),this.serializer=u}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=ZR(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Pi(f.readTime):bt.min()})(t);return this.listener.H_(a,s)}Y_(t){const a={};a.database=Nm(this.serializer),a.addTarget=(function(u,f){let m;const _=f.target;if(m=bm(_)?{documents:eI(u,_)}:{query:nI(u,_).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=lT(u,f.resumeToken);const y=Sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=uh(u,f.snapshotVersion.toTimestamp());const y=Sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=aI(this.serializer,t);s&&(a.labels=s),this.q_(a)}Z_(t){const a={};a.database=Nm(this.serializer),a.removeTarget=t,this.q_(a)}}class KI extends ET{constructor(t,a,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=tI(t.writeResults,t.commitTime),s=Pi(t.commitTime);return this.listener.na(s,a)}ra(){const t={};t.database=Nm(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((s=>WR(this.serializer,s)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class $I extends QI{constructor(t,a,s,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Am(a,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(it.UNKNOWN,u.toString())}))}Ho(t,a,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Am(a,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(it.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XI{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(a),this.aa=!1):ut("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class JI{constructor(t,a,s,o,u){this.localStore=t,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{tr(this)&&(ut(Js,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Ra=new XI(s,o)}}async function Dh(i){if(tr(i))for(const t of i.da)await t(!0)}async function Jo(i){for(const t of i.da)await t(!1)}function vT(i,t){const a=At(i);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),mp(a)?dp(a):pl(a).O_()&&fp(a,t))}function hp(i,t){const a=At(i),s=pl(a);a.Ia.delete(t),s.O_()&&TT(a,t),a.Ia.size===0&&(s.O_()?s.L_():tr(a)&&a.Ra.set("Unknown"))}function fp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const a=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}pl(i).Y_(t)}function TT(i,t){i.Va.Ue(t),pl(i).Z_(t)}function dp(i){i.Va=new FR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),pl(i).start(),i.Ra.ua()}function mp(i){return tr(i)&&!pl(i).x_()&&i.Ia.size>0}function tr(i){return At(i).Ea.size===0}function bT(i){i.Va=void 0}async function ZI(i){i.Ra.set("Online")}async function WI(i){i.Ia.forEach(((t,a)=>{fp(i,t)}))}async function tC(i,t){bT(i),mp(i)?(i.Ra.ha(t),dp(i)):i.Ra.set("Unknown")}async function eC(i,t,a){if(i.Ra.set("Online"),t instanceof rT&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ut(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hh(i,s)}else if(t instanceof Fc?i.Va.Ze(t):t instanceof sT?i.Va.st(t):i.Va.tt(t),!a.isEqual(bt.min()))try{const s=await yT(i.localStore);a.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(_.resumeToken,f))}})),m.targetMismatches.forEach(((_,y)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),TT(u,_);const b=new es(T.target,_,y,T.sequenceNumber);fp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,a)}catch(s){ut(Js,"Failed to raise snapshot:",s),await hh(i,s)}}async function hh(i,t,a){if(!ml(t))throw t;i.Ea.add(1),await Jo(i),i.Ra.set("Offline"),a||(a=()=>yT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ut(Js,"Retrying IndexedDB access"),await a(),i.Ea.delete(1),await Dh(i)}))}function xT(i,t){return t().catch((a=>hh(i,a,t)))}async function Oh(i){const t=At(i),a=cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;nC(t);)try{const o=await LI(t.localStore,s);if(o===null){t.Ta.length===0&&a.L_();break}s=o.batchId,iC(t,o)}catch(o){await hh(t,o)}ST(t)&&AT(t)}function nC(i){return tr(i)&&i.Ta.length<10}function iC(i,t){i.Ta.push(t);const a=cs(i);a.O_()&&a.X_&&a.ea(t.mutations)}function ST(i){return tr(i)&&!cs(i).x_()&&i.Ta.length>0}function AT(i){cs(i).start()}async function aC(i){cs(i).ra()}async function sC(i){const t=cs(i);for(const a of i.Ta)t.ea(a.mutations)}async function rC(i,t,a){const s=i.Ta.shift(),o=ap.from(s,t,a);await xT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Oh(i)}async function lC(i,t){t&&cs(i).X_&&await(async function(s,o){if((function(f){return HR(f)&&f!==it.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await xT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Oh(s)}})(i,t),ST(i)&&AT(i)}async function mE(i,t){const a=At(i);a.asyncQueue.verifyOperationInProgress(),ut(Js,"RemoteStore received new credentials");const s=tr(a);a.Ea.add(3),await Jo(a),s&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await Dh(a)}async function oC(i,t){const a=At(i);t?(a.Ea.delete(2),await Dh(a)):t||(a.Ea.add(2),await Jo(a),a.Ra.set("Unknown"))}function pl(i){return i.ma||(i.ma=(function(a,s,o){const u=At(a);return u.sa(),new YI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ZI.bind(null,i),t_:WI.bind(null,i),r_:tC.bind(null,i),H_:eC.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),mp(i)?dp(i):i.Ra.set("Unknown")):(await i.ma.stop(),bT(i))}))),i.ma}function cs(i){return i.fa||(i.fa=(function(a,s,o){const u=At(a);return u.sa(),new KI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aC.bind(null,i),r_:lC.bind(null,i),ta:sC.bind(null,i),na:rC.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Oh(i)):(await i.fa.stop(),i.Ta.length>0&&(ut(Js,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,a,s,o,u){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,s,o,u){const f=Date.now()+s,m=new pp(t,a,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(i,t){if(ya("AsyncQueue",`${t}: ${i}`),ml(i))return new ht(it.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(t){return new el(t.comparator)}constructor(t){this.comparator=t?(a,s)=>t(a,s)||_t.comparator(a.key,s.key):(a,s)=>_t.comparator(a.key,s.key),this.keyedMap=Ao(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,s)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof el)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const s=new el;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ga=new ge(_t.comparator)}track(t){const a=t.doc.key,s=this.ga.get(a);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(a,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(a,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(a):t.type===1&&s.type===2?this.ga=this.ga.insert(a,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,s)=>{t.push(s)})),t}}class ul{constructor(t,a,s,o,u,f,m,_,y){this.query=t,this.docs=a,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,a,s,o,u){const f=[];return a.forEach((m=>{f.push({type:0,doc:m})})),new ul(t,a,el.emptySet(a),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,s=t.docChanges;if(a.length!==s.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==s[o].type||!a[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cC{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,s){const o=At(a),u=o.queries;o.queries=gE(),u.forEach(((f,m)=>{for(const _ of m.Sa)_.onError(s)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function gE(){return new Ws((i=>Y1(i)),Sh)}async function yp(i,t){const a=At(i);let s=3;const o=t.query;let u=a.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new uC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await a.onListen(o,!0);break;case 1:u.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(f){const m=gp(f,`Initialization of query '${$r(t.query)}' failed`);return void t.onError(m)}a.queries.set(o,u),u.Sa.push(t),t.va(a.onlineState),u.wa&&t.Fa(u.wa)&&Ep(a)}async function _p(i,t){const a=At(i),s=t.query;let o=3;const u=a.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function hC(i,t){const a=At(i);let s=!1;for(const o of t){const u=o.query,f=a.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Ep(a)}function fC(i,t,a){const s=At(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(a);s.queries.delete(t)}function Ep(i){i.Ca.forEach((t=>{t.next()}))}var Cm,yE;(yE=Cm||(Cm={})).Ma="default",yE.Cache="cache";class vp{constructor(t,a,s){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ul(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const s=a!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.key=t}}class NT{constructor(t){this.key=t}}class dC{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=K1(t),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(t,a){const s=a?a.iu:new pE,o=a?a.tu:this.tu;let u=a?a.mutatedKeys:this.mutatedKeys,f=o,m=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,b)=>{const S=o.get(T),N=Ah(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;S&&N?S.data.isEqual(N.data)?M!==B&&(s.track({type:3,doc:N}),O=!0):this.su(S,N)||(s.track({type:2,doc:N}),O=!0,(_&&this.eu(N,_)>0||y&&this.eu(N,y)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),O=!0):S&&!N&&(s.track({type:1,doc:S}),O=!0,(_||y)&&(m=!0)),O&&(N?(f=f.add(N),u=B?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,b)=>(function(N,M){const B=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:O})}};return B(N)-B(M)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=a&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,f.length!==0||y?{snapshot:new ul(this.query,t.tu,u,f,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const a=[];return t.forEach((s=>{this.Xa.has(s)||a.push(new NT(s))})),this.Xa.forEach((s=>{t.has(s)||a.push(new wT(s))})),a}cu(t){this.Ya=t.Qs,this.Xa=kt();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class mC{constructor(t,a,s){this.query=t,this.targetId=a,this.view=s}}class pC{constructor(t){this.key=t,this.hu=!1}}class gC{constructor(t,a,s,o,u,f){this.localStore=t,this.remoteStore=a,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ws((m=>Y1(m)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new ge(_t.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yC(i,t,a=!0){const s=MT(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await RT(s,t,a,!0),o}async function _C(i,t){const a=MT(i);await RT(a,t,!0,!1)}async function RT(i,t,a,s){const o=await kI(i.localStore,ki(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,a);let m;return s&&(m=await EC(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&a&&vT(i.remoteStore,o),m}async function EC(i,t,a,s,o){i.pu=(b,S,N)=>(async function(B,O,W,at){let $=O.view.ru(W);$.Cs&&($=await uE(B.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,$))));const dt=at&&at.targetChanges.get(O.targetId),mt=at&&at.targetMismatches.get(O.targetId)!=null,yt=O.view.applyChanges($,B.isPrimaryClient,dt,mt);return EE(B,O.targetId,yt.au),yt.snapshot})(i,b,S,N);const u=await uE(i.localStore,t,!0),f=new dC(t,u.Qs),m=f.ru(u.documents),_=Xo.createSynthesizedTargetChangeForCurrentChange(a,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,_);EE(i,a,y.au);const T=new mC(t,a,f);return i.Tu.set(t,T),i.Iu.has(a)?i.Iu.get(a).push(t):i.Iu.set(a,[t]),y.snapshot}async function vC(i,t,a){const s=At(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Sh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),a&&hp(s.remoteStore,o.targetId),Dm(s,o.targetId)})).catch(dl)):(Dm(s,o.targetId),await Rm(s.localStore,o.targetId,!0))}async function TC(i,t){const a=At(i),s=a.Tu.get(t),o=a.Iu.get(s.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),hp(a.remoteStore,s.targetId))}async function bC(i,t,a){const s=IC(i);try{const o=await(function(f,m){const _=At(f),y=he.now(),T=m.reduce(((N,M)=>N.add(M.key)),kt());let b,S;return _.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let M=_a(),B=kt();return _.Ns.getEntries(N,T).next((O=>{M=O,M.forEach(((W,at)=>{at.isValidDocument()||(B=B.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(N,M))).next((O=>{b=O;const W=[];for(const at of m){const $=LR(at,b.get(at.key).overlayedDocument);$!=null&&W.push(new ms(at.key,$,P1($.value.mapValue),xn.exists(!0)))}return _.mutationQueue.addMutationBatch(N,y,W,m)})).next((O=>{S=O;const W=O.applyToLocalDocumentSet(b,B);return _.documentOverlayCache.saveOverlays(N,O.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:$1(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,_){let y=f.Vu[f.currentUser.toKey()];y||(y=new ge(Lt)),y=y.insert(m,_),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,a),await Zo(s,o.changes),await Oh(s.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");a.reject(u)}}async function IT(i,t){const a=At(i);try{const s=await VI(a.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=a.Au.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$t(f.hu,14607):o.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))})),await Zo(a,s,t)}catch(s){await dl(s)}}function _E(i,t,a){const s=At(i);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const _=At(f);_.onlineState=m;let y=!1;_.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(m)&&(y=!0)})),y&&Ep(_)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xC(i,t,a){const s=At(i);s.sharedClientState.updateQueryState(t,"rejected",a);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ge(_t.comparator);f=f.insert(u,rn.newNoDocument(u,bt.min()));const m=kt().add(u),_=new Ih(bt.min(),new Map,new ge(Lt),f,m);await IT(s,_),s.du=s.du.remove(u),s.Au.delete(t),bp(s)}else await Rm(s.localStore,t,!1).then((()=>Dm(s,t,a))).catch(dl)}async function SC(i,t){const a=At(i),s=t.batch.batchId;try{const o=await jI(a.localStore,t);DT(a,s,null),CT(a,s),a.sharedClientState.updateMutationState(s,"acknowledged"),await Zo(a,o)}catch(o){await dl(o)}}async function AC(i,t,a){const s=At(i);try{const o=await(function(f,m){const _=At(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,m).next((b=>($t(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);DT(s,t,a),CT(s,t),s.sharedClientState.updateMutationState(t,"rejected",a),await Zo(s,o)}catch(o){await dl(o)}}function CT(i,t){(i.mu.get(t)||[]).forEach((a=>{a.resolve()})),i.mu.delete(t)}function DT(i,t,a){const s=At(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(a?u.reject(a):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Dm(i,t,a=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),a&&i.Pu.yu(s,a);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||OT(i,s)}))}function OT(i,t){i.Eu.delete(t.path.canonicalString());const a=i.du.get(t);a!==null&&(hp(i.remoteStore,a),i.du=i.du.remove(t),i.Au.delete(a),bp(i))}function EE(i,t,a){for(const s of a)s instanceof wT?(i.Ru.addReference(s.key,t),wC(i,s)):s instanceof NT?(ut(Tp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||OT(i,s.key)):Tt(19791,{wu:s})}function wC(i,t){const a=t.key,s=a.path.canonicalString();i.du.get(a)||i.Eu.has(s)||(ut(Tp,"New document in limbo: "+a),i.Eu.add(s),bp(i))}function bp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const a=new _t(ce.fromString(t)),s=i.fu.next();i.Au.set(s,new pC(a)),i.du=i.du.insert(a,s),vT(i.remoteStore,new es(ki(xh(a.path)),s,"TargetPurposeLimboResolution",Eh.ce))}}async function Zo(i,t,a){const s=At(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,_)=>{f.push(s.pu(_,t,a).then((y=>{var T;if((y||a)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=a==null?void 0:a.targetChanges.get(_.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){o.push(y);const b=up.As(_.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(_,y){const T=At(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(y,(S=>nt.forEach(S.Es,(N=>T.persistence.referenceDelegate.addReference(b,S.targetId,N))).next((()=>nt.forEach(S.ds,(N=>T.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))))))}catch(b){if(!ml(b))throw b;ut(cp,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const N=T.Ms.get(S),M=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(M);T.Ms=T.Ms.insert(S,B)}}})(s.localStore,u))}async function NC(i,t){const a=At(i);if(!a.currentUser.isEqual(t)){ut(Tp,"User change. New user:",t.toKey());const s=await gT(a.localStore,t);a.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((_=>{_.reject(new ht(it.CANCELLED,f))}))})),u.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zo(a,s.Ls)}}function RC(i,t){const a=At(i),s=a.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=a.Iu.get(t);if(!u)return o;for(const f of u){const m=a.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function MT(i){const t=At(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Pu.H_=hC.bind(null,t.eventManager),t.Pu.yu=fC.bind(null,t.eventManager),t}function IC(i){const t=At(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return MI(this.persistence,new CI,t.initialUser,this.serializer)}Cu(t){return new pT(op.mi,this.serializer)}Du(t){return new zI}async terminate(){var t,a;(t=this.gcScheduler)==null||t.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class CC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){$t(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pI(s,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new pT((s=>ch.mi(s,a)),this.serializer)}}class Om{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cC})()}createDatastore(t){const a=Ch(t.databaseInfo.databaseId),s=(function(u){return new FI(u)})(t.databaseInfo);return(function(u,f,m,_){return new $I(u,f,m,_)})(t.authCredentials,t.appCheckCredentials,s,a)}createRemoteStore(t){return(function(s,o,u,f,m){return new JI(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>_E(this.syncEngine,a,0)),(function(){return fE.v()?new fE:new BI})())}createSyncEngine(t,a){return(function(o,u,f,m,_,y,T){const b=new gC(o,u,f,m,_,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){var t,a;await(async function(o){const u=At(o);ut(Js,"RemoteStore shutting down."),u.Ea.add(5),await Jo(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(a=this.eventManager)==null||a.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ya("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class DC{constructor(t,a,s,o,u){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ut(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const s=gp(a,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function im(i,t){i.asyncQueue.verifyOperationInProgress(),ut(hs,"Initializing OfflineComponentProvider");const a=i.configuration;await t.initialize(a);let s=a.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await gT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function vE(i,t){i.asyncQueue.verifyOperationInProgress();const a=await OC(i);ut(hs,"Initializing OnlineComponentProvider"),await t.initialize(a,i.configuration),i.setCredentialChangeListener((s=>mE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>mE(t.remoteStore,o))),i._onlineComponents=t}async function OC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(hs,"Using user provided OfflineComponentProvider");try{await im(i,i._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;al("Error using user provided cache. Falling back to memory cache: "+a),await im(i,new fh)}}else ut(hs,"Using default OfflineComponentProvider"),await im(i,new CC(void 0));return i._offlineComponents}async function jT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(hs,"Using user provided OnlineComponentProvider"),await vE(i,i._uninitializedComponentsProvider._online)):(ut(hs,"Using default OnlineComponentProvider"),await vE(i,new Om))),i._onlineComponents}function MC(i){return jT(i).then((t=>t.syncEngine))}async function dh(i){const t=await jT(i),a=t.eventManager;return a.onListen=yC.bind(null,t.syncEngine),a.onUnlisten=vC.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=_C.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=TC.bind(null,t.syncEngine),a}function jC(i,t,a={}){const s=new ma;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,y){const T=new xp({next:S=>{T.Nu(),f.enqueueAndForget((()=>_p(u,b)));const N=S.docs.has(m);!N&&S.fromCache?y.reject(new ht(it.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&_&&_.source==="server"?y.reject(new ht(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new vp(xh(m.path),T,{includeMetadataChanges:!0,qa:!0});return yp(u,b)})(await dh(i),i.asyncQueue,t,a,s))),s.promise}function VC(i,t,a={}){const s=new ma;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,y){const T=new xp({next:S=>{T.Nu(),f.enqueueAndForget((()=>_p(u,b))),S.fromCache&&_.source==="server"?y.reject(new ht(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new vp(m,T,{includeMetadataChanges:!0,qa:!0});return yp(u,b)})(await dh(i),i.asyncQueue,t,a,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firestore.googleapis.com",bE=!0;class xE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=bE}else this.host=t.host,this.ssl=t.ssl??bE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dI)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mh{constructor(t,a,s,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zN;switch(s.type){case"firstParty":return new qN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const s=TE.get(a);s&&(ut("ComponentProvider","Removing Datastore"),TE.delete(a),s.terminate())})(this),Promise.resolve()}}function UC(i,t,a,s={}){var y;i=bn(i,Mh);const o=Km(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${a}`;o&&(pw(`https://${m}`),Ew("Firestore",!0)),u.host!==UT&&u.host!==m&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:m,ssl:o,emulatorOptions:s};if(!Wc(_,f)&&(i._setSettings(_),s.mockUserToken)){let T,b;if(typeof s.mockUserToken=="string")T=s.mockUserToken,b=sn.MOCK_USER;else{T=gw(s.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(S)}i._authCredentials=new BN(new N1(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Wo(this.firestore,t,this._query)}}class Ne{constructor(t,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,s){if(Qo(a,Ne._jsonSchema))return new Ne(t,s||null,new _t(ce.fromString(a.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ue("string",Ne._jsonSchemaVersion),referencePath:Ue("string")};class ss extends Wo{constructor(t,a,s){super(t,a,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new _t(t))}withConverter(t){return new ss(this.firestore,t,this._path)}}function Ta(i,t,...a){if(i=ci(i),R1("collection","path",t),i instanceof Mh){const s=ce.fromString(t,...a);return L_(s),new ss(i,null,s)}{if(!(i instanceof Ne||i instanceof ss))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...a));return L_(s),new ss(i.firestore,null,s)}}function Le(i,t,...a){if(i=ci(i),arguments.length===1&&(t=Xm.newId()),R1("doc","path",t),i instanceof Mh){const s=ce.fromString(t,...a);return U_(s),new Ne(i,null,new _t(s))}{if(!(i instanceof Ne||i instanceof ss))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...a));return U_(s),new Ne(i.firestore,i instanceof ss?i.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class AE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const s=nm();s&&ut(SE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const a=nm();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=nm();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ml(t))throw t;ut(SE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",wE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=a,a}enqueueAfterDelay(t,a,s){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=pp.createAndSchedule(this,t,a,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,s)=>a.targetTimeMs-s.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function wE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){return(function(a,s){if(typeof a!="object"||a===null)return!1;const o=a;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ea extends Mh{constructor(t,a,s,o){super(t,a,s,o),this.type="firestore",this._queue=new AE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new AE(t),this._firestoreClient=void 0,await t}}}function LC(i,t){const a=typeof i=="object"?i:IN(),s=typeof i=="string"?i:ih,o=SN(a,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dw("firestore");u&&UC(o,...u)}return o}function tu(i){if(i._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kC(i),i._firestoreClient}function kC(i){var s,o,u;const t=i._freezeSettings(),a=(function(m,_,y,T){return new lR(m,_,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,VT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,t);i._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new DC(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(m){const _=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(_),_online:_}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(tn.fromBase64String(t))}catch(a){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Qn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qo(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ue("string",Qn._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Qo(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ue("string",zi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qo(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Bi(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ue("string",Bi._jsonSchemaVersion),vectorValues:Ue("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^__.*__$/;class zC{constructor(t,a,s){this.data=t,this.fieldMask=a,this.fieldTransforms=s}toMutation(t,a){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,a,this.fieldTransforms):new $o(t,this.data,a,this.fieldTransforms)}}class LT{constructor(t,a,s){this.data=t,this.fieldMask=a,this.fieldTransforms=s}toMutation(t,a){return new ms(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function kT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:i})}}class Ap{constructor(t,a,s,o,u,f){this.settings=t,this.databaseId=a,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ap({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:a,fc:!1});return s.gc(t),s}yc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:a,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&PC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BC{constructor(t,a,s){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=s||Ch(t)}Cc(t,a,s,o=!1){return new Ap({Ac:t,methodName:a,Dc:s,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(i){const t=i._freezeSettings(),a=Ch(i._databaseId);return new BC(i._databaseId,!!t.ignoreUndefinedProperties,a)}function PT(i,t,a,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,a,o);Np("Data must be an object, but it was:",f,s);const m=HT(s,f);let _,y;if(u.merge)_=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const S=Mm(t,b,a);if(!f.contains(S))throw new ht(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qT(T,S)||T.push(S)}_=new jn(T),y=f.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=f.fieldTransforms;return new zC(new Tn(m),_,y)}class jh extends Sp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}function zT(i,t,a,s){const o=i.Cc(1,t,a);Np("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();ds(s,((_,y)=>{const T=Rp(t,_,a);y=ci(y);const b=o.yc(T);if(y instanceof jh)u.push(T);else{const S=Vh(y,b);S!=null&&(u.push(T),f.set(T,S))}}));const m=new jn(u);return new LT(f,m,o.fieldTransforms)}function BT(i,t,a,s,o,u){const f=i.Cc(1,t,a),m=[Mm(t,s,a)],_=[o];if(u.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Mm(t,u[S])),_.push(u[S+1]);const y=[],T=Tn.empty();for(let S=m.length-1;S>=0;--S)if(!qT(y,m[S])){const N=m[S];let M=_[S];M=ci(M);const B=f.yc(N);if(M instanceof jh)y.push(N);else{const O=Vh(M,B);O!=null&&(y.push(N),T.set(N,O))}}const b=new jn(y);return new LT(T,b,f.fieldTransforms)}function Vh(i,t){if(GT(i=ci(i)))return Np("Unsupported field value:",t,i),HT(i,t);if(i instanceof Sp)return(function(s,o){if(!kT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let _=Vh(m,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:uh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:lT(o.serializer,s._byteString)};if(s instanceof Ne){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(f,m){return{mapValue:{fields:{[L1]:{stringValue:k1},[ah]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return ip(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jm(s)}`)})(i,t)}function HT(i,t){const a={};return D1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(i,((s,o)=>{const u=Vh(o,t.mc(s));u!=null&&(a[s]=u)})),{mapValue:{fields:a}}}function GT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof he||i instanceof zi||i instanceof Qn||i instanceof Ne||i instanceof Sp||i instanceof Bi)}function Np(i,t,a){if(!GT(a)||!I1(a)){const s=Jm(a);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function Mm(i,t,a){if((t=ci(t))instanceof eu)return t._internalPath;if(typeof t=="string")return Rp(i,t);throw mh("Field path arguments must be of type string or ",i,!1,void 0,a)}const HC=new RegExp("[~\\*/\\[\\]]");function Rp(i,t,a){if(t.search(HC)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,a);try{return new eu(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,a)}}function mh(i,t,a,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${s}`),f&&(_+=` in document ${o}`),_+=")"),new ht(it.INVALID_ARGUMENT,m+i+_)}function qT(i,t){return i.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,a,s,o,u){this._firestore=t,this._userDataWriter=a,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(YT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class GC extends FT{data(){return super.data()}}function YT(i,t){return typeof t=="string"?Rp(i,t):t instanceof eu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qC{convertValue(t,a="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const s={};return ds(t,((o,u)=>{s[o]=this.convertValue(u,a)})),s}convertVectorValue(t){var s,o,u;const a=(u=(o=(s=t.fields)==null?void 0:s[ah].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>we(f.doubleValue)));return new Bi(a)}convertGeoPoint(t){return new zi(we(t.latitude),we(t.longitude))}convertArray(t,a){return(t.values||[]).map((s=>this.convertValue(s,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const s=Th(t);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(zo(t));default:return null}}convertTimestamp(t){const a=ls(t);return new he(a.seconds,a.nanos)}convertDocumentKey(t,a){const s=ce.fromString(t);$t(dT(s),9688,{name:t});const o=new Bo(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(a)||ya(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i,t,a){let s;return s=i?a&&(a.merge||a.mergeFields)?i.toFirestore(t,a):i.toFirestore(t):t,s}class No{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends FT{constructor(t,a,s,o,u,f){super(t,a,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const s=this._document.data.field(YT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Ks._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ue("string",Ks._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Yc extends Ks{data(t={}){return super.data(t)}}class Qs{constructor(t,a,s,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((s=>{t.call(a,new Yc(this._firestore,this._userDataWriter,s.key,s,new No(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const _=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const _=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:FC(m.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(a.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i){i=bn(i,Ne);const t=bn(i.firestore,Ea);return jC(tu(t),i._key).then((a=>$T(t,i,a)))}Qs._jsonSchemaVersion="firestore/querySnapshot/1.0",Qs._jsonSchema={type:Ue("string",Qs._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Cp extends qC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,a)}}function Dp(i){i=bn(i,Wo);const t=bn(i.firestore,Ea),a=tu(t),s=new Cp(t);return KT(i._query),VC(a,i._query).then((o=>new Qs(t,s,i,o)))}function er(i,t,a){i=bn(i,Ne);const s=bn(i.firestore,Ea),o=QT(i.converter,t,a);return Lh(s,[PT(wp(s),"setDoc",i._key,o,i.converter!==null,a).toMutation(i._key,xn.none())])}function nu(i,t,a,...s){i=bn(i,Ne);const o=bn(i.firestore,Ea),u=wp(o);let f;return f=typeof(t=ci(t))=="string"||t instanceof eu?BT(u,"updateDoc",i._key,t,a,s):zT(u,"updateDoc",i._key,t),Lh(o,[f.toMutation(i._key,xn.exists(!0))])}function Uh(i){return Lh(bn(i.firestore,Ea),[new Rh(i._key,xn.none())])}function gl(i,...t){var _,y,T;i=ci(i);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||NE(t[s])||(a=t[s++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(NE(t[s])){const b=t[s];t[s]=(_=b.next)==null?void 0:_.bind(b),t[s+1]=(y=b.error)==null?void 0:y.bind(b),t[s+2]=(T=b.complete)==null?void 0:T.bind(b)}let u,f,m;if(i instanceof Ne)f=bn(i.firestore,Ea),m=xh(i._key.path),u={next:b=>{t[s]&&t[s]($T(f,i,b))},error:t[s+1],complete:t[s+2]};else{const b=bn(i,Wo);f=bn(b.firestore,Ea),m=b._query;const S=new Cp(f);u={next:N=>{t[s]&&t[s](new Qs(f,S,b,N))},error:t[s+1],complete:t[s+2]},KT(i._query)}return(function(S,N,M,B){const O=new xp(B),W=new vp(N,O,M);return S.asyncQueue.enqueueAndForget((async()=>yp(await dh(S),W))),()=>{O.Nu(),S.asyncQueue.enqueueAndForget((async()=>_p(await dh(S),W)))}})(tu(f),m,o,u)}function Lh(i,t){return(function(s,o){const u=new ma;return s.asyncQueue.enqueueAndForget((async()=>bC(await MC(s),o,u))),u.promise})(tu(i),t)}function $T(i,t,a){const s=a.docs.get(t._key),o=new Cp(i);return new Ks(i,o,t._key,s,new No(a.hasPendingWrites,a.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,a){this._firestore=t,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=wp(t)}set(t,a,s){this._verifyNotCommitted();const o=am(t,this._firestore),u=QT(o.converter,a,s),f=PT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,xn.none())),this}update(t,a,s,...o){this._verifyNotCommitted();const u=am(t,this._firestore);let f;return f=typeof(a=ci(a))=="string"||a instanceof eu?BT(this._dataReader,"WriteBatch.update",u._key,a,s,o):zT(this._dataReader,"WriteBatch.update",u._key,a),this._mutations.push(f.toMutation(u._key,xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const a=am(t,this._firestore);return this._mutations=this._mutations.concat(new Rh(a._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(i,t){if((i=ci(i)).firestore!==t)throw new ht(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){return tu(i=bn(i,Ea)),new YC(i,(t=>Lh(i,t)))}(function(t,a=!0){(function(o){fl=o})(RN),eh(new Lo("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ea(new HN(s.getProvider("auth-internal")),new FN(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(y.options.projectId,T)})(f,o),f);return u={useFetchStreams:a,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),tl(O_,M_,t),tl(O_,M_,"esm2020")})();var KC="firebase",QC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tl(KC,QC,"app");const $C={apiKey:"AIzaSyDYZ6VUaaDmy-AvS4D9cM3zkN0Vg4lStuk",authDomain:"workshop-36cbe.firebaseapp.com",projectId:"workshop-36cbe",storageBucket:"workshop-36cbe.firebasestorage.app",messagingSenderId:"742601440632",appId:"1:742601440632:web:48e380f7e1441494ba9c8d"},XC=y1($C),Gt=LC(XC),JC=[{id:"p1",name:"",category:"food",price:150,description:"",imageUrl:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?q=80&w=400&h=300&auto=format&fit=crop",stock:12},{id:"p2",name:"",category:"food",price:80,description:"",imageUrl:"https://images.unsplash.com/photo-1544467316-e97029d2d47b?q=80&w=400&h=300&auto=format&fit=crop",stock:45},{id:"p3",name:"",category:"electronic",price:12e3,description:"",imageUrl:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=400&h=300&auto=format&fit=crop",stock:1},{id:"p4",name:"",category:"ticket",price:320,description:"",imageUrl:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=400&h=300&auto=format&fit=crop",stock:8},{id:"p5",name:"",category:"food",price:800,description:"",imageUrl:"https://images.unsplash.com/photo-1544739313-6fad02872377?q=80&w=400&h=300&auto=format&fit=crop",stock:3},{id:"p6",name:"",category:"electronic",price:2500,description:"",imageUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=400&h=300&auto=format&fit=crop",stock:5}],$s=[{name:"",threshold:0,color:"bg-slate-400",icon:""},{name:"",threshold:500,color:"bg-blue-400",icon:""},{name:"",threshold:2e3,color:"bg-green-500",icon:""},{name:"",threshold:5e3,color:"bg-purple-500",icon:""},{name:"",threshold:1e4,color:"bg-orange-500",icon:""},{name:"",threshold:3e4,color:"bg-yellow-500",icon:""}],Op={USER:"workshop_user"},te={STUDENTS:"students",MISSIONS:"missions",PRODUCTS:"products",WISHES:"wishes",REDEMPTIONS:"redemptions",CHALLENGE_HISTORY:"challengeHistory",POINT_REASONS:"pointReasons"},XT=[{id:"user_zhou",name:"",points:1200,totalEarned:2500,role:$n.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Zhou",password:"123",grade:"",isApproved:!0},{id:"user_hu",name:"",points:800,totalEarned:1800,role:$n.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Hu",password:"123",grade:"",isApproved:!0},{id:"user_lin",name:"",points:2100,totalEarned:4200,role:$n.STUDENT,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lin",password:"123",grade:"",isApproved:!0}],RE={id:"user_admin",name:"",points:0,totalEarned:0,role:$n.ADMIN,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",isApproved:!0},IE={id:"user_guest",name:"",points:0,totalEarned:0,role:$n.GUEST,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Guest",isApproved:!0},JT=async()=>{try{const i=await Dp(Ta(Gt,te.STUDENTS));return i.empty?(await ZC(),XT):i.docs.map(t=>({...t.data(),id:t.id}))}catch(i){return console.error("Error fetching students:",i),[]}},ZC=async()=>{const i=kh(Gt);XT.forEach(t=>{const a=Le(Gt,te.STUDENTS,t.id);i.set(a,t)}),await i.commit()},ZT=async i=>{try{await er(Le(Gt,te.STUDENTS,i.id),i)}catch(t){console.error("Error saving student:",t),alert("")}},WC=async i=>{const t=kh(Gt);i.forEach(a=>{const s=Le(Gt,te.STUDENTS,a.id);t.set(s,a)}),await t.commit()},tD=async(i,t,a)=>{try{if((await JT()).some(u=>u.name===i))return!1;const o={id:`user_${Date.now()}`,name:i,password:t,grade:a,points:0,totalEarned:0,role:$n.STUDENT,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i}`,isApproved:!1};return await ZT(o),!0}catch(s){return console.error("Error registering student:",s),!1}},eD=async i=>{try{const t=Le(Gt,te.STUDENTS,i);await nu(t,{isApproved:!0})}catch(t){console.error("Error approving student:",t)}},nD=async i=>{try{await Uh(Le(Gt,te.STUDENTS,i))}catch(t){console.error("Error deleting student:",t)}},CE=()=>{const i=localStorage.getItem(Op.USER);return i?JSON.parse(i):null},jo=async i=>{localStorage.setItem(Op.USER,JSON.stringify(i)),i.role===$n.STUDENT&&await ZT(i)},iD=()=>{localStorage.removeItem(Op.USER)},aD=async i=>{try{await er(Le(Gt,te.REDEMPTIONS,i.id),i)}catch(t){console.error("Error adding redemption:",t)}},sD=async(i,t)=>{try{const a=Le(Gt,te.REDEMPTIONS,i);await nu(a,{status:t})}catch(a){console.error("Error updating redemption status:",a)}},rD=[{id:"m1",title:"",description:"",points:100,type:"normal",isActive:!0,maxAttempts:1},{id:"m2",title:" 80 ",description:"",points:300,type:"challenge",isActive:!0,maxAttempts:1},{id:"m3",title:" 90 ",description:"",points:1e3,type:"hard",isActive:!0,maxAttempts:1}],lD=async()=>{const i=kh(Gt);rD.forEach(t=>{const a=Le(Gt,te.MISSIONS,t.id);i.set(a,t)}),await i.commit()},oD=async i=>{try{await er(Le(Gt,te.MISSIONS,i.id),i)}catch(t){console.error("Error adding mission:",t)}},uD=async i=>{try{const t=Le(Gt,te.MISSIONS,i),a=await Ip(t);if(a.exists()){const s=a.data();await nu(t,{isActive:!s.isActive})}}catch(t){console.error("Error toggling mission:",t)}},cD=async()=>{try{return(await Dp(Ta(Gt,te.CHALLENGE_HISTORY))).docs.map(t=>({...t.data(),id:t.id}))}catch(i){return console.error("Error fetching challenge history:",i),[]}},hD=async i=>{try{const t=`${i.userId}_${i.missionId}_${Date.now()}`;await er(Le(Gt,te.CHALLENGE_HISTORY,t),i)}catch(t){console.error("Error adding challenge history:",t)}},fD=async(i,t)=>{try{return(await cD()).some(s=>s.userId===i&&s.missionId===t)}catch(a){return console.error("Error checking mission completion:",a),!1}},dD=async()=>{const i=kh(Gt);JC.forEach(t=>{const a=Le(Gt,te.PRODUCTS,t.id);i.set(a,t)}),await i.commit()},mD=async i=>{try{await er(Le(Gt,te.PRODUCTS,i.id),i)}catch(t){console.error("Error adding product:",t)}},pD=async(i,t)=>{try{const a=Le(Gt,te.PRODUCTS,i),s=await Ip(a);if(s.exists()){const o=s.data();await nu(a,{stock:Math.max(0,o.stock-t)})}}catch(a){console.error("Error updating product stock:",a)}},gD=async i=>{try{await Uh(Le(Gt,te.PRODUCTS,i))}catch(t){console.error("Error deleting product:",t)}},yD=async i=>{try{await er(Le(Gt,te.POINT_REASONS,i.id),i)}catch(t){console.error("Error adding point reason:",t)}},_D=async i=>{try{await Uh(Le(Gt,te.POINT_REASONS,i))}catch(t){console.error("Error deleting point reason:",t)}},ED=i=>gl(Ta(Gt,te.POINT_REASONS),t=>{const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)}),vD=async()=>{try{return(await Dp(Ta(Gt,te.WISHES))).docs.map(t=>({...t.data(),id:t.id}))}catch(i){return console.error("Error fetching wishes:",i),[]}},TD=async i=>{try{if((await vD()).find(s=>s.userId===i.userId)){alert("");return}await er(Le(Gt,te.WISHES,i.id),i)}catch(t){console.error("Error adding wish:",t),alert(" Firestore  (Test Mode)")}},bD=async i=>{try{await Uh(Le(Gt,te.WISHES,i))}catch(t){console.error("Error deleting wish:",t)}},xD=async(i,t)=>{try{const a=Le(Gt,te.WISHES,i),s=await Ip(a);if(s.exists()){const u=s.data().likedBy||[];if(u.includes(t)){alert("");return}await nu(a,{likedBy:[...u,t]})}}catch(a){console.error("Error liking wish:",a)}},SD=i=>gl(Ta(Gt,te.STUDENTS),t=>{const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>{console.error("Error in subscribeToStudents:",t)}),WT=i=>gl(Ta(Gt,te.MISSIONS),t=>{t.empty&&lD().catch(console.error);const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>console.error("Error subscribing to missions:",t)),tb=i=>gl(Ta(Gt,te.PRODUCTS),t=>{t.empty&&dD().catch(console.error);const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>{console.error("Error subscribing to products:",t),alert("")}),eb=i=>gl(Ta(Gt,te.WISHES),t=>{const a=t.docs.map(s=>({...s.data(),id:s.id}));i(a)},t=>console.error("Error subscribing to wishes:",t)),nb=i=>gl(Ta(Gt,te.REDEMPTIONS),t=>{const a=t.docs.map(s=>{const o=s.data();return{id:s.id,status:"pending",pointsSpent:0,productName:"",timestamp:Date.now(),userId:"unknown",qrCodeData:"",...o}});i(a)},t=>{console.error("Error subscribing to redemptions:",t)});var AD={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DE;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(DE||(DE={}));var OE;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(OE||(OE={}));var ME;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ME||(ME={}));var jE;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(jE||(jE={}));var VE;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(VE||(VE={}));var UE;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(UE||(UE={}));var LE;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(LE||(LE={}));var kE;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kE||(kE={}));var PE;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(PE||(PE={}));var zE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(zE||(zE={}));var BE;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(BE||(BE={}));var HE;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(HE||(HE={}));var GE;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(GE||(GE={}));var qE;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(qE||(qE={}));var FE;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(FE||(FE={}));var YE;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(YE||(YE={}));var KE;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(KE||(KE={}));var QE;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(QE||(QE={}));var $E;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($E||($E={}));var XE;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(XE||(XE={}));var JE;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(JE||(JE={}));var ZE;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ZE||(ZE={}));var WE;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WE||(WE={}));var tv;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(tv||(tv={}));var ev;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ev||(ev={}));var nv;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nv||(nv={}));var iv;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iv||(iv={}));var av;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(av||(av={}));var sv;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(sv||(sv={}));var rv;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rv||(rv={}));var lv;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(lv||(lv={}));var ov;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(ov||(ov={}));var uv;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(uv||(uv={}));var cv;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cv||(cv={}));var hv;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hv||(hv={}));var fv;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fv||(fv={}));var dv;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dv||(dv={}));var mv;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(mv||(mv={}));var pv;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(pv||(pv={}));var gv;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(gv||(gv={}));var yv;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(yv||(yv={}));var _v;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_v||(_v={}));var Ev;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ev||(Ev={}));var vv;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(vv||(vv={}));var Tv;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Tv||(Tv={}));var bv;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bv||(bv={}));var xv;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(xv||(xv={}));var Sv;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Sv||(Sv={}));var Av;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Av||(Av={}));var wv;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wv||(wv={}));var Nv;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Nv||(Nv={}));var Rv;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Rv||(Rv={}));var Iv;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Iv||(Iv={}));var Cv;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Cv||(Cv={}));var Dv;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Dv||(Dv={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ov;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Ov||(Ov={}));function ph(i,t){var a={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(a[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(a[s[o]]=i[s[o]]);return a}function Mv(i){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&i[t],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(i){return this instanceof me?(this.v=i,this):new me(i)}function Vo(i,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(N){return function(M){return Promise.resolve(M).then(N,b)}}function m(N,M){s[N]&&(o[N]=function(B){return new Promise(function(O,W){u.push([N,B,O,W])>1||_(N,B)})},M&&(o[N]=M(o[N])))}function _(N,M){try{y(s[N](M))}catch(B){S(u[0][3],B)}}function y(N){N.value instanceof me?Promise.resolve(N.value.v).then(T,b):S(u[0][2],N)}function T(N){_("next",N)}function b(N){_("throw",N)}function S(N,M){N(M),u.shift(),u.length&&_(u[0][0],u[0][1])}}function nl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],a;return t?t.call(i):(i=typeof Mv=="function"?Mv(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(u){a[u]=i[u]&&function(f){return new Promise(function(m,_){f=i[u](f),o(m,_,f.done,f.value)})}}function o(u,f,m,_){Promise.resolve(_).then(function(y){u({value:y,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ib=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return ib=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),a=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^a()&15>>+s/4).toString(16))};const wD=()=>ib();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jm(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Vm=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn extends Error{}class cn extends Jn{constructor(t,a,s,o){super(`${cn.makeMessage(t,a,s)}`),this.status=t,this.headers=o,this.error=a}static makeMessage(t,a,s){const o=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,a,s,o){if(!t||!o)return new Ph({message:s,cause:Vm(a)});const u=a;return t===400?new sb(t,u,s,o):t===401?new rb(t,u,s,o):t===403?new lb(t,u,s,o):t===404?new ob(t,u,s,o):t===409?new ub(t,u,s,o):t===422?new cb(t,u,s,o):t===429?new hb(t,u,s,o):t>=500?new fb(t,u,s,o):new cn(t,u,s,o)}}class Um extends cn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ph extends cn{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class ab extends Ph{constructor({message:t}={}){super({message:t??"Request timed out."})}}class sb extends cn{}class rb extends cn{}class lb extends cn{}class ob extends cn{}class ub extends cn{}class cb extends cn{}class hb extends cn{}class fb extends cn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ND=/^[a-z][a-z0-9+.-]*:/i,RD=i=>ND.test(i);let Lm=i=>(Lm=Array.isArray,Lm(i));const ID=Lm;let CD=ID;const jv=CD;function DD(i){if(!i)return!0;for(const t in i)return!1;return!0}function OD(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const MD=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Jn(`${i} must be an integer`);if(t<0)throw new Jn(`${i} must be a positive integer`);return t},jD=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VD=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UD(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LD=()=>{var i,t,a,s,o;const u=UD();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zr,"X-Stainless-OS":Uv(Deno.build.os),"X-Stainless-Arch":Vv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zr,"X-Stainless-OS":Uv((a=globalThis.process.platform)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Arch":Vv((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const f=kD();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kD(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of i){const s=a.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:t,version:`${o}.${u}.${f}`}}}return null}const Vv=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Uv=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Oc;const PD=()=>Oc??(Oc=LD());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zD(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function db(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function BD(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return db({start(){},async pull(a){const{done:s,value:o}=await t.next();s?a.close():a.enqueue(o)},async cancel(){var a;await((a=t.return)===null||a===void 0?void 0:a.call(t))}})}function mb(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function HD(i){var t,a;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((a=(t=i[Symbol.asyncIterator]()).return)===null||a===void 0?void 0:a.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GD=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pb=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,a=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(a?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sm(i,t,a){return pb(),new File(i,t??"unknown_file",a)}function qD(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const FD=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gb=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",YD=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&gb(i),KD=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function QD(i,t,a){if(pb(),i=await i,YD(i))return i instanceof File?i:sm([await i.arrayBuffer()],i.name);if(KD(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),sm(await km(o),t,a)}const s=await km(i);if(t||(t=qD(i)),!(a!=null&&a.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(a=Object.assign(Object.assign({},a),{type:o}))}return sm(s,t,a)}async function km(i){var t,a,s,o,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(gb(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(FD(i))try{for(var m=!0,_=nl(i),y;y=await _.next(),t=y.done,!t;m=!0){o=y.value,m=!1;const T=o;f.push(...await km(T))}}catch(T){a={error:T}}finally{try{!m&&!t&&(s=_.return)&&await s.call(_)}finally{if(a)throw a.error}}else{const T=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${T?`; constructor: ${T}`:""}${$D(i)}`)}return f}function $D(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(a=>`"${a}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yb{constructor(t){this._client=t}}yb._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lv=Object.freeze(Object.create(null)),XD=(i=_b)=>(function(a,...s){if(a.length===1)return a[0];let o=!1;const u=[],f=a.reduce((T,b,S)=>{var N,M,B;/[?#]/.test(b)&&(o=!0);const O=s[S];let W=(o?encodeURIComponent:i)(""+O);return S!==s.length&&(O==null||typeof O=="object"&&O.toString===((B=Object.getPrototypeOf((M=Object.getPrototypeOf((N=O.hasOwnProperty)!==null&&N!==void 0?N:Lv))!==null&&M!==void 0?M:Lv))===null||B===void 0?void 0:B.toString))&&(W=O+"",u.push({start:T.length+b.length,length:W.length,error:`Value of type ${Object.prototype.toString.call(O).slice(8,-1)} is not a valid path parameter`})),T+b+(S===s.length?"":W)},""),m=f.split(/[?#]/,1)[0],_=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=_.exec(m))!==null;)u.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(u.sort((T,b)=>T.start-b.start),u.length>0){let T=0;const b=u.reduce((S,N)=>{const M=" ".repeat(N.start-T),B="^".repeat(N.length);return T=N.start+N.length,S+M+B},"");throw new Jn(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${b}`)}return f}),Mc=XD(_b);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eb extends yb{create(t,a){var s;const{api_version:o=this._client.apiVersion}=t,u=ph(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Mc`/${o}/interactions`,Object.assign(Object.assign({body:u},a),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,a={},s){const{api_version:o=this._client.apiVersion}=a??{};return this._client.delete(Mc`/${o}/interactions/${t}`,s)}cancel(t,a={},s){const{api_version:o=this._client.apiVersion}=a??{};return this._client.post(Mc`/${o}/interactions/${t}/cancel`,s)}get(t,a={},s){var o;const u=a??{},{api_version:f=this._client.apiVersion}=u,m=ph(u,["api_version"]);return this._client.get(Mc`/${f}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=a==null?void 0:a.stream)!==null&&o!==void 0?o:!1}))}}Eb._key=Object.freeze(["interactions"]);class vb extends Eb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JD(i){let t=0;for(const o of i)t+=o.length;const a=new Uint8Array(t);let s=0;for(const o of i)a.set(o,s),s+=o.length;return a}let jc;function Mp(i){let t;return(jc??(t=new globalThis.TextEncoder,jc=t.encode.bind(t)))(i)}let Vc;function kv(i){let t;return(Vc??(t=new globalThis.TextDecoder,Vc=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Mp(t):t;this.buffer=JD([this.buffer,a]);const s=[];let o;for(;(o=ZD(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(kv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,f=kv(this.buffer.subarray(0,u));s.push(f),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}zh.NEWLINE_CHARS=new Set([`
`,"\r"]);zh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZD(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function WD(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh={off:0,error:200,warn:300,info:400,debug:500},Pv=(i,t,a)=>{if(i){if(OD(gh,i))return i;un(a).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(gh))}`)}};function Ro(){}function Uc(i,t,a){return!t||gh[i]>gh[a]?Ro:t[i].bind(t)}const tO={error:Ro,warn:Ro,info:Ro,debug:Ro};let zv=new WeakMap;function un(i){var t;const a=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!a)return tO;const o=zv.get(a);if(o&&o[0]===s)return o[1];const u={error:Uc("error",a,s),warn:Uc("warn",a,s),info:Uc("info",a,s),debug:Uc("debug",a,s)};return zv.set(a,[s,u]),u}const Fs=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,a])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wr{constructor(t,a,s){this.iterator=t,this.controller=a,this.client=s}static fromSSEResponse(t,a,s){let o=!1;const u=s?un(s):console;function f(){return Vo(this,arguments,function*(){var _,y,T,b;if(o)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var N=!0,M=nl(eO(t,a)),B;B=yield me(M.next()),_=B.done,!_;N=!0){b=B.value,N=!1;const O=b;if(!S)if(O.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield me(JSON.parse(O.data))}catch(W){throw u.error("Could not parse message into JSON:",O.data),u.error("From chunk:",O.raw),W}}}catch(O){y={error:O}}finally{try{!N&&!_&&(T=M.return)&&(yield me(T.call(M)))}finally{if(y)throw y.error}}S=!0}catch(O){if(jm(O))return yield me(void 0);throw O}finally{S||a.abort()}})}return new Wr(f,a,s)}static fromReadableStream(t,a,s){let o=!1;function u(){return Vo(this,arguments,function*(){var _,y,T,b;const S=new zh,N=mb(t);try{for(var M=!0,B=nl(N),O;O=yield me(B.next()),_=O.done,!_;M=!0){b=O.value,M=!1;const W=b;for(const at of S.decode(W))yield yield me(at)}}catch(W){y={error:W}}finally{try{!M&&!_&&(T=B.return)&&(yield me(T.call(B)))}finally{if(y)throw y.error}}for(const W of S.flush())yield yield me(W)})}function f(){return Vo(this,arguments,function*(){var _,y,T,b;if(o)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var N=!0,M=nl(u()),B;B=yield me(M.next()),_=B.done,!_;N=!0){b=B.value,N=!1;const O=b;S||O&&(yield yield me(JSON.parse(O)))}}catch(O){y={error:O}}finally{try{!N&&!_&&(T=M.return)&&(yield me(T.call(M)))}finally{if(y)throw y.error}}S=!0}catch(O){if(jm(O))return yield me(void 0);throw O}finally{S||a.abort()}})}return new Wr(f,a,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=s.next();t.push(f),a.push(f)}return u.shift()}});return[new Wr(()=>o(t),this.controller,this.client),new Wr(()=>o(a),this.controller,this.client)]}toReadableStream(){const t=this;let a;return db({async start(){a=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await a.next();if(u)return s.close();const f=Mp(JSON.stringify(o)+`
`);s.enqueue(f)}catch(o){s.error(o)}},async cancel(){var s;await((s=a.return)===null||s===void 0?void 0:s.call(a))}})}}function eO(i,t){return Vo(this,arguments,function*(){var s,o,u,f;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const m=new iO,_=new zh,y=mb(i.body);try{for(var T=!0,b=nl(nO(y)),S;S=yield me(b.next()),s=S.done,!s;T=!0){f=S.value,T=!1;const N=f;for(const M of _.decode(N)){const B=m.decode(M);B&&(yield yield me(B))}}}catch(N){o={error:N}}finally{try{!T&&!s&&(u=b.return)&&(yield me(u.call(b)))}finally{if(o)throw o.error}}for(const N of _.flush()){const M=m.decode(N);M&&(yield yield me(M))}})}function nO(i){return Vo(this,arguments,function*(){var a,s,o,u;let f=new Uint8Array;try{for(var m=!0,_=nl(i),y;y=yield me(_.next()),a=y.done,!a;m=!0){u=y.value,m=!1;const T=u;if(T==null)continue;const b=T instanceof ArrayBuffer?new Uint8Array(T):typeof T=="string"?Mp(T):T;let S=new Uint8Array(f.length+b.length);S.set(f),S.set(b,f.length),f=S;let N;for(;(N=WD(f))!==-1;)yield yield me(f.slice(0,N)),f=f.slice(N)}}catch(T){s={error:T}}finally{try{!m&&!a&&(o=_.return)&&(yield me(o.call(_)))}finally{if(s)throw s.error}}f.length>0&&(yield yield me(f))})}class iO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,o]=aO(t,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function aO(i,t){const a=i.indexOf(t);return a!==-1?[i.substring(0,a),t,i.substring(a+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sO(i,t){const{response:a,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,f=await(async()=>{var m;if(t.options.stream)return un(i).debug("response",a.status,a.url,a.headers,a.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(a,t.controller,i):Wr.fromSSEResponse(a,t.controller,i);if(a.status===204)return null;if(t.options.__binaryResponse)return a;const _=a.headers.get("content-type"),y=(m=_==null?void 0:_.split(";")[0])===null||m===void 0?void 0:m.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await a.json():await a.text()})();return un(i).debug(`[${s}] response parsed`,Fs({retryOfRequestLogID:o,url:a.url,status:a.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jp extends Promise{constructor(t,a,s=sO){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new jp(this.client,this.responsePromise,async(a,s)=>t(await this.parseResponse(a,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb=Symbol("brand.privateNullableHeaders");function*rO(i){if(!i)return;if(Tb in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,a;i instanceof Headers?a=i.entries():jv(i)?a=i:(t=!0,a=Object.entries(i??{}));for(let s of a){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=jv(s[1])?s[1]:[s[1]];let f=!1;for(const m of u)m!==void 0&&(t&&!f&&(f=!0,yield[o,null]),yield[o,m])}}const bo=i=>{const t=new Headers,a=new Set;for(const s of i){const o=new Set;for(const[u,f]of rO(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),f===null?(t.delete(u),a.add(m)):(t.append(u,f),a.delete(m))}}return{[Tb]:!0,values:t,nulls:a}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rm=i=>{var t,a,s,o,u,f;if(typeof globalThis.process<"u")return(s=(a=(t=AD)===null||t===void 0?void 0:t[i])===null||a===void 0?void 0:a.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bb;class Bh{constructor(t){var a,s,o,u,f,m,_,{baseURL:y=rm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(a=rm("GEMINI_API_KEY"))!==null&&a!==void 0?a:null,apiVersion:b="v1beta"}=t,S=ph(t,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:T,apiVersion:b},S),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(s=N.timeout)!==null&&s!==void 0?s:Bh.DEFAULT_TIMEOUT,this.logger=(o=N.logger)!==null&&o!==void 0?o:console;const M="warn";this.logLevel=M,this.logLevel=(f=(u=Pv(N.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Pv(rm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:M,this.fetchOptions=N.fetchOptions,this.maxRetries=(m=N.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(_=N.fetch)!==null&&_!==void 0?_:zD(),this.encoder=GD,this._options=N,this.apiKey=T,this.apiVersion=b,this.clientAdapter=N.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:a}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!a.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const a=bo([t.headers]);if(!(a.values.has("authorization")||a.values.has("x-goog-api-key"))){if(this.apiKey)return bo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new Jn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zr}`}defaultIdempotencyKey(){return`stainless-node-retry-${wD()}`}makeStatusError(t,a,s,o){return cn.generate(t,a,s,o)}buildURL(t,a,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=RD(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),f=this.defaultQuery();return DD(f)||(a=Object.assign(Object.assign({},f),a)),typeof a=="object"&&a&&!Array.isArray(a)&&(u.search=this.stringifyQuery(a)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const a=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${a}`}}async prepareRequest(t,{url:a,options:s}){}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:a},o)))}request(t,a=null){return new jp(this,this.makeRequest(t,a,void 0))}async makeRequest(t,a,s){var o,u,f;const m=await t,_=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a==null&&(a=_),await this.prepareOptions(m);const{req:y,url:T,timeout:b}=await this.buildRequest(m,{retryCount:_-a});await this.prepareRequest(y,{url:T,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=s===void 0?"":`, retryOf: ${s}`,M=Date.now();if(un(this).debug(`[${S}] sending request`,Fs({retryOfRequestLogID:s,method:m.method,url:T,options:m,headers:y.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Um;const B=new AbortController,O=await this.fetchWithTimeout(T,y,b,B).catch(Vm),W=Date.now();if(O instanceof globalThis.Error){const $=`retrying, ${a} attempts remaining`;if(!((f=m.signal)===null||f===void 0)&&f.aborted)throw new Um;const dt=jm(O)||/timed? ?out/i.test(String(O)+("cause"in O?String(O.cause):""));if(a)return un(this).info(`[${S}] connection ${dt?"timed out":"failed"} - ${$}`),un(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (${$})`,Fs({retryOfRequestLogID:s,url:T,durationMs:W-M,message:O.message})),this.retryRequest(m,a,s??S);throw un(this).info(`[${S}] connection ${dt?"timed out":"failed"} - error; no more retries left`),un(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (error; no more retries left)`,Fs({retryOfRequestLogID:s,url:T,durationMs:W-M,message:O.message})),dt?new ab:new Ph({cause:O})}const at=`[${S}${N}] ${y.method} ${T} ${O.ok?"succeeded":"failed"} with status ${O.status} in ${W-M}ms`;if(!O.ok){const $=await this.shouldRetry(O);if(a&&$){const R=`retrying, ${a} attempts remaining`;return await HD(O.body),un(this).info(`${at} - ${R}`),un(this).debug(`[${S}] response error (${R})`,Fs({retryOfRequestLogID:s,url:O.url,status:O.status,headers:O.headers,durationMs:W-M})),this.retryRequest(m,a,s??S,O.headers)}const dt=$?"error; no more retries left":"error; not retryable";un(this).info(`${at} - ${dt}`);const mt=await O.text().catch(R=>Vm(R).message),yt=jD(mt),I=yt?void 0:mt;throw un(this).debug(`[${S}] response error (${dt})`,Fs({retryOfRequestLogID:s,url:O.url,status:O.status,headers:O.headers,message:I,durationMs:Date.now()-M})),this.makeStatusError(O.status,yt,I,O.headers)}return un(this).info(at),un(this).debug(`[${S}] response start`,Fs({retryOfRequestLogID:s,url:O.url,status:O.status,headers:O.headers,durationMs:W-M})),{response:O,options:m,controller:B,requestLogID:S,retryOfRequestLogID:s,startTime:M}}async fetchWithTimeout(t,a,s,o){const u=a||{},{signal:f,method:m}=u,_=ph(u,["signal","method"]);f&&f.addEventListener("abort",()=>o.abort());const y=setTimeout(()=>o.abort(),s),T=globalThis.ReadableStream&&_.body instanceof globalThis.ReadableStream||typeof _.body=="object"&&_.body!==null&&Symbol.asyncIterator in _.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},T?{duplex:"half"}:{}),{method:"GET"}),_);m&&(b.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(y)}}async shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s,o){var u;let f;const m=o==null?void 0:o.get("retry-after-ms");if(m){const y=parseFloat(m);Number.isNaN(y)||(f=y)}const _=o==null?void 0:o.get("retry-after");if(_&&!f){const y=parseFloat(_);Number.isNaN(y)?f=Date.parse(_)-Date.now():f=y*1e3}if(!(f&&0<=f&&f<60*1e3)){const y=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(a,y)}return await VD(f),this.makeRequest(t,a-1,s)}calculateDefaultRetryTimeoutMillis(t,a){const u=a-t,f=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return f*m*1e3}async buildRequest(t,{retryCount:a=0}={}){var s,o,u;const f=Object.assign({},t),{method:m,path:_,query:y,defaultBaseURL:T}=f,b=this.buildURL(_,y,T);"timeout"in f&&MD("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:N}=this.buildBody({options:f}),M=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:a});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:M},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:b,timeout:f.timeout}}async buildHeaders({options:t,method:a,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&a!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const f=await this.authHeaders(t);let m=bo([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),PD()),this._options.defaultHeaders,s,t.headers,f]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:a}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=bo([a]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BD(t)}:this.encoder({body:t,headers:s})}}Bh.DEFAULT_TIMEOUT=6e4;class en extends Bh{constructor(){super(...arguments),this.interactions=new vb(this)}}bb=en;en.GeminiNextGenAPIClient=bb;en.GeminiNextGenAPIClientError=Jn;en.APIError=cn;en.APIConnectionError=Ph;en.APIConnectionTimeoutError=ab;en.APIUserAbortError=Um;en.NotFoundError=ob;en.ConflictError=ub;en.RateLimitError=hb;en.BadRequestError=sb;en.AuthenticationError=rb;en.InternalServerError=fb;en.PermissionDeniedError=lb;en.UnprocessableEntityError=cb;en.toFile=QD;en.Interactions=vb;const lO=()=>null,oO=async(i,t)=>{try{const a=lO();if(!a)throw new Error("API Key not found");return(await a.models.generateContent({model:"gemini-2.0-flash-exp",contents:`
        
        
        - ${i.name}
        - ${t.name}
        - ${i.points}
        - ${i.totalEarned}

        30-50
        
      `})).text()||""}catch(a){return console.error("Gemini Error:",a),""}},uO=({user:i,rank:t,onUserUpdate:a})=>{const[s,o]=P.useState("..."),[u,f]=P.useState([]),[m,_]=P.useState(null),[y,T]=P.useState(new Set),b=$s[$s.indexOf(t)+1]||null,S=b?Math.min(100,(i.totalEarned-t.threshold)/(b.threshold-t.threshold)*100):100;P.useEffect(()=>{(async()=>{const O=await oO(i,t);o(O)})();const B=WT(async O=>{const W=O.filter($=>$.isActive);f(W);const at=new Set;for(const $ of W)await fD(i.id,$.id)&&at.add($.id);T(at)});return()=>B()},[i.id,t]);const N=async M=>{if(m)return;if(M.deadline&&M.deadline<Date.now()){alert("");return}_(M.id);const B=M.points;setTimeout(async()=>{await hD({id:`h_${Date.now()}`,userId:i.id,missionId:M.id,timestamp:Date.now()});const O={...i,points:i.points+B,totalEarned:i.totalEarned+B};await jo(O),a(),_(null),T(W=>new Set(W).add(M.id)),alert(` 
 ${B} `)},1e3)};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[p.jsxs("header",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:["",i.name,""]}),p.jsxs("p",{className:"text-slate-500 mt-1 italic max-w-xl font-medium",children:['"',s,'"']})]}),p.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl px-5 py-3 flex items-center gap-3 self-end md:self-start shadow-sm",children:[p.jsx("div",{className:"bg-amber-500 p-2 rounded-xl text-white shadow-lg shadow-amber-200",children:p.jsx(T2,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] text-amber-700 font-black uppercase tracking-widest",children:""}),p.jsxs("p",{className:"text-2xl font-black text-amber-900 leading-none",children:[i.totalEarned.toLocaleString()," ",p.jsx("span",{className:"text-xs font-bold opacity-60",children:"PTS"})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"md:col-span-2 bg-white rounded-[2.5rem] p-10 border border-slate-100 shadow-xl shadow-slate-200/40 relative overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between mb-12",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("span",{className:"text-4xl filter drop-shadow-md",children:t.icon}),p.jsx("span",{className:`text-2xl font-black px-6 py-2 rounded-2xl text-white ${t.color} shadow-xl shadow-indigo-100 border-2 border-white/20`,children:t.name})]})]}),b&&p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:""}),p.jsxs("div",{className:"flex items-center gap-3 justify-end group",children:[p.jsx("span",{className:"text-lg font-black text-slate-700 group-hover:text-indigo-600 transition-colors",children:b.name}),p.jsx("span",{className:"text-2xl animate-bounce",children:b.icon})]})]})]}),p.jsxs("div",{className:"relative pt-12 pb-6 px-2",children:[p.jsx("div",{className:"h-5 bg-slate-100 rounded-full w-full overflow-hidden border border-slate-200 shadow-inner p-1",children:p.jsx("div",{className:`h-full ${t.color} transition-all duration-1000 ease-out rounded-full relative overflow-hidden`,style:{width:`${S}%`},children:p.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),p.jsx("div",{className:"absolute top-0 transition-all duration-1000 ease-out",style:{left:`calc(${S}% - 30px)`},children:p.jsxs("div",{className:"relative group cursor-pointer",children:[p.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-2xl border border-slate-50 transition-transform group-hover:scale-110 active:scale-95",children:p.jsx("img",{src:i.avatar,className:`w-14 h-14 rounded-full border-4 border-opacity-30 object-cover ${t.color.replace("bg-","border-")}`,alt:"me"})}),p.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1 rounded-xl text-[11px] font-black text-white shadow-xl ${t.color} whitespace-nowrap`,children:[" ",Math.round(S),"%"]})]})})]}),p.jsx("p",{className:"text-center text-xs text-slate-400 font-bold mt-8 tracking-wide",children:b?`${b.name} ${b.threshold-i.totalEarned} `:""})]}),p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-700 to-indigo-900 rounded-[2.5rem] p-10 text-white shadow-2xl shadow-indigo-300 flex flex-col justify-center items-center text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"}),p.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-xl rounded-[2rem] flex items-center justify-center mb-6 border border-white/20 shadow-xl",children:p.jsx(K2,{size:40,className:"text-white drop-shadow-md"})}),p.jsx("h3",{className:"text-indigo-200 text-sm font-black mb-1 uppercase tracking-widest",children:""}),p.jsx("p",{className:"text-6xl font-black mb-4 drop-shadow-lg",children:i.points.toLocaleString()}),p.jsx("div",{className:"px-5 py-1.5 bg-indigo-500/40 backdrop-blur rounded-full text-[10px] font-black tracking-[0.2em] uppercase border border-white/10",children:"SHOPPING POWER"})]})]}),p.jsxs("section",{className:"mt-16",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[p.jsx(Jc,{className:"text-indigo-500",size:28}),""]}),p.jsx("div",{className:"flex items-center gap-4 text-xs font-bold text-slate-400",children:p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(B2,{size:12,className:"text-amber-500"})," "]})})]}),p.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.map(M=>{const B=y.has(M.id);return p.jsx("div",{className:`bg-white border-2 border-slate-50 p-8 rounded-[2.5rem] transition-all group relative overflow-hidden ${B?"opacity-60 grayscale":"shadow-sm hover:shadow-xl"} ${M.id===m?"animate-pulse":""}`,children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[p.jsxs("div",{className:"flex gap-8 items-start",children:[p.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shrink-0 shadow-inner ${M.type==="normal"?"bg-emerald-50 text-emerald-600":M.type==="challenge"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:B?p.jsx(i2,{size:36}):M.type==="normal"?p.jsx(Jc,{size:36}):M.type==="challenge"?p.jsx(c2,{size:36}):p.jsx($2,{size:36})}),p.jsxs("div",{children:[p.jsx("div",{className:"flex items-center gap-3 mb-2",children:p.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${M.type==="normal"?"bg-emerald-100 text-emerald-700":M.type==="challenge"?"bg-orange-100 text-orange-700":"bg-rose-100 text-rose-700"}`,children:M.type==="normal"?"":M.type==="challenge"?"":""})}),p.jsx("h3",{className:"text-2xl font-black text-slate-800 transition-colors",children:M.title}),p.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed text-lg font-medium max-w-2xl",children:M.description}),M.deadline&&p.jsxs("div",{className:`mt-3 flex items-center gap-2 text-sm font-black ${M.deadline<Date.now()?"text-rose-500":"text-amber-500"}`,children:[p.jsx(Qc,{size:16}),M.deadline<Date.now()?"":` ${new Date(M.deadline).toLocaleString()}`]})]})]}),p.jsxs("div",{className:"flex flex-col md:items-end gap-6 shrink-0",children:[p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-tighter",children:""}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-4xl font-black text-indigo-600 tracking-tighter",children:M.points}),p.jsx("span",{className:"text-sm font-bold text-slate-400",children:"PTS"})]})]}),p.jsxs("button",{onClick:()=>N(M),disabled:m!==null||B||M.deadline!==void 0&&M.deadline<Date.now(),className:`px-10 py-5 rounded-2xl font-black transition-all flex items-center gap-3 shadow-xl ${B?"bg-slate-200 text-slate-500 cursor-not-allowed shadow-none":M.deadline!==void 0&&M.deadline<Date.now()?"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none":M.type==="normal"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-100":M.type==="challenge"?"bg-orange-600 hover:bg-orange-700 shadow-orange-100":"bg-rose-600 hover:bg-rose-700 shadow-rose-100"} text-white text-lg active:scale-95 disabled:active:scale-100`,children:[B?"":M.deadline!==void 0&&M.deadline<Date.now()?"":m===M.id?"...":"",!B&&(!M.deadline||M.deadline>=Date.now())&&p.jsx(WA,{size:20})]})]})]})},M.id)})})]})]})},cO=({user:i,onUserUpdate:t})=>{const[a,s]=P.useState(null),[o,u]=P.useState("all"),[f,m]=P.useState([]);P.useEffect(()=>{const T=tb(b=>{m(b)});return()=>T()},[]);const _=f.filter(T=>o==="all"||T.category===o),y=async()=>{if(i.role==="GUEST"){alert("");return}if(!a||i.points<a.price||a.stock<=0)return;const T={id:`red_${Date.now()}`,userId:i.id,productId:a.id,productName:a.name,pointsSpent:a.price,timestamp:Date.now(),status:"pending",qrCodeData:`AUTH_WORKSHOP_${Date.now()}_${a.id}`},b={...i,points:i.points-a.price};await aD(T),await jo(b),await pD(a.id,1),t(),s(null),alert("  QR Code")};return p.jsxs("div",{className:"space-y-8 pb-20",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),p.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:["all","food","electronic","ticket","other"].map(T=>p.jsx("button",{onClick:()=>u(T),className:`px-6 py-2.5 rounded-2xl text-sm font-bold transition-all ${o===T?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-300"}`,children:T==="all"?"":T==="food"?"":T==="electronic"?"":T==="ticket"?"":""},T))}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:_.map(T=>{const b=i.points>=T.price,S=T.stock<=0;return p.jsxs("div",{className:`bg-white rounded-[2rem] border border-slate-100 overflow-hidden shadow-sm hover:shadow-2xl transition-all flex flex-col group ${S?"opacity-75 grayscale-[0.5]":""}`,children:[p.jsxs("div",{className:"relative h-56 overflow-hidden",children:[p.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),p.jsx("div",{className:"absolute top-5 left-5",children:p.jsx("span",{className:"bg-white/90 backdrop-blur text-indigo-600 text-[10px] px-3 py-1.5 rounded-full font-black tracking-widest shadow-sm",children:T.category.toUpperCase()})}),S&&p.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:p.jsx("span",{className:"text-white font-black text-2xl rotate-12 border-4 border-white px-4 py-1",children:"SOLD OUT"})})]}),p.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[p.jsx("div",{className:"flex justify-between items-start mb-2",children:p.jsx("h3",{className:"font-black text-xl text-slate-800 leading-tight",children:T.name})}),p.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 leading-relaxed",children:T.description}),p.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-400 text-xs font-bold",children:[p.jsx(um,{size:14}),p.jsxs("span",{children:["",p.jsxs("span",{className:T.stock<=5?"text-red-500":"text-slate-600",children:[T.stock," "]})]})]}),p.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[p.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[p.jsx("span",{className:"text-2xl font-black",children:T.price.toLocaleString()}),p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:"pts"})]}),p.jsx("button",{onClick:()=>s(T),disabled:!b||S,className:`px-6 py-3 rounded-2xl font-black text-sm transition-all shadow-md ${S?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none":b?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200 active:scale-95":"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none"}`,children:S?"":""})]})]})]},T.id)})}),a&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-md w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-start mb-8",children:[p.jsx("div",{className:"bg-indigo-50 p-4 rounded-2xl text-indigo-600",children:p.jsx(k2,{size:28})}),p.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:p.jsx(il,{size:24})})]}),p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:""}),p.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:[" ",p.jsxs("span",{className:"font-black text-indigo-600",children:[a.price," "]}),"  ",p.jsxs("span",{className:"font-black text-slate-800",children:["",a.name,""]})," "]}),p.jsxs("div",{className:"bg-slate-50 rounded-[1.5rem] p-6 mb-8 border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[p.jsx("span",{className:"text-slate-500 font-medium",children:""}),p.jsx("span",{className:"font-bold text-slate-800",children:i.points.toLocaleString()})]}),p.jsxs("div",{className:"flex justify-between text-sm mb-5",children:[p.jsx("span",{className:"text-slate-500 font-medium",children:""}),p.jsxs("span",{className:"font-bold text-red-500",children:["-",a.price.toLocaleString()]})]}),p.jsxs("div",{className:"border-t border-slate-200 pt-5 flex justify-between",children:[p.jsx("span",{className:"font-black text-slate-700 text-lg",children:""}),p.jsx("span",{className:"font-black text-indigo-600 text-2xl",children:(i.points-a.price).toLocaleString()})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:y,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[p.jsx(Pc,{size:24}),""]}),p.jsx("button",{onClick:()=>s(null),className:"w-full bg-white border border-slate-200 text-slate-600 font-black py-4 rounded-[1.25rem] hover:bg-slate-50 transition-all",children:""})]})]})})]})},hO=({user:i})=>{const[t,a]=P.useState([]),[s,o]=P.useState(null);P.useEffect(()=>{const f=nb(m=>{a(m.filter(_=>_.userId===i.id))});return()=>f()},[i.id]);const u=f=>new Date(f).toLocaleString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:""}),p.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),t.length===0?p.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center border border-dashed border-slate-200",children:[p.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:p.jsx($c,{size:40})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),p.jsx("p",{className:"text-slate-400 mt-2",children:""})]}):p.jsx("div",{className:"space-y-4",children:t.map(f=>p.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 p-6 flex flex-col md:flex-row md:items-center justify-between gap-6 shadow-sm hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${f.status==="completed"?"bg-green-50 text-green-600":f.status==="pending"?"bg-indigo-50 text-indigo-600":"bg-red-50 text-red-600"}`,children:f.status==="completed"?p.jsx(s2,{size:24}):f.status==="pending"?p.jsx(Qc,{size:24}):p.jsx(e2,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:f.productName||""}),p.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-1",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx($A,{size:12})," ",u(f.timestamp||Date.now())]}),p.jsxs("span",{className:"font-bold text-indigo-600",children:["-",f.pointsSpent||0," "]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-indigo-100 text-indigo-700":"bg-red-100 text-red-700"}`,children:f.status==="completed"?"":f.status==="pending"?"":""}),f.status==="pending"&&p.jsxs("button",{onClick:()=>o(f),className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-lg shadow-indigo-100",children:[p.jsx(N2,{size:18}),""]})]})]},f.id))}),s&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-sm w-full p-10 shadow-2xl animate-in zoom-in-95 duration-200 text-center",children:[p.jsx("div",{className:"flex justify-end mb-4 -mt-4 -mr-4",children:p.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600 p-2",children:p.jsx(il,{size:28})})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:""}),p.jsx("p",{className:"text-slate-500 mb-8 text-sm",children:""}),p.jsx("div",{className:"aspect-square bg-white border-8 border-indigo-50 rounded-3xl flex items-center justify-center mb-8 shadow-inner overflow-hidden",children:p.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",className:"w-full h-full p-4",children:[p.jsx("rect",{x:"0",y:"0",width:"200",height:"200",fill:"white"}),p.jsx("path",{d:"M20 20h60v60h-60zM40 40h20v20h-20zM120 20h60v60h-60zM140 40h20v20h-20zM20 120h60v60h-60zM40 140h20v20h-20zM120 120h60v60h-60zM140 140h20v20h-20z",fill:"#4f46e5"}),p.jsx("path",{d:"M90 20h20v20h-20zM20 90h20v20h-20zM170 90h10v10h-10zM110 170h10v10h-10zM50 110h10v10h-10zM90 90h20v20h-20zM120 90h10v10h-10z",fill:"#4f46e5"}),p.jsx("rect",{x:"70",y:"70",width:"60",height:"60",rx:"10",fill:"#4f46e5",className:"opacity-20"})]})}),p.jsx("div",{className:"bg-slate-50 p-4 rounded-2xl text-slate-400 font-mono text-xs mb-8 tracking-widest uppercase",children:s.qrCodeData}),p.jsx("p",{className:"font-bold text-slate-800 mb-1",children:s.productName}),p.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",s.id]})]})})]})},fO=({onRefresh:i})=>{var hn;const[t,a]=P.useState("roster"),[s,o]=P.useState(!1),[u,f]=P.useState([]),[m,_]=P.useState([]),[y,T]=P.useState([]),[b,S]=P.useState([]),[N,M]=P.useState([]),[B,O]=P.useState([]),[W,at]=P.useState([]),[$,dt]=P.useState(""),[mt,yt]=P.useState(null),[I,w]=P.useState(""),[R,L]=P.useState(""),[V,z]=P.useState("normal"),[C,re]=P.useState(""),[ye,X]=P.useState(!1),[st,pt]=P.useState(""),[jt,qt]=P.useState("100"),[j,tt]=P.useState(""),[lt,ot]=P.useState(""),[Et,xt]=P.useState(!1),[Dt,_e]=P.useState(""),[ee,hi]=P.useState(""),[fi,qi]=P.useState(""),[Vn,Sn]=P.useState("other"),[ba,di]=P.useState(""),[xa,Fi]=P.useState(!1);P.useEffect(()=>{const H=SD(fn=>{_(fn.filter(Xt=>Xt.role===$n.STUDENT&&Xt.isApproved)),T(fn.filter(Xt=>Xt.role===$n.STUDENT&&!Xt.isApproved));const gi=fn.filter(Xt=>Xt.role===$n.STUDENT&&Xt.isApproved);gi.length>0&&!st&&pt(gi[0].id)}),It=nb(f),Pt=tb(S),Ki=WT(M),Ye=ED(O),rr=eb(at);return()=>{H(),It(),Pt(),Ki(),Ye(),rr()}},[st]);const Ee=async()=>{o(!0),setTimeout(()=>{const H=u.find(It=>It.status==="pending");H?yt(H):alert(""),o(!1)},2e3)},ve=async H=>{await sD(H,"completed"),yt(null),i(),alert(" ")},mi=async()=>{var Ki;const H=parseInt(jt);if(isNaN(H)||!st)return;const It=m.map(Ye=>Ye.id===st?{...Ye,points:Ye.points+H,totalEarned:H>0?Ye.totalEarned+H:Ye.totalEarned}:Ye);await WC(It),i();const Pt=(Ki=m.find(Ye=>Ye.id===st))==null?void 0:Ki.name;alert(`  ${Pt}  ${H} 
${j}`),qt("")},yl=async H=>{await eD(H),alert("")},nr=async H=>{confirm("/")&&await nD(H)},Fe=async H=>{if(H.preventDefault(),!Dt||!ee||!fi)return;const It={id:`prod_${Date.now()}`,name:Dt,price:parseInt(ee),stock:parseInt(fi),category:Vn,description:`${Vn==="food"?"":Vn==="electronic"?"":Vn==="ticket"?"":""}`,imageUrl:ba||"https://images.unsplash.com/photo-1553456558-aff63285bdd1?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"};await mD(It),Fi(!1),_e(""),hi(""),qi(""),di(""),Sn("other"),alert("")},Yi=async H=>{window.confirm("")&&await gD(H)},ps=async H=>{if(H.preventDefault(),!I||!R)return;const It={id:`m_${Date.now()}`,title:I,description:"",points:parseInt(R),type:V,isActive:!0,maxAttempts:1,deadline:C?new Date(C).getTime():void 0};await oD(It),X(!1),w(""),L(""),z("normal"),re(""),alert("")},gs=async H=>{window.confirm("")&&await bD(H)},pi=async()=>{lt&&(await yD({id:`r_${Date.now()}`,title:lt}),ot(""),xt(!1))},_l=async H=>{await _D(H)},ir=async H=>{await uD(H)},ar=u.filter(H=>{var It,Pt;return(((It=H.productName)==null?void 0:It.toLowerCase())||"").includes($.toLowerCase())||(((Pt=H.id)==null?void 0:Pt.toLowerCase())||"").includes($.toLowerCase())}),sr=H=>$s.reduce((It,Pt)=>H>=Pt.threshold?Pt:It,$s[0]);return p.jsxs("div",{className:"space-y-8 pb-20 animate-in fade-in duration-500",children:[p.jsx("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl font-black text-slate-800 flex items-center gap-4",children:[p.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:p.jsx(Xc,{size:32})}),""]}),p.jsx("p",{className:"text-slate-500 mt-2 italic font-medium",children:""})]})}),p.jsxs("div",{className:"flex bg-white p-2 rounded-3xl border border-slate-100 shadow-md overflow-x-auto gap-2",children:[p.jsxs("button",{onClick:()=>a("roster"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="roster"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(tw,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("approval"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="approval"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[p.jsx(hm,{size:18})," ",p.jsx("span",{children:""}),y.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:y.length})]}),p.jsxs("button",{onClick:()=>a("points"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="points"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(d2,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("products"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="products"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(um,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("scan"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="scan"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(__,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("history"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="history"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx($c,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("missions"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="missions"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(Jc,{size:18})," ",p.jsx("span",{children:""})]}),p.jsxs("button",{onClick:()=>a("wishes"),className:`flex items-center justify-center gap-3 py-4 px-6 rounded-2xl font-black transition-all whitespace-nowrap ${t==="wishes"?"bg-indigo-600 text-white shadow-xl shadow-indigo-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50 relative"}`,children:[p.jsx(zc,{size:18})," ",p.jsx("span",{children:""}),W.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-pink-500 rounded-full text-white text-[10px] flex items-center justify-center border-2 border-white",children:W.length})]})]}),t==="roster"&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4",children:m.map(H=>{const It=sr(H.totalEarned);return p.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[p.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${It.color} opacity-5 -translate-y-12 translate-x-12 rounded-full`}),p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-20 ${It.color}`}),p.jsx("img",{src:H.avatar,className:"w-24 h-24 rounded-full border-4 border-white shadow-2xl relative z-10 object-cover",alt:H.name}),p.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-2xl bg-white shadow-lg flex items-center justify-center text-xl z-20 border border-slate-50",children:It.icon})]}),p.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-1",children:H.name}),p.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] font-black text-white uppercase tracking-widest mb-6 ${It.color} shadow-sm`,children:It.name}),p.jsxs("div",{className:"w-full grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-2xl border border-indigo-50",children:[p.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-1",children:""}),p.jsx("p",{className:"text-xl font-black text-indigo-600",children:H.points.toLocaleString()})]}),p.jsxs("div",{className:"bg-amber-50/50 p-4 rounded-2xl border border-amber-50",children:[p.jsx("p",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest mb-1",children:""}),p.jsx("p",{className:"text-xl font-black text-amber-600",children:H.totalEarned.toLocaleString()})]})]})]}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex justify-between items-center",children:[p.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-tighter",children:["ID: ",H.id.replace("user_","")]}),p.jsxs("button",{onClick:()=>{pt(H.id),a("points")},className:"text-indigo-600 font-black text-xs hover:underline flex items-center gap-1",children:[p.jsx(E_,{size:14})," "]})]})]},H.id)})}),t==="points"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[p.jsx("div",{className:"w-20 h-20 bg-emerald-50 text-emerald-600 rounded-3xl flex items-center justify-center shadow-inner",children:p.jsx(E_,{size:40})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:""}),p.jsx("p",{className:"text-slate-400 font-medium",children:""})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),p.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map(H=>p.jsxs("button",{onClick:()=>pt(H.id),className:`flex flex-col items-center gap-3 p-4 rounded-3xl border-2 transition-all ${st===H.id?"border-indigo-600 bg-indigo-50 shadow-lg shadow-indigo-100":"border-slate-50 bg-slate-50/50 hover:bg-white hover:border-slate-200"}`,children:[p.jsx("img",{src:H.avatar,className:"w-12 h-12 rounded-full shadow-sm",alt:H.name}),p.jsx("span",{className:`font-black text-sm ${st===H.id?"text-indigo-600":"text-slate-600"}`,children:H.name})]},H.id))})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsxs("button",{onClick:()=>xt(!Et),className:"text-xs font-black text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[Et?p.jsx(il,{size:14}):p.jsx(xo,{size:14}),Et?"":""]})]}),Et?p.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border-2 border-indigo-100 mb-4 animate-in zoom-in-95 duration-200",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",placeholder:" (: )",value:lt,onChange:H=>ot(H.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold"}),p.jsx("button",{onClick:pi,className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 shadow-md",children:p.jsx(xo,{size:20})})]}),p.jsx("div",{className:"mt-4 space-y-2 max-h-40 overflow-y-auto pr-2",children:B.map(H=>p.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-100",children:[p.jsx("span",{className:"font-bold text-sm text-slate-700",children:H.title}),p.jsx("button",{onClick:()=>_l(H.id),className:"text-rose-500 hover:text-rose-600",children:p.jsx(Qd,{size:16})})]},H.id))})]}):p.jsxs("select",{value:j,onChange:H=>tt(H.target.value),className:"w-full p-5 bg-slate-50 border-2 border-transparent rounded-2xl focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none font-bold text-slate-700 shadow-inner",children:[p.jsx("option",{value:"",children:"..."}),B.length>0?B.map(H=>p.jsx("option",{value:H.title,children:H.title},H.id)):p.jsxs(p.Fragment,{children:[p.jsx("option",{children:""}),p.jsx("option",{children:""}),p.jsx("option",{children:" A++"}),p.jsx("option",{children:""})]}),p.jsx("option",{value:"other",children:""})]}),j==="other"&&!Et&&p.jsx("input",{type:"text",placeholder:"...",value:j==="other"?"":j,onChange:H=>tt(H.target.value),className:"w-full mt-4 p-5 bg-white border-2 border-indigo-200 rounded-2xl outline-none font-bold text-slate-700"})]})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:""}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",value:jt,onChange:H=>qt(H.target.value),className:"w-full p-8 text-5xl font-black bg-slate-50 border-2 border-transparent rounded-[2rem] focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-indigo-600 shadow-inner"}),p.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none",children:p.jsx("span",{className:"font-black text-slate-300 text-2xl uppercase tracking-tighter",children:"PTS"})})]})]}),p.jsxs("button",{onClick:mi,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-black py-8 rounded-[2rem] transition-all shadow-2xl shadow-emerald-200 flex items-center justify-center gap-4 text-2xl active:scale-95 group",children:[p.jsx(Pc,{size:32,className:"group-hover:scale-125 transition-transform"}),""]})]})]})]}),t==="approval"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx(hm,{className:"text-indigo-600"}),"",p.jsxs("span",{className:"bg-indigo-100 text-indigo-600 text-sm px-3 py-1 rounded-full",children:[y.length," "]})]}),p.jsx("div",{className:"space-y-4",children:y.length===0?p.jsx("div",{className:"text-center py-20 text-slate-400 font-bold",children:""}):y.map(H=>p.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-indigo-200 rounded-full flex items-center justify-center text-indigo-700 font-bold text-xl",children:H.name[0]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-black text-lg text-slate-800",children:H.name}),p.jsx("p",{className:"text-slate-500 text-sm font-bold",children:H.grade||""})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>yl(H.id),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2 rounded-xl font-bold transition-all shadow-lg shadow-emerald-100",children:""}),p.jsx("button",{onClick:()=>nr(H.id),className:"bg-slate-200 hover:bg-rose-500 hover:text-white text-slate-500 px-6 py-2 rounded-xl font-bold transition-all",children:""})]})]},H.id))})]}),t==="products"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[p.jsx(um,{className:"text-indigo-600"})," "]}),p.jsxs("button",{onClick:()=>Fi(!xa),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[p.jsx(xo,{size:20})," "]})]}),xa&&p.jsxs("form",{onSubmit:Fe,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[p.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsx("input",{placeholder:"",value:Dt,onChange:H=>_e(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsxs("select",{value:Vn,onChange:H=>Sn(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"food",children:""}),p.jsx("option",{value:"electronic",children:""}),p.jsx("option",{value:"ticket",children:""}),p.jsx("option",{value:"other",children:""})]}),p.jsx("input",{placeholder:" ()",value:ba,onChange:H=>di(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("input",{placeholder:" ()",type:"number",value:ee,onChange:H=>hi(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("input",{placeholder:"",type:"number",value:fi,onChange:H=>qi(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{type:"button",onClick:()=>Fi(!1),className:"px-4 py-2 text-slate-400 font-bold hover:text-slate-600",children:""}),p.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700",children:""})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(H=>p.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 flex gap-4 items-center group hover:shadow-lg transition-all bg-white relative",children:[p.jsx("img",{src:H.imageUrl,alt:H.name,className:"w-16 h-16 rounded-xl object-cover"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-slate-800",children:H.name}),p.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:H.category}),p.jsxs("p",{className:"text-xs text-slate-400 font-bold",children:[": ",H.stock," | : ",H.price]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${H.stock>0?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:H.stock>0?"ON SALE":"SOLD OUT"}),p.jsx("button",{onClick:()=>Yi(H.id),className:"p-1.5 text-slate-300 hover:text-rose-500 transition-colors",children:p.jsx(Qd,{size:16})})]})]},H.id))})]}),t==="scan"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-16 border border-slate-100 text-center shadow-xl animate-in fade-in",children:[p.jsx("div",{className:"bg-indigo-50 w-32 h-32 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 text-indigo-600 shadow-inner",children:p.jsx(__,{size:56})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:""}),p.jsx("p",{className:"text-slate-400 mb-12 font-medium max-w-md mx-auto leading-relaxed",children:" QR Code"}),p.jsx("button",{onClick:Ee,disabled:s,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white px-16 py-6 rounded-[2rem] font-black transition-all shadow-2xl shadow-indigo-200 inline-flex items-center justify-center gap-4 text-xl active:scale-95",children:s?"...":""})]}),t==="history"&&p.jsxs("section",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden animate-in fade-in",children:[p.jsxs("div",{className:"p-10 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[p.jsxs("h2",{className:"font-black text-2xl text-slate-800 flex items-center gap-3",children:[p.jsx($c,{className:"text-indigo-600"}),""]}),p.jsxs("div",{className:"relative",children:[p.jsx(D2,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),p.jsx("input",{type:"text",placeholder:"...",value:$,onChange:H=>dt(H.target.value),className:"pl-14 pr-8 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:bg-white focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 transition-all outline-none text-sm w-full md:w-96 shadow-inner font-bold"})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-slate-50/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),p.jsx("th",{className:"px-10 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:ar.map(H=>{var It;try{return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[p.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:p.jsx("span",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest ${H.status==="completed"?"bg-emerald-100 text-emerald-700":H.status==="pending"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:H.status==="completed"?"":H.status==="pending"?"":""})}),p.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-black text-slate-800",children:((It=m.find(Pt=>Pt.id===H.userId))==null?void 0:It.name)||""}),p.jsx("td",{className:"px-10 py-6 whitespace-nowrap font-bold text-slate-600",children:H.productName}),p.jsxs("td",{className:"px-10 py-6 whitespace-nowrap text-indigo-600 font-black",children:[H.pointsSpent," PTS"]}),p.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-slate-400 text-sm font-bold",children:H.timestamp?new Date(H.timestamp).toLocaleDateString():""}),p.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:H.status==="pending"?p.jsx("button",{onClick:()=>ve(H.id),className:"text-white bg-indigo-600 hover:bg-indigo-700 px-5 py-2.5 rounded-xl text-xs font-black transition-all shadow-xl shadow-indigo-100 active:scale-95",children:""}):p.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-black text-[10px] tracking-widest",children:[p.jsx(Pc,{size:14})," FINISHED"]})})]},H.id)}catch(Pt){return console.error("Row render error",Pt),null}})})]})})]}),t==="missions"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[p.jsx(Jc,{className:"text-indigo-600"})," "]}),p.jsxs("button",{onClick:()=>X(!ye),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[p.jsx(xo,{size:18})," "]})]}),ye&&p.jsxs("form",{onSubmit:ps,className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200 animate-in fade-in",children:[p.jsx("h3",{className:"font-black text-slate-700 mb-4",children:""}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsx("input",{placeholder:"",value:I,onChange:H=>w(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("input",{placeholder:"",type:"number",value:R,onChange:H=>L(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsxs("select",{value:V,onChange:H=>z(H.target.value),className:"p-3 rounded-xl border border-slate-200 font-bold outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"normal",children:""}),p.jsx("option",{value:"challenge",children:""}),p.jsx("option",{value:"hard",children:""})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-xl border border-slate-200",children:[p.jsx(Qc,{size:18,className:"text-slate-400"}),p.jsx("input",{type:"datetime-local",value:C,onChange:H=>re(H.target.value),className:"font-bold outline-none text-slate-600 w-full",placeholder:" ()"})]})]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 rounded-xl font-bold text-slate-400 hover:bg-slate-200 transition-all",children:""}),p.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-lg",children:""})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[N.length===0&&p.jsx("div",{className:"text-center py-12 text-slate-400 font-bold bg-slate-50 rounded-2xl border border-slate-100 border-dashed",children:""}),N.map(H=>p.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between p-6 rounded-2xl border transition-all ${H.isActive?"bg-white border-slate-100 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[p.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg shrink-0 ${H.type==="normal"?"bg-emerald-100 text-emerald-600":H.type==="challenge"?"bg-orange-100 text-orange-600":"bg-rose-100 text-rose-600"}`,children:H.type==="normal"?"N":H.type==="challenge"?"C":"H"}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-black text-lg text-slate-800 flex items-center gap-2",children:[H.title,!H.isActive&&p.jsx("span",{className:"text-[10px] bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full",children:""})]}),p.jsxs("p",{className:"text-slate-400 text-sm font-bold flex items-center gap-2",children:[p.jsxs("span",{className:"text-indigo-500",children:[H.points," PTS"]}),"  ",H.description,H.deadline&&p.jsxs("span",{className:"flex items-center gap-1 text-amber-500 ml-2",children:[p.jsx(Qc,{size:14})," ",new Date(H.deadline).toLocaleString()," "]})]})]})]}),p.jsx("button",{onClick:()=>ir(H.id),className:`px-4 py-2 rounded-xl font-black text-xs transition-all whitespace-nowrap ${H.isActive?"bg-rose-50 text-rose-600 hover:bg-rose-100":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100"}`,children:H.isActive?"":""})]},H.id))]})]}),t==="wishes"&&p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border border-slate-100 shadow-xl animate-in slide-in-from-bottom-4",children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx(zc,{className:"text-pink-500"})," "]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:W.length===0?p.jsx("div",{className:"col-span-full py-20 text-center text-slate-400 font-bold",children:""}):W.map(H=>{var It;return p.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 relative group",children:[p.jsx("button",{onClick:()=>gs(H.id),className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:shadow-md transition-all opacity-0 group-hover:opacity-100",children:p.jsx(Qd,{size:18})}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("img",{src:H.userAvatar,className:"w-12 h-12 rounded-full border-2 border-white shadow-sm",alt:H.userName}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black text-slate-800",children:H.userName}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:new Date(H.timestamp).toLocaleString()})]})]}),p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-2",children:["",H.itemName]}),p.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed italic",children:['"',H.description,'"']}),p.jsxs("div",{className:"flex items-center gap-2 text-pink-500 font-black text-sm",children:[p.jsx(zc,{size:16,fill:"currentColor"})," ",((It=H.likedBy)==null?void 0:It.length)||0," "]})]},H.id)})})]}),s&&p.jsxs("div",{className:"fixed inset-0 z-[150] bg-slate-900/95 backdrop-blur-xl flex flex-col items-center justify-center p-8",children:[p.jsxs("div",{className:"relative w-full max-w-lg aspect-square border-8 border-white/5 rounded-[5rem] overflow-hidden shadow-[0_0_100px_rgba(79,70,229,0.3)]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-900/20 to-slate-900 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(I2,{size:140,className:"mx-auto mb-10 animate-pulse text-indigo-400"}),p.jsx("p",{className:"text-3xl font-black text-white mb-4 tracking-tight",children:"..."}),p.jsx("p",{className:"text-indigo-300 font-bold tracking-widest uppercase text-xs",children:"AI Computer Vision Active"})]})}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-indigo-400 shadow-[0_0_50px_rgba(129,140,248,1)] animate-scan-line"})]}),p.jsxs("button",{onClick:()=>o(!1),className:"mt-16 bg-white/5 hover:bg-white/10 text-white px-12 py-5 rounded-[2rem] font-black transition-all border border-white/10 flex items-center gap-4 text-lg backdrop-blur",children:[p.jsx(il,{size:24})," "]}),p.jsx("style",{children:`
            @keyframes scan-line {
              0% { top: 0% }
              100% { top: 100% }
            }
            .animate-scan-line {
              animation: scan-line 3s linear infinite;
            }
          `})]}),mt&&p.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-2xl",children:p.jsxs("div",{className:"bg-white rounded-[4rem] max-w-md w-full p-12 shadow-[0_0_80px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-200",children:[p.jsx("div",{className:"bg-emerald-50 w-24 h-24 rounded-[2rem] flex items-center justify-center text-emerald-600 mb-10 mx-auto shadow-inner",children:p.jsx(Xc,{size:48})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 text-center mb-10 tracking-tight",children:""}),p.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-8 space-y-6 mb-12 border border-slate-100 shadow-inner",children:[p.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[p.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),p.jsx("span",{className:"font-black text-slate-800 text-xl",children:(hn=m.find(H=>H.id===mt.userId))==null?void 0:hn.name})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200/50",children:[p.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),p.jsx("span",{className:"font-black text-slate-800 text-xl",children:mt.productName})]}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:""}),p.jsxs("span",{className:"font-black text-indigo-600 text-2xl",children:[mt.pointsSpent," ",p.jsx("span",{className:"text-xs font-bold text-indigo-400",children:"PTS"})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("button",{onClick:()=>ve(mt.id),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-6 rounded-2xl transition-all shadow-2xl shadow-indigo-100 flex items-center justify-center gap-4 text-xl active:scale-95",children:[p.jsx(Pc,{size:28}),""]}),p.jsx("button",{onClick:()=>yt(null),className:"w-full bg-slate-100 text-slate-600 font-bold py-5 rounded-2xl hover:bg-slate-200 transition-all text-lg",children:""})]})]})})]})},dO=({user:i})=>{const[t,a]=P.useState([]),[s,o]=P.useState(!1),[u,f]=P.useState(""),[m,_]=P.useState("");P.useEffect(()=>{const S=eb(N=>{a(N.sort((M,B)=>B.timestamp-M.timestamp))});return()=>S()},[]);const y=async S=>{if(S.preventDefault(),!u.trim()||!m.trim())return;const N={id:`wish_${Date.now()}`,userId:i.id,userName:i.name,userAvatar:i.avatar,itemName:u,description:m,timestamp:Date.now(),likedBy:[]};await TD(N),o(!1),f(""),_("")},T=async S=>{await xD(S,i.id)},b=t.some(S=>S.userId===i.id);return p.jsxs("div",{className:"space-y-8 pb-20",children:[p.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[p.jsx(cm,{className:"text-yellow-500"}),""]}),p.jsx("p",{className:"text-slate-500 mt-1",children:""})]}),p.jsxs("button",{onClick:()=>{b?alert(""):o(!0)},className:`px-6 py-3 rounded-2xl font-bold shadow-lg flex items-center gap-2 transition-all hover:scale-105 ${b?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white shadow-indigo-100 hover:bg-indigo-700"}`,children:[p.jsx(xo,{size:20}),p.jsx("span",{children:b?"":""})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(S=>{var N,M,B,O;return p.jsxs("div",{className:"bg-white rounded-[2rem] p-6 border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col relative overflow-hidden group",children:[p.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-yellow-50 rounded-full blur-2xl group-hover:bg-yellow-100 transition-colors"}),p.jsxs("div",{className:"flex items-center gap-3 mb-4 z-10",children:[p.jsx("img",{src:S.userAvatar,alt:S.userName,className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-slate-700",children:S.userName}),p.jsx("p",{className:"text-xs text-slate-400",children:new Date(S.timestamp).toLocaleDateString()})]})]}),p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2 z-10",children:S.itemName}),p.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-1 z-10",children:S.description}),p.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50 z-10",children:p.jsxs("button",{onClick:()=>T(S.id),className:`flex items-center gap-2 transition-colors group/like ${(N=S.likedBy)!=null&&N.includes(i.id)?"text-pink-500":"text-slate-400 hover:text-pink-500"}`,children:[p.jsx("div",{className:`p-2 rounded-full transition-colors ${(M=S.likedBy)!=null&&M.includes(i.id)?"bg-pink-50":"hover:bg-pink-50"}`,children:p.jsx(q2,{size:18,className:(B=S.likedBy)!=null&&B.includes(i.id)?"fill-pink-500":""})}),p.jsxs("span",{className:"font-bold text-sm",children:[((O=S.likedBy)==null?void 0:O.length)||0," "]})]})})]},S.id)}),t.length===0&&p.jsxs("div",{className:"col-span-full py-20 text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:p.jsx(zc,{size:40})}),p.jsx("p",{className:"text-slate-400 font-bold",children:""})]})]}),s&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] max-w-lg w-full p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:[p.jsx(cm,{className:"text-indigo-500"}),""]}),p.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 bg-slate-50 p-2 rounded-full",children:p.jsx(il,{size:24})})]}),p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),p.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:"AirPods Pro...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all placeholder:font-medium",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-bold mb-2 ml-1",children:""}),p.jsx("textarea",{value:m,onChange:S=>_(S.target.value),placeholder:"...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all h-32 resize-none placeholder:font-medium",required:!0})]}),p.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-5 rounded-[1.25rem] transition-all shadow-xl shadow-indigo-100 flex items-center justify-center gap-3 text-lg",children:[p.jsx(M2,{size:24}),""]})]})]})})]})},mO=({onLogin:i})=>{const[t,a]=P.useState("student"),[s,o]=P.useState(!1),[u,f]=P.useState(""),[m,_]=P.useState(""),[y,T]=P.useState(""),[b,S]=P.useState(""),[N,M]=P.useState(""),B=async $=>{$.preventDefault();const mt=(await JT()).find(yt=>yt.name===u);if(!mt){alert("");return}if(mt.password&&mt.password!==m){alert("");return}if(!mt.isApproved){alert("");return}await jo(mt),alert(""),i(mt)},O=async $=>{$.preventDefault(),await tD(u,m,y)?(alert(""),o(!1),_("")):alert("")},W=$=>{$.preventDefault(),b==="0957999"?(jo(RE),alert(""),i(RE)):alert("")},at=$=>{$.preventDefault(),N.toLowerCase()==="aaa"?(jo(IE),alert(""),i(IE)):alert("")};return p.jsx("div",{className:"min-h-screen bg-[#f8fafc] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white max-w-4xl w-full rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[p.jsxs("div",{className:"bg-indigo-600 p-12 text-white md:w-5/12 flex flex-col justify-between relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500 rounded-full -translate-y-1/2 translate-x-1/3 opacity-50"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-700 rounded-full translate-y-1/3 -translate-x-1/3 opacity-50"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-2xl flex items-center justify-center backdrop-blur-sm mb-6",children:p.jsx(u1,{size:32})}),p.jsx("h1",{className:"text-4xl font-black tracking-tight mb-4",children:""}),p.jsx("p",{className:"text-indigo-100 font-medium text-lg leading-relaxed",children:""})]}),p.jsx("div",{className:"relative z-10 text-sm font-medium text-indigo-200",children:" 2026 Workshop System"})]}),p.jsxs("div",{className:"p-8 md:p-12 md:w-7/12 flex flex-col",children:[!s&&p.jsxs("div",{className:"flex gap-2 mb-10 overflow-x-auto pb-2",children:[p.jsxs("button",{onClick:()=>a("student"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="student"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[p.jsx(Z2,{size:18})," "]}),p.jsxs("button",{onClick:()=>a("admin"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="admin"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[p.jsx(Xc,{size:18})," "]}),p.jsxs("button",{onClick:()=>a("guest"),className:`flex-1 min-w-[100px] py-3 rounded-xl font-bold text-sm transition-all flex flex-col items-center gap-1 ${t==="guest"?"bg-indigo-50 text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[p.jsx(o2,{size:18})," "]})]}),!s&&t==="student"&&p.jsxs("form",{onSubmit:B,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),p.jsx("p",{className:"text-slate-400",children:""})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"text",value:u,onChange:$=>f($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"password",value:m,onChange:$=>_($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:""})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-indigo-500 font-bold hover:underline",children:""})})]}),s&&p.jsxs("form",{onSubmit:O,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),p.jsx("p",{className:"text-slate-400",children:""})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"text",value:u,onChange:$=>f($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"password",value:m,onChange:$=>_($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsxs("select",{value:y,onChange:$=>T($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",children:[p.jsx("option",{children:""}),p.jsx("option",{children:""}),p.jsx("option",{children:""})]})]})]}),p.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2",children:[p.jsx(hm,{size:20}),""]}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-slate-400 font-bold hover:text-slate-600",children:""})})]}),!s&&t==="admin"&&p.jsxs("form",{onSubmit:W,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),p.jsx("p",{className:"text-slate-400",children:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"password",value:b,onChange:$=>S($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]}),!s&&t==="guest"&&p.jsxs("form",{onSubmit:at,className:"space-y-6 flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-1",children:""}),p.jsx("p",{className:"text-slate-400",children:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:""}),p.jsx("input",{type:"text",value:N,onChange:$=>M($.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-slate-700 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all",placeholder:"..."})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl shadow-indigo-100 transition-all active:scale-95",children:""})]})]})]})})},pO=({user:i,currentRank:t,onSwitchUser:a})=>{const s=fs(),[o,u]=P.useState(!1),f=[{path:"/",label:"",icon:y2},{path:"/shop",label:"",icon:U2},{path:"/wishes",label:"",icon:cm},{path:"/history",label:"",icon:$c}];return i.role===$n.ADMIN&&f.push({path:"/admin",label:"",icon:Xc}),p.jsxs("nav",{className:"bg-white border-r border-slate-200 w-full md:w-64 md:fixed md:inset-y-0 h-auto md:h-full z-50 shadow-sm",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg text-white",children:p.jsx(u1,{size:20})}),p.jsx("span",{className:"text-xl font-bold text-slate-800 tracking-tight",children:""})]}),p.jsx("button",{onClick:()=>u(!o),className:"md:hidden text-slate-600",children:o?p.jsx(il,{}):p.jsx(x2,{})})]}),p.jsx("div",{className:`${o?"block":"hidden"} md:block p-4 space-y-2`,children:f.map(m=>{const _=m.icon,y=s.pathname===m.path;return p.jsxs(Fm,{to:m.path,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${y?"bg-indigo-50 text-indigo-700 font-bold shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:[p.jsx(_,{size:20}),p.jsx("span",{children:m.label})]},m.path)})}),p.jsxs("div",{className:`${o?"block":"hidden"} md:block absolute bottom-0 w-full p-6 border-t border-slate-100 bg-white`,children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("img",{src:i.avatar,className:"w-10 h-10 rounded-full border-2 border-slate-100 object-cover",alt:"avatar"}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-bold text-slate-800 truncate text-sm",children:i.name}),p.jsxs("div",{className:`text-[9px] px-2 py-0.5 rounded-full inline-block text-white font-black ${t.color}`,children:[t.icon," ",t.name]})]})]}),p.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-800 transition-colors text-xs font-bold w-full bg-indigo-50 p-2 rounded-lg justify-center mb-2",children:[p.jsx(E2,{size:14}),p.jsx("span",{children:""})]})]})]})},gO=()=>{const[i,t]=P.useState(CE()),a=i?$s.reduce((u,f)=>i.totalEarned>=f.threshold?f:u,$s[0]):$s[0],s=()=>{const u=CE();u&&t(u)},o=()=>{iD(),t(null)};return i?p.jsx(MA,{children:p.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-[#fbfcfd]",children:[p.jsx(pO,{user:i,currentRank:a,onSwitchUser:o}),p.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:p.jsx("div",{className:"max-w-6xl mx-auto",children:p.jsxs(uA,{children:[p.jsx(Kr,{path:"/",element:p.jsx(uO,{user:i,rank:a,onUserUpdate:s})}),p.jsx(Kr,{path:"/shop",element:p.jsx(cO,{user:i,onUserUpdate:s})}),p.jsx(Kr,{path:"/wishes",element:p.jsx(dO,{user:i})}),p.jsx(Kr,{path:"/history",element:p.jsx(hO,{user:i})}),p.jsx(Kr,{path:"/admin",element:p.jsx(fO,{onRefresh:s})})]})})})]})}):p.jsx(mO,{onLogin:t})},xb=document.getElementById("root");if(!xb)throw new Error("Could not find root element to mount to");const yO=hS.createRoot(xb);yO.render(p.jsx(iS.StrictMode,{children:p.jsx(gO,{})}));
