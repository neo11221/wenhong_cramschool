# 文宏學習工坊：維護與交接指南

這份指南旨在協助您在系統「賣出」或長期維護時，確保功能持續可用且管理權限完整轉交。

## 1. 服務帳號權限管理
系統依賴三個外部服務，建議將這些帳號轉交給買家，或協助買家重新設定。

### Firebase (資料庫)
*   **用途**: 儲存所有學員點數、商品、許願資料。
*   **注意**: 
    *   目前使用 **Spark (免費)** 計畫，只要不綁定信用卡，絕不會扣費。
    *   **交接**: 到 Firebase Console 的「專案設定」->「使用者與權限」，將買家的 Google 帳號加入為「擁有者」。
*   **備份方式**: 建議每月到 Firestore 頁面，手動截圖或查看資料（免費版不支援一鍵導出為 JSON，但可透過擴展工具達成）。

### GitHub (存放代碼與網頁)
*   **用途**: 託管代碼、處理 GitHub Pages 自動部署。
*   **注意**: 
    *   確保 GitHub Actions 中的 Secrets 是正確的，包含 Firebase Key 與 Gemini Key。
    *   **網址更換**: 如果買家要換網址，需修改 `vite.config.ts` 中的 `base` 設定，並同步修改 `App.tsx` 中的 Logo 路徑。

### Gemini API (AI 語錄)
*   **用途**: 生成每日鼓勵語。
*   **注意**: 免費版每分鐘限制 15 次請求。若買家發現 AI 不動了，可能是 Key 失效，需至 [Google AI Studio](https://aistudio.google.com/) 重新生成。

---

## 2. 營運注意事項與擴展限制

### 學生併發數 (Concurrent Connections)
*   **Spark 計畫限制**: 同時在線人數上限為 **100 人**。
*   **建議**: 只要不是全補習班在同一秒鐘一起按下重新整理，這對 150 名學員來說非常足夠。若未來人數翻倍，建議升級為 Blaze 計畫（按量付費，通常在小規模下仍是 0 元）。

### 圖片上傳限制
*   **限制**: 目前程式碼限制單張圖片 **500KB**。
*   **原因**: 為了維持資料庫讀取速度與節省空間。請務必告知買家不要隨意調大，以免網頁加載過慢。

---

## 3. 安全性風險與建議

1.  **管理員密碼**: 密碼 `'0957999'` 硬編碼在前端。若學生具備技術背景，可從源碼中讀出。
    *   *未來改進*: 串接 Firebase Authentication，為每位老師設定專屬帳號。
2.  **API Key 曝露**: API Key 放在前端是靜態網頁的特性，風險在於額度可能被他人盜用冒領。
    *   *對策*: 在 Google Cloud Console 中針對 API Key 設定「網域限制」，僅允許您的 GitHub Pages 網址調用。

---

## 4. 功能更新流程
1.  修改本地代碼。
2.  執行 `npm run dev` 測試。
3.  `git commit` 並 `push` 到 GitHub。
4.  等待 1-2 分鐘 GitHub Actions 自動完成編譯部署。

---

> [!IMPORTANT]
> **交接清單チェック：**
> - [ ] 將 Firebase Project 擁有者轉給買家。
> - [ ] 提供 GitHub 倉庫存取權或代碼。
> - [ ] 交付當前的環境變數 (.env.local) 備份。
> - [ ] 示範如何在管理頁面直接修改學員點數。
